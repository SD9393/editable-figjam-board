(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();function h_(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Mu={exports:{}},Cs={},Lu={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp;function p_(){if(rp)return he;rp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),x=Symbol.iterator;function _(N){return N===null||typeof N!="object"?null:(N=x&&N[x]||N["@@iterator"],typeof N=="function"?N:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,j={};function H(N,P,ae){this.props=N,this.context=P,this.refs=j,this.updater=ae||D}H.prototype.isReactComponent={},H.prototype.setState=function(N,P){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,P,"setState")},H.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function le(){}le.prototype=H.prototype;function ce(N,P,ae){this.props=N,this.context=P,this.refs=j,this.updater=ae||D}var ve=ce.prototype=new le;ve.constructor=ce,M(ve,H.prototype),ve.isPureReactComponent=!0;var Se=Array.isArray,it=Object.prototype.hasOwnProperty,Ae={current:null},Ze={key:!0,ref:!0,__self:!0,__source:!0};function st(N,P,ae){var de,_e={},oe=null,Ee=null;if(P!=null)for(de in P.ref!==void 0&&(Ee=P.ref),P.key!==void 0&&(oe=""+P.key),P)it.call(P,de)&&!Ze.hasOwnProperty(de)&&(_e[de]=P[de]);var me=arguments.length-2;if(me===1)_e.children=ae;else if(1<me){for(var be=Array(me),Ye=0;Ye<me;Ye++)be[Ye]=arguments[Ye+2];_e.children=be}if(N&&N.defaultProps)for(de in me=N.defaultProps,me)_e[de]===void 0&&(_e[de]=me[de]);return{$$typeof:i,type:N,key:oe,ref:Ee,props:_e,_owner:Ae.current}}function re(N,P){return{$$typeof:i,type:N.type,key:P,ref:N.ref,props:N.props,_owner:N._owner}}function ke(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function je(N){var P={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ae){return P[ae]})}var ye=/\/+/g;function qe(N,P){return typeof N=="object"&&N!==null&&N.key!=null?je(""+N.key):P.toString(36)}function Ft(N,P,ae,de,_e){var oe=typeof N;(oe==="undefined"||oe==="boolean")&&(N=null);var Ee=!1;if(N===null)Ee=!0;else switch(oe){case"string":case"number":Ee=!0;break;case"object":switch(N.$$typeof){case i:case e:Ee=!0}}if(Ee)return Ee=N,_e=_e(Ee),N=de===""?"."+qe(Ee,0):de,Se(_e)?(ae="",N!=null&&(ae=N.replace(ye,"$&/")+"/"),Ft(_e,P,ae,"",function(Ye){return Ye})):_e!=null&&(ke(_e)&&(_e=re(_e,ae+(!_e.key||Ee&&Ee.key===_e.key?"":(""+_e.key).replace(ye,"$&/")+"/")+N)),P.push(_e)),1;if(Ee=0,de=de===""?".":de+":",Se(N))for(var me=0;me<N.length;me++){oe=N[me];var be=de+qe(oe,me);Ee+=Ft(oe,P,ae,be,_e)}else if(be=_(N),typeof be=="function")for(N=be.call(N),me=0;!(oe=N.next()).done;)oe=oe.value,be=de+qe(oe,me++),Ee+=Ft(oe,P,ae,be,_e);else if(oe==="object")throw P=String(N),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.");return Ee}function kt(N,P,ae){if(N==null)return N;var de=[],_e=0;return Ft(N,de,"","",function(oe){return P.call(ae,oe,_e++)}),de}function $e(N){if(N._status===-1){var P=N._result;P=P(),P.then(function(ae){(N._status===0||N._status===-1)&&(N._status=1,N._result=ae)},function(ae){(N._status===0||N._status===-1)&&(N._status=2,N._result=ae)}),N._status===-1&&(N._status=0,N._result=P)}if(N._status===1)return N._result.default;throw N._result}var Ue={current:null},U={transition:null},Z={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:U,ReactCurrentOwner:Ae};function V(){throw Error("act(...) is not supported in production builds of React.")}return he.Children={map:kt,forEach:function(N,P,ae){kt(N,function(){P.apply(this,arguments)},ae)},count:function(N){var P=0;return kt(N,function(){P++}),P},toArray:function(N){return kt(N,function(P){return P})||[]},only:function(N){if(!ke(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},he.Component=H,he.Fragment=r,he.Profiler=l,he.PureComponent=ce,he.StrictMode=s,he.Suspense=m,he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,he.act=V,he.cloneElement=function(N,P,ae){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var de=M({},N.props),_e=N.key,oe=N.ref,Ee=N._owner;if(P!=null){if(P.ref!==void 0&&(oe=P.ref,Ee=Ae.current),P.key!==void 0&&(_e=""+P.key),N.type&&N.type.defaultProps)var me=N.type.defaultProps;for(be in P)it.call(P,be)&&!Ze.hasOwnProperty(be)&&(de[be]=P[be]===void 0&&me!==void 0?me[be]:P[be])}var be=arguments.length-2;if(be===1)de.children=ae;else if(1<be){me=Array(be);for(var Ye=0;Ye<be;Ye++)me[Ye]=arguments[Ye+2];de.children=me}return{$$typeof:i,type:N.type,key:_e,ref:oe,props:de,_owner:Ee}},he.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:u,_context:N},N.Consumer=N},he.createElement=st,he.createFactory=function(N){var P=st.bind(null,N);return P.type=N,P},he.createRef=function(){return{current:null}},he.forwardRef=function(N){return{$$typeof:h,render:N}},he.isValidElement=ke,he.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:$e}},he.memo=function(N,P){return{$$typeof:y,type:N,compare:P===void 0?null:P}},he.startTransition=function(N){var P=U.transition;U.transition={};try{N()}finally{U.transition=P}},he.unstable_act=V,he.useCallback=function(N,P){return Ue.current.useCallback(N,P)},he.useContext=function(N){return Ue.current.useContext(N)},he.useDebugValue=function(){},he.useDeferredValue=function(N){return Ue.current.useDeferredValue(N)},he.useEffect=function(N,P){return Ue.current.useEffect(N,P)},he.useId=function(){return Ue.current.useId()},he.useImperativeHandle=function(N,P,ae){return Ue.current.useImperativeHandle(N,P,ae)},he.useInsertionEffect=function(N,P){return Ue.current.useInsertionEffect(N,P)},he.useLayoutEffect=function(N,P){return Ue.current.useLayoutEffect(N,P)},he.useMemo=function(N,P){return Ue.current.useMemo(N,P)},he.useReducer=function(N,P,ae){return Ue.current.useReducer(N,P,ae)},he.useRef=function(N){return Ue.current.useRef(N)},he.useState=function(N){return Ue.current.useState(N)},he.useSyncExternalStore=function(N,P,ae){return Ue.current.useSyncExternalStore(N,P,ae)},he.useTransition=function(){return Ue.current.useTransition()},he.version="18.3.1",he}var ip;function Ac(){return ip||(ip=1,Lu.exports=p_()),Lu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp;function g_(){if(sp)return Cs;sp=1;var i=Ac(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function f(h,m,y){var E,x={},_=null,D=null;y!==void 0&&(_=""+y),m.key!==void 0&&(_=""+m.key),m.ref!==void 0&&(D=m.ref);for(E in m)s.call(m,E)&&!u.hasOwnProperty(E)&&(x[E]=m[E]);if(h&&h.defaultProps)for(E in m=h.defaultProps,m)x[E]===void 0&&(x[E]=m[E]);return{$$typeof:e,type:h,key:_,ref:D,props:x,_owner:l.current}}return Cs.Fragment=r,Cs.jsx=f,Cs.jsxs=f,Cs}var op;function m_(){return op||(op=1,Mu.exports=g_()),Mu.exports}var p=m_(),ul={},Fu={exports:{}},At={},zu={exports:{}},Bu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lp;function y_(){return lp||(lp=1,(function(i){function e(U,Z){var V=U.length;U.push(Z);e:for(;0<V;){var N=V-1>>>1,P=U[N];if(0<l(P,Z))U[N]=Z,U[V]=P,V=N;else break e}}function r(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var Z=U[0],V=U.pop();if(V!==Z){U[0]=V;e:for(var N=0,P=U.length,ae=P>>>1;N<ae;){var de=2*(N+1)-1,_e=U[de],oe=de+1,Ee=U[oe];if(0>l(_e,V))oe<P&&0>l(Ee,_e)?(U[N]=Ee,U[oe]=V,N=oe):(U[N]=_e,U[de]=V,N=de);else if(oe<P&&0>l(Ee,V))U[N]=Ee,U[oe]=V,N=oe;else break e}}return Z}function l(U,Z){var V=U.sortIndex-Z.sortIndex;return V!==0?V:U.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();i.unstable_now=function(){return f.now()-h}}var m=[],y=[],E=1,x=null,_=3,D=!1,M=!1,j=!1,H=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,ce=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ve(U){for(var Z=r(y);Z!==null;){if(Z.callback===null)s(y);else if(Z.startTime<=U)s(y),Z.sortIndex=Z.expirationTime,e(m,Z);else break;Z=r(y)}}function Se(U){if(j=!1,ve(U),!M)if(r(m)!==null)M=!0,$e(it);else{var Z=r(y);Z!==null&&Ue(Se,Z.startTime-U)}}function it(U,Z){M=!1,j&&(j=!1,le(st),st=-1),D=!0;var V=_;try{for(ve(Z),x=r(m);x!==null&&(!(x.expirationTime>Z)||U&&!je());){var N=x.callback;if(typeof N=="function"){x.callback=null,_=x.priorityLevel;var P=N(x.expirationTime<=Z);Z=i.unstable_now(),typeof P=="function"?x.callback=P:x===r(m)&&s(m),ve(Z)}else s(m);x=r(m)}if(x!==null)var ae=!0;else{var de=r(y);de!==null&&Ue(Se,de.startTime-Z),ae=!1}return ae}finally{x=null,_=V,D=!1}}var Ae=!1,Ze=null,st=-1,re=5,ke=-1;function je(){return!(i.unstable_now()-ke<re)}function ye(){if(Ze!==null){var U=i.unstable_now();ke=U;var Z=!0;try{Z=Ze(!0,U)}finally{Z?qe():(Ae=!1,Ze=null)}}else Ae=!1}var qe;if(typeof ce=="function")qe=function(){ce(ye)};else if(typeof MessageChannel<"u"){var Ft=new MessageChannel,kt=Ft.port2;Ft.port1.onmessage=ye,qe=function(){kt.postMessage(null)}}else qe=function(){H(ye,0)};function $e(U){Ze=U,Ae||(Ae=!0,qe())}function Ue(U,Z){st=H(function(){U(i.unstable_now())},Z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(U){U.callback=null},i.unstable_continueExecution=function(){M||D||(M=!0,$e(it))},i.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<U?Math.floor(1e3/U):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_getFirstCallbackNode=function(){return r(m)},i.unstable_next=function(U){switch(_){case 1:case 2:case 3:var Z=3;break;default:Z=_}var V=_;_=Z;try{return U()}finally{_=V}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(U,Z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var V=_;_=U;try{return Z()}finally{_=V}},i.unstable_scheduleCallback=function(U,Z,V){var N=i.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?N+V:N):V=N,U){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=V+P,U={id:E++,callback:Z,priorityLevel:U,startTime:V,expirationTime:P,sortIndex:-1},V>N?(U.sortIndex=V,e(y,U),r(m)===null&&U===r(y)&&(j?(le(st),st=-1):j=!0,Ue(Se,V-N))):(U.sortIndex=P,e(m,U),M||D||(M=!0,$e(it))),U},i.unstable_shouldYield=je,i.unstable_wrapCallback=function(U){var Z=_;return function(){var V=_;_=Z;try{return U.apply(this,arguments)}finally{_=V}}}})(Bu)),Bu}var ap;function v_(){return ap||(ap=1,zu.exports=y_()),zu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var up;function __(){if(up)return At;up=1;var i=Ac(),e=v_();function r(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function u(t,n){f(t,n),f(t+"Capture",n)}function f(t,n){for(l[t]=n,t=0;t<n.length;t++)s.add(n[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},x={};function _(t){return m.call(x,t)?!0:m.call(E,t)?!1:y.test(t)?x[t]=!0:(E[t]=!0,!1)}function D(t,n,o,a){if(o!==null&&o.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function M(t,n,o,a){if(n===null||typeof n>"u"||D(t,n,o,a))return!0;if(a)return!1;if(o!==null)switch(o.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function j(t,n,o,a,c,d,g){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=o,this.propertyName=t,this.type=n,this.sanitizeURL=d,this.removeEmptyString=g}var H={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){H[t]=new j(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];H[n]=new j(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){H[t]=new j(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){H[t]=new j(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){H[t]=new j(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){H[t]=new j(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){H[t]=new j(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){H[t]=new j(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){H[t]=new j(t,5,!1,t.toLowerCase(),null,!1,!1)});var le=/[\-:]([a-z])/g;function ce(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(le,ce);H[n]=new j(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(le,ce);H[n]=new j(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(le,ce);H[n]=new j(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){H[t]=new j(t,1,!1,t.toLowerCase(),null,!1,!1)}),H.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){H[t]=new j(t,1,!1,t.toLowerCase(),null,!0,!0)});function ve(t,n,o,a){var c=H.hasOwnProperty(n)?H[n]:null;(c!==null?c.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(M(n,o,c,a)&&(o=null),a||c===null?_(n)&&(o===null?t.removeAttribute(n):t.setAttribute(n,""+o)):c.mustUseProperty?t[c.propertyName]=o===null?c.type===3?!1:"":o:(n=c.attributeName,a=c.attributeNamespace,o===null?t.removeAttribute(n):(c=c.type,o=c===3||c===4&&o===!0?"":""+o,a?t.setAttributeNS(a,n,o):t.setAttribute(n,o))))}var Se=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,it=Symbol.for("react.element"),Ae=Symbol.for("react.portal"),Ze=Symbol.for("react.fragment"),st=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),ke=Symbol.for("react.provider"),je=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),qe=Symbol.for("react.suspense"),Ft=Symbol.for("react.suspense_list"),kt=Symbol.for("react.memo"),$e=Symbol.for("react.lazy"),Ue=Symbol.for("react.offscreen"),U=Symbol.iterator;function Z(t){return t===null||typeof t!="object"?null:(t=U&&t[U]||t["@@iterator"],typeof t=="function"?t:null)}var V=Object.assign,N;function P(t){if(N===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);N=n&&n[1]||""}return`
`+N+t}var ae=!1;function de(t,n){if(!t||ae)return"";ae=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(b){var a=b}Reflect.construct(t,[],n)}else{try{n.call()}catch(b){a=b}t.call(n.prototype)}else{try{throw Error()}catch(b){a=b}t()}}catch(b){if(b&&a&&typeof b.stack=="string"){for(var c=b.stack.split(`
`),d=a.stack.split(`
`),g=c.length-1,v=d.length-1;1<=g&&0<=v&&c[g]!==d[v];)v--;for(;1<=g&&0<=v;g--,v--)if(c[g]!==d[v]){if(g!==1||v!==1)do if(g--,v--,0>v||c[g]!==d[v]){var w=`
`+c[g].replace(" at new "," at ");return t.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",t.displayName)),w}while(1<=g&&0<=v);break}}}finally{ae=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?P(t):""}function _e(t){switch(t.tag){case 5:return P(t.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return t=de(t.type,!1),t;case 11:return t=de(t.type.render,!1),t;case 1:return t=de(t.type,!0),t;default:return""}}function oe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ze:return"Fragment";case Ae:return"Portal";case re:return"Profiler";case st:return"StrictMode";case qe:return"Suspense";case Ft:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case je:return(t.displayName||"Context")+".Consumer";case ke:return(t._context.displayName||"Context")+".Provider";case ye:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kt:return n=t.displayName||null,n!==null?n:oe(t.type)||"Memo";case $e:n=t._payload,t=t._init;try{return oe(t(n))}catch{}}return null}function Ee(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(n);case 8:return n===st?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function me(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function be(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ye(t){var n=be(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),a=""+t[n];if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,d=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,d.call(this,g)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Hr(t){t._valueTracker||(t._valueTracker=Ye(t))}function J(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var o=n.getValue(),a="";return t&&(a=be(t)?t.checked?"true":"false":t.value),t=a,t!==o?(n.setValue(t),!0):!1}function $r(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zt(t,n){var o=n.checked;return V({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Mi(t,n){var o=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;o=me(n.value!=null?n.value:o),t._wrapperState={initialChecked:a,initialValue:o,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Js(t,n){n=n.checked,n!=null&&ve(t,"checked",n,!1)}function hr(t,n){Js(t,n);var o=me(n.value),a=n.type;if(o!=null)a==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(a==="submit"||a==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?ot(t,n.type,o):n.hasOwnProperty("defaultValue")&&ot(t,n.type,me(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function $t(t,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,o||n===t.value||(t.value=n),t.defaultValue=n}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function ot(t,n,o){(n!=="number"||$r(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var ht=Array.isArray;function wn(t,n,o,a){if(t=t.options,n){n={};for(var c=0;c<o.length;c++)n["$"+o[c]]=!0;for(o=0;o<t.length;o++)c=n.hasOwnProperty("$"+t[o].value),t[o].selected!==c&&(t[o].selected=c),c&&a&&(t[o].defaultSelected=!0)}else{for(o=""+me(o),n=null,c=0;c<t.length;c++){if(t[c].value===o){t[c].selected=!0,a&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Wr(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return V({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vr(t,n){var o=n.value;if(o==null){if(o=n.children,n=n.defaultValue,o!=null){if(n!=null)throw Error(r(92));if(ht(o)){if(1<o.length)throw Error(r(93));o=o[0]}n=o}n==null&&(n=""),o=n}t._wrapperState={initialValue:me(o)}}function Zs(t,n){var o=me(n.value),a=me(n.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),n.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),a!=null&&(t.defaultValue=""+a)}function eo(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function to(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Li(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?to(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pr,no=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,a,c){MSApp.execUnsafeLocalFunction(function(){return t(n,o,a,c)})}:t})(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(pr=pr||document.createElement("div"),pr.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=pr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function gr(t,n){if(n){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=n;return}}t.textContent=n}var Ln={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fn=["Webkit","ms","Moz","O"];Object.keys(Ln).forEach(function(t){Fn.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),Ln[n]=Ln[t]})});function Fi(t,n,o){return n==null||typeof n=="boolean"||n===""?"":o||typeof n!="number"||n===0||Ln.hasOwnProperty(t)&&Ln[t]?(""+n).trim():n+"px"}function bt(t,n){t=t.style;for(var o in n)if(n.hasOwnProperty(o)){var a=o.indexOf("--")===0,c=Fi(o,n[o],a);o==="float"&&(o="cssFloat"),a?t.setProperty(o,c):t[o]=c}}var ea=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gr(t,n){if(n){if(ea[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function zi(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bi=null;function Ui(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hi=null,xn=null,zn=null;function S(t){if(t=ls(t)){if(typeof Hi!="function")throw Error(r(280));var n=t.stateNode;n&&(n=Eo(n),Hi(t.stateNode,t.type,n))}}function I(t){xn?zn?zn.push(t):zn=[t]:xn=t}function G(){if(xn){var t=xn,n=zn;if(zn=xn=null,S(t),n)for(t=0;t<n.length;t++)S(n[t])}}function $(t,n){return t(n)}function F(){}var ne=!1;function Me(t,n,o){if(ne)return t(n,o);ne=!0;try{return $(t,n,o)}finally{ne=!1,(xn!==null||zn!==null)&&(F(),G())}}function en(t,n){var o=t.stateNode;if(o===null)return null;var a=Eo(o);if(a===null)return null;o=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(r(231,n,typeof o));return o}var De=!1;if(h)try{var pt={};Object.defineProperty(pt,"passive",{get:function(){De=!0}}),window.addEventListener("test",pt,pt),window.removeEventListener("test",pt,pt)}catch{De=!1}function vt(t,n,o,a,c,d,g,v,w){var b=Array.prototype.slice.call(arguments,3);try{n.apply(o,b)}catch(R){this.onError(R)}}var Ie=!1,Le=null,Bn=!1,ta=null,wy={onError:function(t){Ie=!0,Le=t}};function xy(t,n,o,a,c,d,g,v,w){Ie=!1,Le=null,vt.apply(wy,arguments)}function Cy(t,n,o,a,c,d,g,v,w){if(xy.apply(this,arguments),Ie){if(Ie){var b=Le;Ie=!1,Le=null}else throw Error(r(198));Bn||(Bn=!0,ta=b)}}function mr(t){var n=t,o=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(o=n.return),t=n.return;while(t)}return n.tag===3?o:null}function Nd(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function Td(t){if(mr(t)!==t)throw Error(r(188))}function Sy(t){var n=t.alternate;if(!n){if(n=mr(t),n===null)throw Error(r(188));return n!==t?null:t}for(var o=t,a=n;;){var c=o.return;if(c===null)break;var d=c.alternate;if(d===null){if(a=c.return,a!==null){o=a;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===o)return Td(c),t;if(d===a)return Td(c),n;d=d.sibling}throw Error(r(188))}if(o.return!==a.return)o=c,a=d;else{for(var g=!1,v=c.child;v;){if(v===o){g=!0,o=c,a=d;break}if(v===a){g=!0,a=c,o=d;break}v=v.sibling}if(!g){for(v=d.child;v;){if(v===o){g=!0,o=d,a=c;break}if(v===a){g=!0,a=d,o=c;break}v=v.sibling}if(!g)throw Error(r(189))}}if(o.alternate!==a)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?t:n}function kd(t){return t=Sy(t),t!==null?bd(t):null}function bd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=bd(t);if(n!==null)return n;t=t.sibling}return null}var Dd=e.unstable_scheduleCallback,Id=e.unstable_cancelCallback,Ey=e.unstable_shouldYield,Ny=e.unstable_requestPaint,Ke=e.unstable_now,Ty=e.unstable_getCurrentPriorityLevel,na=e.unstable_ImmediatePriority,Pd=e.unstable_UserBlockingPriority,ro=e.unstable_NormalPriority,ky=e.unstable_LowPriority,Od=e.unstable_IdlePriority,io=null,hn=null;function by(t){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(io,t,void 0,(t.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:Py,Dy=Math.log,Iy=Math.LN2;function Py(t){return t>>>=0,t===0?32:31-(Dy(t)/Iy|0)|0}var so=64,oo=4194304;function $i(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lo(t,n){var o=t.pendingLanes;if(o===0)return 0;var a=0,c=t.suspendedLanes,d=t.pingedLanes,g=o&268435455;if(g!==0){var v=g&~c;v!==0?a=$i(v):(d&=g,d!==0&&(a=$i(d)))}else g=o&~c,g!==0?a=$i(g):d!==0&&(a=$i(d));if(a===0)return 0;if(n!==0&&n!==a&&(n&c)===0&&(c=a&-a,d=n&-n,c>=d||c===16&&(d&4194240)!==0))return n;if((a&4)!==0&&(a|=o&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=a;0<n;)o=31-tn(n),c=1<<o,a|=t[o],n&=~c;return a}function Oy(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ry(t,n){for(var o=t.suspendedLanes,a=t.pingedLanes,c=t.expirationTimes,d=t.pendingLanes;0<d;){var g=31-tn(d),v=1<<g,w=c[g];w===-1?((v&o)===0||(v&a)!==0)&&(c[g]=Oy(v,n)):w<=n&&(t.expiredLanes|=v),d&=~v}}function ra(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Rd(){var t=so;return so<<=1,(so&4194240)===0&&(so=64),t}function ia(t){for(var n=[],o=0;31>o;o++)n.push(t);return n}function Wi(t,n,o){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-tn(n),t[n]=o}function Ay(t,n){var o=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<o;){var c=31-tn(o),d=1<<c;n[c]=0,a[c]=-1,t[c]=-1,o&=~d}}function sa(t,n){var o=t.entangledLanes|=n;for(t=t.entanglements;o;){var a=31-tn(o),c=1<<a;c&n|t[a]&n&&(t[a]|=n),o&=~c}}var Ne=0;function Ad(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var jd,oa,Md,Ld,Fd,la=!1,ao=[],Un=null,Hn=null,$n=null,Vi=new Map,Gi=new Map,Wn=[],jy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zd(t,n){switch(t){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":Vi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gi.delete(n.pointerId)}}function Qi(t,n,o,a,c,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:o,eventSystemFlags:a,nativeEvent:d,targetContainers:[c]},n!==null&&(n=ls(n),n!==null&&oa(n)),t):(t.eventSystemFlags|=a,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function My(t,n,o,a,c){switch(n){case"focusin":return Un=Qi(Un,t,n,o,a,c),!0;case"dragenter":return Hn=Qi(Hn,t,n,o,a,c),!0;case"mouseover":return $n=Qi($n,t,n,o,a,c),!0;case"pointerover":var d=c.pointerId;return Vi.set(d,Qi(Vi.get(d)||null,t,n,o,a,c)),!0;case"gotpointercapture":return d=c.pointerId,Gi.set(d,Qi(Gi.get(d)||null,t,n,o,a,c)),!0}return!1}function Bd(t){var n=yr(t.target);if(n!==null){var o=mr(n);if(o!==null){if(n=o.tag,n===13){if(n=Nd(o),n!==null){t.blockedOn=n,Fd(t.priority,function(){Md(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var o=ua(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var a=new o.constructor(o.type,o);Bi=a,o.target.dispatchEvent(a),Bi=null}else return n=ls(o),n!==null&&oa(n),t.blockedOn=o,!1;n.shift()}return!0}function Ud(t,n,o){uo(t)&&o.delete(n)}function Ly(){la=!1,Un!==null&&uo(Un)&&(Un=null),Hn!==null&&uo(Hn)&&(Hn=null),$n!==null&&uo($n)&&($n=null),Vi.forEach(Ud),Gi.forEach(Ud)}function qi(t,n){t.blockedOn===n&&(t.blockedOn=null,la||(la=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ly)))}function Yi(t){function n(c){return qi(c,t)}if(0<ao.length){qi(ao[0],t);for(var o=1;o<ao.length;o++){var a=ao[o];a.blockedOn===t&&(a.blockedOn=null)}}for(Un!==null&&qi(Un,t),Hn!==null&&qi(Hn,t),$n!==null&&qi($n,t),Vi.forEach(n),Gi.forEach(n),o=0;o<Wn.length;o++)a=Wn[o],a.blockedOn===t&&(a.blockedOn=null);for(;0<Wn.length&&(o=Wn[0],o.blockedOn===null);)Bd(o),o.blockedOn===null&&Wn.shift()}var Qr=Se.ReactCurrentBatchConfig,co=!0;function Fy(t,n,o,a){var c=Ne,d=Qr.transition;Qr.transition=null;try{Ne=1,aa(t,n,o,a)}finally{Ne=c,Qr.transition=d}}function zy(t,n,o,a){var c=Ne,d=Qr.transition;Qr.transition=null;try{Ne=4,aa(t,n,o,a)}finally{Ne=c,Qr.transition=d}}function aa(t,n,o,a){if(co){var c=ua(t,n,o,a);if(c===null)Ta(t,n,a,fo,o),zd(t,a);else if(My(c,t,n,o,a))a.stopPropagation();else if(zd(t,a),n&4&&-1<jy.indexOf(t)){for(;c!==null;){var d=ls(c);if(d!==null&&jd(d),d=ua(t,n,o,a),d===null&&Ta(t,n,a,fo,o),d===c)break;c=d}c!==null&&a.stopPropagation()}else Ta(t,n,a,null,o)}}var fo=null;function ua(t,n,o,a){if(fo=null,t=Ui(a),t=yr(t),t!==null)if(n=mr(t),n===null)t=null;else if(o=n.tag,o===13){if(t=Nd(n),t!==null)return t;t=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return fo=t,null}function Hd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ty()){case na:return 1;case Pd:return 4;case ro:case ky:return 16;case Od:return 536870912;default:return 16}default:return 16}}var Vn=null,ca=null,ho=null;function $d(){if(ho)return ho;var t,n=ca,o=n.length,a,c="value"in Vn?Vn.value:Vn.textContent,d=c.length;for(t=0;t<o&&n[t]===c[t];t++);var g=o-t;for(a=1;a<=g&&n[o-a]===c[d-a];a++);return ho=c.slice(t,1<a?1-a:void 0)}function po(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function go(){return!0}function Wd(){return!1}function zt(t){function n(o,a,c,d,g){this._reactName=o,this._targetInst=c,this.type=a,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(o=t[v],this[v]=o?o(d):d[v]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?go:Wd,this.isPropagationStopped=Wd,this}return V(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=go)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=go)},persist:function(){},isPersistent:go}),n}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},da=zt(qr),Ki=V({},qr,{view:0,detail:0}),By=zt(Ki),fa,ha,Xi,mo=V({},Ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ga,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xi&&(Xi&&t.type==="mousemove"?(fa=t.screenX-Xi.screenX,ha=t.screenY-Xi.screenY):ha=fa=0,Xi=t),fa)},movementY:function(t){return"movementY"in t?t.movementY:ha}}),Vd=zt(mo),Uy=V({},mo,{dataTransfer:0}),Hy=zt(Uy),$y=V({},Ki,{relatedTarget:0}),pa=zt($y),Wy=V({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),Vy=zt(Wy),Gy=V({},qr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qy=zt(Gy),qy=V({},qr,{data:0}),Gd=zt(qy),Yy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ky={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jy(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Xy[t])?!!n[t]:!1}function ga(){return Jy}var Zy=V({},Ki,{key:function(t){if(t.key){var n=Yy[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=po(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ky[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ga,charCode:function(t){return t.type==="keypress"?po(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?po(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ev=zt(Zy),tv=V({},mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qd=zt(tv),nv=V({},Ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ga}),rv=zt(nv),iv=V({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),sv=zt(iv),ov=V({},mo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lv=zt(ov),av=[9,13,27,32],ma=h&&"CompositionEvent"in window,Ji=null;h&&"documentMode"in document&&(Ji=document.documentMode);var uv=h&&"TextEvent"in window&&!Ji,qd=h&&(!ma||Ji&&8<Ji&&11>=Ji),Yd=" ",Kd=!1;function Xd(t,n){switch(t){case"keyup":return av.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yr=!1;function cv(t,n){switch(t){case"compositionend":return Jd(n);case"keypress":return n.which!==32?null:(Kd=!0,Yd);case"textInput":return t=n.data,t===Yd&&Kd?null:t;default:return null}}function dv(t,n){if(Yr)return t==="compositionend"||!ma&&Xd(t,n)?(t=$d(),ho=ca=Vn=null,Yr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return qd&&n.locale!=="ko"?null:n.data;default:return null}}var fv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!fv[t.type]:n==="textarea"}function ef(t,n,o,a){I(a),n=xo(n,"onChange"),0<n.length&&(o=new da("onChange","change",null,o,a),t.push({event:o,listeners:n}))}var Zi=null,es=null;function hv(t){_f(t,0)}function yo(t){var n=ei(t);if(J(n))return t}function pv(t,n){if(t==="change")return n}var tf=!1;if(h){var ya;if(h){var va="oninput"in document;if(!va){var nf=document.createElement("div");nf.setAttribute("oninput","return;"),va=typeof nf.oninput=="function"}ya=va}else ya=!1;tf=ya&&(!document.documentMode||9<document.documentMode)}function rf(){Zi&&(Zi.detachEvent("onpropertychange",sf),es=Zi=null)}function sf(t){if(t.propertyName==="value"&&yo(es)){var n=[];ef(n,es,t,Ui(t)),Me(hv,n)}}function gv(t,n,o){t==="focusin"?(rf(),Zi=n,es=o,Zi.attachEvent("onpropertychange",sf)):t==="focusout"&&rf()}function mv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yo(es)}function yv(t,n){if(t==="click")return yo(n)}function vv(t,n){if(t==="input"||t==="change")return yo(n)}function _v(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var nn=typeof Object.is=="function"?Object.is:_v;function ts(t,n){if(nn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var o=Object.keys(t),a=Object.keys(n);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var c=o[a];if(!m.call(n,c)||!nn(t[c],n[c]))return!1}return!0}function of(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lf(t,n){var o=of(t);t=0;for(var a;o;){if(o.nodeType===3){if(a=t+o.textContent.length,t<=n&&a>=n)return{node:o,offset:n-t};t=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=of(o)}}function af(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?af(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function uf(){for(var t=window,n=$r();n instanceof t.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)t=n.contentWindow;else break;n=$r(t.document)}return n}function _a(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function wv(t){var n=uf(),o=t.focusedElem,a=t.selectionRange;if(n!==o&&o&&o.ownerDocument&&af(o.ownerDocument.documentElement,o)){if(a!==null&&_a(o)){if(n=a.start,t=a.end,t===void 0&&(t=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(t,o.value.length);else if(t=(n=o.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var c=o.textContent.length,d=Math.min(a.start,c);a=a.end===void 0?d:Math.min(a.end,c),!t.extend&&d>a&&(c=a,a=d,d=c),c=lf(o,d);var g=lf(o,a);c&&g&&(t.rangeCount!==1||t.anchorNode!==c.node||t.anchorOffset!==c.offset||t.focusNode!==g.node||t.focusOffset!==g.offset)&&(n=n.createRange(),n.setStart(c.node,c.offset),t.removeAllRanges(),d>a?(t.addRange(n),t.extend(g.node,g.offset)):(n.setEnd(g.node,g.offset),t.addRange(n)))}}for(n=[],t=o;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<n.length;o++)t=n[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xv=h&&"documentMode"in document&&11>=document.documentMode,Kr=null,wa=null,ns=null,xa=!1;function cf(t,n,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;xa||Kr==null||Kr!==$r(a)||(a=Kr,"selectionStart"in a&&_a(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ns&&ts(ns,a)||(ns=a,a=xo(wa,"onSelect"),0<a.length&&(n=new da("onSelect","select",null,n,o),t.push({event:n,listeners:a}),n.target=Kr)))}function vo(t,n){var o={};return o[t.toLowerCase()]=n.toLowerCase(),o["Webkit"+t]="webkit"+n,o["Moz"+t]="moz"+n,o}var Xr={animationend:vo("Animation","AnimationEnd"),animationiteration:vo("Animation","AnimationIteration"),animationstart:vo("Animation","AnimationStart"),transitionend:vo("Transition","TransitionEnd")},Ca={},df={};h&&(df=document.createElement("div").style,"AnimationEvent"in window||(delete Xr.animationend.animation,delete Xr.animationiteration.animation,delete Xr.animationstart.animation),"TransitionEvent"in window||delete Xr.transitionend.transition);function _o(t){if(Ca[t])return Ca[t];if(!Xr[t])return t;var n=Xr[t],o;for(o in n)if(n.hasOwnProperty(o)&&o in df)return Ca[t]=n[o];return t}var ff=_o("animationend"),hf=_o("animationiteration"),pf=_o("animationstart"),gf=_o("transitionend"),mf=new Map,yf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gn(t,n){mf.set(t,n),u(n,[t])}for(var Sa=0;Sa<yf.length;Sa++){var Ea=yf[Sa],Cv=Ea.toLowerCase(),Sv=Ea[0].toUpperCase()+Ea.slice(1);Gn(Cv,"on"+Sv)}Gn(ff,"onAnimationEnd"),Gn(hf,"onAnimationIteration"),Gn(pf,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(gf,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ev=new Set("cancel close invalid load scroll toggle".split(" ").concat(rs));function vf(t,n,o){var a=t.type||"unknown-event";t.currentTarget=o,Cy(a,n,void 0,t),t.currentTarget=null}function _f(t,n){n=(n&4)!==0;for(var o=0;o<t.length;o++){var a=t[o],c=a.event;a=a.listeners;e:{var d=void 0;if(n)for(var g=a.length-1;0<=g;g--){var v=a[g],w=v.instance,b=v.currentTarget;if(v=v.listener,w!==d&&c.isPropagationStopped())break e;vf(c,v,b),d=w}else for(g=0;g<a.length;g++){if(v=a[g],w=v.instance,b=v.currentTarget,v=v.listener,w!==d&&c.isPropagationStopped())break e;vf(c,v,b),d=w}}}if(Bn)throw t=ta,Bn=!1,ta=null,t}function Fe(t,n){var o=n[Oa];o===void 0&&(o=n[Oa]=new Set);var a=t+"__bubble";o.has(a)||(wf(n,t,2,!1),o.add(a))}function Na(t,n,o){var a=0;n&&(a|=4),wf(o,t,a,n)}var wo="_reactListening"+Math.random().toString(36).slice(2);function is(t){if(!t[wo]){t[wo]=!0,s.forEach(function(o){o!=="selectionchange"&&(Ev.has(o)||Na(o,!1,t),Na(o,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[wo]||(n[wo]=!0,Na("selectionchange",!1,n))}}function wf(t,n,o,a){switch(Hd(n)){case 1:var c=Fy;break;case 4:c=zy;break;default:c=aa}o=c.bind(null,n,o,t),c=void 0,!De||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),a?c!==void 0?t.addEventListener(n,o,{capture:!0,passive:c}):t.addEventListener(n,o,!0):c!==void 0?t.addEventListener(n,o,{passive:c}):t.addEventListener(n,o,!1)}function Ta(t,n,o,a,c){var d=a;if((n&1)===0&&(n&2)===0&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var v=a.stateNode.containerInfo;if(v===c||v.nodeType===8&&v.parentNode===c)break;if(g===4)for(g=a.return;g!==null;){var w=g.tag;if((w===3||w===4)&&(w=g.stateNode.containerInfo,w===c||w.nodeType===8&&w.parentNode===c))return;g=g.return}for(;v!==null;){if(g=yr(v),g===null)return;if(w=g.tag,w===5||w===6){a=d=g;continue e}v=v.parentNode}}a=a.return}Me(function(){var b=d,R=Ui(o),A=[];e:{var O=mf.get(t);if(O!==void 0){var W=da,q=t;switch(t){case"keypress":if(po(o)===0)break e;case"keydown":case"keyup":W=ev;break;case"focusin":q="focus",W=pa;break;case"focusout":q="blur",W=pa;break;case"beforeblur":case"afterblur":W=pa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Vd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Hy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=rv;break;case ff:case hf:case pf:W=Vy;break;case gf:W=sv;break;case"scroll":W=By;break;case"wheel":W=lv;break;case"copy":case"cut":case"paste":W=Qy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Qd}var K=(n&4)!==0,Xe=!K&&t==="scroll",T=K?O!==null?O+"Capture":null:O;K=[];for(var C=b,k;C!==null;){k=C;var L=k.stateNode;if(k.tag===5&&L!==null&&(k=L,T!==null&&(L=en(C,T),L!=null&&K.push(ss(C,L,k)))),Xe)break;C=C.return}0<K.length&&(O=new W(O,q,null,o,R),A.push({event:O,listeners:K}))}}if((n&7)===0){e:{if(O=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",O&&o!==Bi&&(q=o.relatedTarget||o.fromElement)&&(yr(q)||q[Cn]))break e;if((W||O)&&(O=R.window===R?R:(O=R.ownerDocument)?O.defaultView||O.parentWindow:window,W?(q=o.relatedTarget||o.toElement,W=b,q=q?yr(q):null,q!==null&&(Xe=mr(q),q!==Xe||q.tag!==5&&q.tag!==6)&&(q=null)):(W=null,q=b),W!==q)){if(K=Vd,L="onMouseLeave",T="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(K=Qd,L="onPointerLeave",T="onPointerEnter",C="pointer"),Xe=W==null?O:ei(W),k=q==null?O:ei(q),O=new K(L,C+"leave",W,o,R),O.target=Xe,O.relatedTarget=k,L=null,yr(R)===b&&(K=new K(T,C+"enter",q,o,R),K.target=k,K.relatedTarget=Xe,L=K),Xe=L,W&&q)t:{for(K=W,T=q,C=0,k=K;k;k=Jr(k))C++;for(k=0,L=T;L;L=Jr(L))k++;for(;0<C-k;)K=Jr(K),C--;for(;0<k-C;)T=Jr(T),k--;for(;C--;){if(K===T||T!==null&&K===T.alternate)break t;K=Jr(K),T=Jr(T)}K=null}else K=null;W!==null&&xf(A,O,W,K,!1),q!==null&&Xe!==null&&xf(A,Xe,q,K,!0)}}e:{if(O=b?ei(b):window,W=O.nodeName&&O.nodeName.toLowerCase(),W==="select"||W==="input"&&O.type==="file")var X=pv;else if(Zd(O))if(tf)X=vv;else{X=mv;var ee=gv}else(W=O.nodeName)&&W.toLowerCase()==="input"&&(O.type==="checkbox"||O.type==="radio")&&(X=yv);if(X&&(X=X(t,b))){ef(A,X,o,R);break e}ee&&ee(t,O,b),t==="focusout"&&(ee=O._wrapperState)&&ee.controlled&&O.type==="number"&&ot(O,"number",O.value)}switch(ee=b?ei(b):window,t){case"focusin":(Zd(ee)||ee.contentEditable==="true")&&(Kr=ee,wa=b,ns=null);break;case"focusout":ns=wa=Kr=null;break;case"mousedown":xa=!0;break;case"contextmenu":case"mouseup":case"dragend":xa=!1,cf(A,o,R);break;case"selectionchange":if(xv)break;case"keydown":case"keyup":cf(A,o,R)}var te;if(ma)e:{switch(t){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else Yr?Xd(t,o)&&(se="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(se="onCompositionStart");se&&(qd&&o.locale!=="ko"&&(Yr||se!=="onCompositionStart"?se==="onCompositionEnd"&&Yr&&(te=$d()):(Vn=R,ca="value"in Vn?Vn.value:Vn.textContent,Yr=!0)),ee=xo(b,se),0<ee.length&&(se=new Gd(se,t,null,o,R),A.push({event:se,listeners:ee}),te?se.data=te:(te=Jd(o),te!==null&&(se.data=te)))),(te=uv?cv(t,o):dv(t,o))&&(b=xo(b,"onBeforeInput"),0<b.length&&(R=new Gd("onBeforeInput","beforeinput",null,o,R),A.push({event:R,listeners:b}),R.data=te))}_f(A,n)})}function ss(t,n,o){return{instance:t,listener:n,currentTarget:o}}function xo(t,n){for(var o=n+"Capture",a=[];t!==null;){var c=t,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=en(t,o),d!=null&&a.unshift(ss(t,d,c)),d=en(t,n),d!=null&&a.push(ss(t,d,c))),t=t.return}return a}function Jr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xf(t,n,o,a,c){for(var d=n._reactName,g=[];o!==null&&o!==a;){var v=o,w=v.alternate,b=v.stateNode;if(w!==null&&w===a)break;v.tag===5&&b!==null&&(v=b,c?(w=en(o,d),w!=null&&g.unshift(ss(o,w,v))):c||(w=en(o,d),w!=null&&g.push(ss(o,w,v)))),o=o.return}g.length!==0&&t.push({event:n,listeners:g})}var Nv=/\r\n?/g,Tv=/\u0000|\uFFFD/g;function Cf(t){return(typeof t=="string"?t:""+t).replace(Nv,`
`).replace(Tv,"")}function Co(t,n,o){if(n=Cf(n),Cf(t)!==n&&o)throw Error(r(425))}function So(){}var ka=null,ba=null;function Da(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ia=typeof setTimeout=="function"?setTimeout:void 0,kv=typeof clearTimeout=="function"?clearTimeout:void 0,Sf=typeof Promise=="function"?Promise:void 0,bv=typeof queueMicrotask=="function"?queueMicrotask:typeof Sf<"u"?function(t){return Sf.resolve(null).then(t).catch(Dv)}:Ia;function Dv(t){setTimeout(function(){throw t})}function Pa(t,n){var o=n,a=0;do{var c=o.nextSibling;if(t.removeChild(o),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(a===0){t.removeChild(c),Yi(n);return}a--}else o!=="$"&&o!=="$?"&&o!=="$!"||a++;o=c}while(o);Yi(n)}function Qn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function Ef(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return t;n--}else o==="/$"&&n++}t=t.previousSibling}return null}var Zr=Math.random().toString(36).slice(2),pn="__reactFiber$"+Zr,os="__reactProps$"+Zr,Cn="__reactContainer$"+Zr,Oa="__reactEvents$"+Zr,Iv="__reactListeners$"+Zr,Pv="__reactHandles$"+Zr;function yr(t){var n=t[pn];if(n)return n;for(var o=t.parentNode;o;){if(n=o[Cn]||o[pn]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(t=Ef(t);t!==null;){if(o=t[pn])return o;t=Ef(t)}return n}t=o,o=t.parentNode}return null}function ls(t){return t=t[pn]||t[Cn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ei(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(r(33))}function Eo(t){return t[os]||null}var Ra=[],ti=-1;function qn(t){return{current:t}}function ze(t){0>ti||(t.current=Ra[ti],Ra[ti]=null,ti--)}function Oe(t,n){ti++,Ra[ti]=t.current,t.current=n}var Yn={},_t=qn(Yn),Dt=qn(!1),vr=Yn;function ni(t,n){var o=t.type.contextTypes;if(!o)return Yn;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in o)c[d]=n[d];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=c),c}function It(t){return t=t.childContextTypes,t!=null}function No(){ze(Dt),ze(_t)}function Nf(t,n,o){if(_t.current!==Yn)throw Error(r(168));Oe(_t,n),Oe(Dt,o)}function Tf(t,n,o){var a=t.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return o;a=a.getChildContext();for(var c in a)if(!(c in n))throw Error(r(108,Ee(t)||"Unknown",c));return V({},o,a)}function To(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yn,vr=_t.current,Oe(_t,t),Oe(Dt,Dt.current),!0}function kf(t,n,o){var a=t.stateNode;if(!a)throw Error(r(169));o?(t=Tf(t,n,vr),a.__reactInternalMemoizedMergedChildContext=t,ze(Dt),ze(_t),Oe(_t,t)):ze(Dt),Oe(Dt,o)}var Sn=null,ko=!1,Aa=!1;function bf(t){Sn===null?Sn=[t]:Sn.push(t)}function Ov(t){ko=!0,bf(t)}function Kn(){if(!Aa&&Sn!==null){Aa=!0;var t=0,n=Ne;try{var o=Sn;for(Ne=1;t<o.length;t++){var a=o[t];do a=a(!0);while(a!==null)}Sn=null,ko=!1}catch(c){throw Sn!==null&&(Sn=Sn.slice(t+1)),Dd(na,Kn),c}finally{Ne=n,Aa=!1}}return null}var ri=[],ii=0,bo=null,Do=0,Wt=[],Vt=0,_r=null,En=1,Nn="";function wr(t,n){ri[ii++]=Do,ri[ii++]=bo,bo=t,Do=n}function Df(t,n,o){Wt[Vt++]=En,Wt[Vt++]=Nn,Wt[Vt++]=_r,_r=t;var a=En;t=Nn;var c=32-tn(a)-1;a&=~(1<<c),o+=1;var d=32-tn(n)+c;if(30<d){var g=c-c%5;d=(a&(1<<g)-1).toString(32),a>>=g,c-=g,En=1<<32-tn(n)+c|o<<c|a,Nn=d+t}else En=1<<d|o<<c|a,Nn=t}function ja(t){t.return!==null&&(wr(t,1),Df(t,1,0))}function Ma(t){for(;t===bo;)bo=ri[--ii],ri[ii]=null,Do=ri[--ii],ri[ii]=null;for(;t===_r;)_r=Wt[--Vt],Wt[Vt]=null,Nn=Wt[--Vt],Wt[Vt]=null,En=Wt[--Vt],Wt[Vt]=null}var Bt=null,Ut=null,He=!1,rn=null;function If(t,n){var o=Yt(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=t,n=t.deletions,n===null?(t.deletions=[o],t.flags|=16):n.push(o)}function Pf(t,n){switch(t.tag){case 5:var o=t.type;return n=n.nodeType!==1||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,Bt=t,Ut=Qn(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,Bt=t,Ut=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(o=_r!==null?{id:En,overflow:Nn}:null,t.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=Yt(18,null,null,0),o.stateNode=n,o.return=t,t.child=o,Bt=t,Ut=null,!0):!1;default:return!1}}function La(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fa(t){if(He){var n=Ut;if(n){var o=n;if(!Pf(t,n)){if(La(t))throw Error(r(418));n=Qn(o.nextSibling);var a=Bt;n&&Pf(t,n)?If(a,o):(t.flags=t.flags&-4097|2,He=!1,Bt=t)}}else{if(La(t))throw Error(r(418));t.flags=t.flags&-4097|2,He=!1,Bt=t}}}function Of(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bt=t}function Io(t){if(t!==Bt)return!1;if(!He)return Of(t),He=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!Da(t.type,t.memoizedProps)),n&&(n=Ut)){if(La(t))throw Rf(),Error(r(418));for(;n;)If(t,n),n=Qn(n.nextSibling)}if(Of(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(n===0){Ut=Qn(t.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++}t=t.nextSibling}Ut=null}}else Ut=Bt?Qn(t.stateNode.nextSibling):null;return!0}function Rf(){for(var t=Ut;t;)t=Qn(t.nextSibling)}function si(){Ut=Bt=null,He=!1}function za(t){rn===null?rn=[t]:rn.push(t)}var Rv=Se.ReactCurrentBatchConfig;function as(t,n,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(r(309));var a=o.stateNode}if(!a)throw Error(r(147,t));var c=a,d=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(g){var v=c.refs;g===null?delete v[d]:v[d]=g},n._stringRef=d,n)}if(typeof t!="string")throw Error(r(284));if(!o._owner)throw Error(r(290,t))}return t}function Po(t,n){throw t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function Af(t){var n=t._init;return n(t._payload)}function jf(t){function n(T,C){if(t){var k=T.deletions;k===null?(T.deletions=[C],T.flags|=16):k.push(C)}}function o(T,C){if(!t)return null;for(;C!==null;)n(T,C),C=C.sibling;return null}function a(T,C){for(T=new Map;C!==null;)C.key!==null?T.set(C.key,C):T.set(C.index,C),C=C.sibling;return T}function c(T,C){return T=ir(T,C),T.index=0,T.sibling=null,T}function d(T,C,k){return T.index=k,t?(k=T.alternate,k!==null?(k=k.index,k<C?(T.flags|=2,C):k):(T.flags|=2,C)):(T.flags|=1048576,C)}function g(T){return t&&T.alternate===null&&(T.flags|=2),T}function v(T,C,k,L){return C===null||C.tag!==6?(C=Iu(k,T.mode,L),C.return=T,C):(C=c(C,k),C.return=T,C)}function w(T,C,k,L){var X=k.type;return X===Ze?R(T,C,k.props.children,L,k.key):C!==null&&(C.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===$e&&Af(X)===C.type)?(L=c(C,k.props),L.ref=as(T,C,k),L.return=T,L):(L=tl(k.type,k.key,k.props,null,T.mode,L),L.ref=as(T,C,k),L.return=T,L)}function b(T,C,k,L){return C===null||C.tag!==4||C.stateNode.containerInfo!==k.containerInfo||C.stateNode.implementation!==k.implementation?(C=Pu(k,T.mode,L),C.return=T,C):(C=c(C,k.children||[]),C.return=T,C)}function R(T,C,k,L,X){return C===null||C.tag!==7?(C=br(k,T.mode,L,X),C.return=T,C):(C=c(C,k),C.return=T,C)}function A(T,C,k){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Iu(""+C,T.mode,k),C.return=T,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case it:return k=tl(C.type,C.key,C.props,null,T.mode,k),k.ref=as(T,null,C),k.return=T,k;case Ae:return C=Pu(C,T.mode,k),C.return=T,C;case $e:var L=C._init;return A(T,L(C._payload),k)}if(ht(C)||Z(C))return C=br(C,T.mode,k,null),C.return=T,C;Po(T,C)}return null}function O(T,C,k,L){var X=C!==null?C.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return X!==null?null:v(T,C,""+k,L);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case it:return k.key===X?w(T,C,k,L):null;case Ae:return k.key===X?b(T,C,k,L):null;case $e:return X=k._init,O(T,C,X(k._payload),L)}if(ht(k)||Z(k))return X!==null?null:R(T,C,k,L,null);Po(T,k)}return null}function W(T,C,k,L,X){if(typeof L=="string"&&L!==""||typeof L=="number")return T=T.get(k)||null,v(C,T,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case it:return T=T.get(L.key===null?k:L.key)||null,w(C,T,L,X);case Ae:return T=T.get(L.key===null?k:L.key)||null,b(C,T,L,X);case $e:var ee=L._init;return W(T,C,k,ee(L._payload),X)}if(ht(L)||Z(L))return T=T.get(k)||null,R(C,T,L,X,null);Po(C,L)}return null}function q(T,C,k,L){for(var X=null,ee=null,te=C,se=C=0,ut=null;te!==null&&se<k.length;se++){te.index>se?(ut=te,te=null):ut=te.sibling;var xe=O(T,te,k[se],L);if(xe===null){te===null&&(te=ut);break}t&&te&&xe.alternate===null&&n(T,te),C=d(xe,C,se),ee===null?X=xe:ee.sibling=xe,ee=xe,te=ut}if(se===k.length)return o(T,te),He&&wr(T,se),X;if(te===null){for(;se<k.length;se++)te=A(T,k[se],L),te!==null&&(C=d(te,C,se),ee===null?X=te:ee.sibling=te,ee=te);return He&&wr(T,se),X}for(te=a(T,te);se<k.length;se++)ut=W(te,T,se,k[se],L),ut!==null&&(t&&ut.alternate!==null&&te.delete(ut.key===null?se:ut.key),C=d(ut,C,se),ee===null?X=ut:ee.sibling=ut,ee=ut);return t&&te.forEach(function(sr){return n(T,sr)}),He&&wr(T,se),X}function K(T,C,k,L){var X=Z(k);if(typeof X!="function")throw Error(r(150));if(k=X.call(k),k==null)throw Error(r(151));for(var ee=X=null,te=C,se=C=0,ut=null,xe=k.next();te!==null&&!xe.done;se++,xe=k.next()){te.index>se?(ut=te,te=null):ut=te.sibling;var sr=O(T,te,xe.value,L);if(sr===null){te===null&&(te=ut);break}t&&te&&sr.alternate===null&&n(T,te),C=d(sr,C,se),ee===null?X=sr:ee.sibling=sr,ee=sr,te=ut}if(xe.done)return o(T,te),He&&wr(T,se),X;if(te===null){for(;!xe.done;se++,xe=k.next())xe=A(T,xe.value,L),xe!==null&&(C=d(xe,C,se),ee===null?X=xe:ee.sibling=xe,ee=xe);return He&&wr(T,se),X}for(te=a(T,te);!xe.done;se++,xe=k.next())xe=W(te,T,se,xe.value,L),xe!==null&&(t&&xe.alternate!==null&&te.delete(xe.key===null?se:xe.key),C=d(xe,C,se),ee===null?X=xe:ee.sibling=xe,ee=xe);return t&&te.forEach(function(f_){return n(T,f_)}),He&&wr(T,se),X}function Xe(T,C,k,L){if(typeof k=="object"&&k!==null&&k.type===Ze&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case it:e:{for(var X=k.key,ee=C;ee!==null;){if(ee.key===X){if(X=k.type,X===Ze){if(ee.tag===7){o(T,ee.sibling),C=c(ee,k.props.children),C.return=T,T=C;break e}}else if(ee.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===$e&&Af(X)===ee.type){o(T,ee.sibling),C=c(ee,k.props),C.ref=as(T,ee,k),C.return=T,T=C;break e}o(T,ee);break}else n(T,ee);ee=ee.sibling}k.type===Ze?(C=br(k.props.children,T.mode,L,k.key),C.return=T,T=C):(L=tl(k.type,k.key,k.props,null,T.mode,L),L.ref=as(T,C,k),L.return=T,T=L)}return g(T);case Ae:e:{for(ee=k.key;C!==null;){if(C.key===ee)if(C.tag===4&&C.stateNode.containerInfo===k.containerInfo&&C.stateNode.implementation===k.implementation){o(T,C.sibling),C=c(C,k.children||[]),C.return=T,T=C;break e}else{o(T,C);break}else n(T,C);C=C.sibling}C=Pu(k,T.mode,L),C.return=T,T=C}return g(T);case $e:return ee=k._init,Xe(T,C,ee(k._payload),L)}if(ht(k))return q(T,C,k,L);if(Z(k))return K(T,C,k,L);Po(T,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,C!==null&&C.tag===6?(o(T,C.sibling),C=c(C,k),C.return=T,T=C):(o(T,C),C=Iu(k,T.mode,L),C.return=T,T=C),g(T)):o(T,C)}return Xe}var oi=jf(!0),Mf=jf(!1),Oo=qn(null),Ro=null,li=null,Ba=null;function Ua(){Ba=li=Ro=null}function Ha(t){var n=Oo.current;ze(Oo),t._currentValue=n}function $a(t,n,o){for(;t!==null;){var a=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),t===o)break;t=t.return}}function ai(t,n){Ro=t,Ba=li=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&n)!==0&&(Pt=!0),t.firstContext=null)}function Gt(t){var n=t._currentValue;if(Ba!==t)if(t={context:t,memoizedValue:n,next:null},li===null){if(Ro===null)throw Error(r(308));li=t,Ro.dependencies={lanes:0,firstContext:t}}else li=li.next=t;return n}var xr=null;function Wa(t){xr===null?xr=[t]:xr.push(t)}function Lf(t,n,o,a){var c=n.interleaved;return c===null?(o.next=o,Wa(n)):(o.next=c.next,c.next=o),n.interleaved=o,Tn(t,a)}function Tn(t,n){t.lanes|=n;var o=t.alternate;for(o!==null&&(o.lanes|=n),o=t,t=t.return;t!==null;)t.childLanes|=n,o=t.alternate,o!==null&&(o.childLanes|=n),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Xn=!1;function Va(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ff(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kn(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function Jn(t,n,o){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(we&2)!==0){var c=a.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),a.pending=n,Tn(t,o)}return c=a.interleaved,c===null?(n.next=n,Wa(a)):(n.next=c.next,c.next=n),a.interleaved=n,Tn(t,o)}function Ao(t,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var a=n.lanes;a&=t.pendingLanes,o|=a,n.lanes=o,sa(t,o)}}function zf(t,n){var o=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var c=null,d=null;if(o=o.firstBaseUpdate,o!==null){do{var g={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};d===null?c=d=g:d=d.next=g,o=o.next}while(o!==null);d===null?c=d=n:d=d.next=n}else c=d=n;o={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:a.shared,effects:a.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=n:t.next=n,o.lastBaseUpdate=n}function jo(t,n,o,a){var c=t.updateQueue;Xn=!1;var d=c.firstBaseUpdate,g=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var w=v,b=w.next;w.next=null,g===null?d=b:g.next=b,g=w;var R=t.alternate;R!==null&&(R=R.updateQueue,v=R.lastBaseUpdate,v!==g&&(v===null?R.firstBaseUpdate=b:v.next=b,R.lastBaseUpdate=w))}if(d!==null){var A=c.baseState;g=0,R=b=w=null,v=d;do{var O=v.lane,W=v.eventTime;if((a&O)===O){R!==null&&(R=R.next={eventTime:W,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var q=t,K=v;switch(O=n,W=o,K.tag){case 1:if(q=K.payload,typeof q=="function"){A=q.call(W,A,O);break e}A=q;break e;case 3:q.flags=q.flags&-65537|128;case 0:if(q=K.payload,O=typeof q=="function"?q.call(W,A,O):q,O==null)break e;A=V({},A,O);break e;case 2:Xn=!0}}v.callback!==null&&v.lane!==0&&(t.flags|=64,O=c.effects,O===null?c.effects=[v]:O.push(v))}else W={eventTime:W,lane:O,tag:v.tag,payload:v.payload,callback:v.callback,next:null},R===null?(b=R=W,w=A):R=R.next=W,g|=O;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;O=v,v=O.next,O.next=null,c.lastBaseUpdate=O,c.shared.pending=null}}while(!0);if(R===null&&(w=A),c.baseState=w,c.firstBaseUpdate=b,c.lastBaseUpdate=R,n=c.shared.interleaved,n!==null){c=n;do g|=c.lane,c=c.next;while(c!==n)}else d===null&&(c.shared.lanes=0);Er|=g,t.lanes=g,t.memoizedState=A}}function Bf(t,n,o){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var a=t[n],c=a.callback;if(c!==null){if(a.callback=null,a=o,typeof c!="function")throw Error(r(191,c));c.call(a)}}}var us={},gn=qn(us),cs=qn(us),ds=qn(us);function Cr(t){if(t===us)throw Error(r(174));return t}function Ga(t,n){switch(Oe(ds,n),Oe(cs,t),Oe(gn,us),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Li(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=Li(n,t)}ze(gn),Oe(gn,n)}function ui(){ze(gn),ze(cs),ze(ds)}function Uf(t){Cr(ds.current);var n=Cr(gn.current),o=Li(n,t.type);n!==o&&(Oe(cs,t),Oe(gn,o))}function Qa(t){cs.current===t&&(ze(gn),ze(cs))}var We=qn(0);function Mo(t){for(var n=t;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var qa=[];function Ya(){for(var t=0;t<qa.length;t++)qa[t]._workInProgressVersionPrimary=null;qa.length=0}var Lo=Se.ReactCurrentDispatcher,Ka=Se.ReactCurrentBatchConfig,Sr=0,Ve=null,nt=null,lt=null,Fo=!1,fs=!1,hs=0,Av=0;function wt(){throw Error(r(321))}function Xa(t,n){if(n===null)return!1;for(var o=0;o<n.length&&o<t.length;o++)if(!nn(t[o],n[o]))return!1;return!0}function Ja(t,n,o,a,c,d){if(Sr=d,Ve=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Lo.current=t===null||t.memoizedState===null?Fv:zv,t=o(a,c),fs){d=0;do{if(fs=!1,hs=0,25<=d)throw Error(r(301));d+=1,lt=nt=null,n.updateQueue=null,Lo.current=Bv,t=o(a,c)}while(fs)}if(Lo.current=Uo,n=nt!==null&&nt.next!==null,Sr=0,lt=nt=Ve=null,Fo=!1,n)throw Error(r(300));return t}function Za(){var t=hs!==0;return hs=0,t}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Ve.memoizedState=lt=t:lt=lt.next=t,lt}function Qt(){if(nt===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var n=lt===null?Ve.memoizedState:lt.next;if(n!==null)lt=n,nt=t;else{if(t===null)throw Error(r(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},lt===null?Ve.memoizedState=lt=t:lt=lt.next=t}return lt}function ps(t,n){return typeof n=="function"?n(t):n}function eu(t){var n=Qt(),o=n.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var a=nt,c=a.baseQueue,d=o.pending;if(d!==null){if(c!==null){var g=c.next;c.next=d.next,d.next=g}a.baseQueue=c=d,o.pending=null}if(c!==null){d=c.next,a=a.baseState;var v=g=null,w=null,b=d;do{var R=b.lane;if((Sr&R)===R)w!==null&&(w=w.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),a=b.hasEagerState?b.eagerState:t(a,b.action);else{var A={lane:R,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};w===null?(v=w=A,g=a):w=w.next=A,Ve.lanes|=R,Er|=R}b=b.next}while(b!==null&&b!==d);w===null?g=a:w.next=v,nn(a,n.memoizedState)||(Pt=!0),n.memoizedState=a,n.baseState=g,n.baseQueue=w,o.lastRenderedState=a}if(t=o.interleaved,t!==null){c=t;do d=c.lane,Ve.lanes|=d,Er|=d,c=c.next;while(c!==t)}else c===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function tu(t){var n=Qt(),o=n.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var a=o.dispatch,c=o.pending,d=n.memoizedState;if(c!==null){o.pending=null;var g=c=c.next;do d=t(d,g.action),g=g.next;while(g!==c);nn(d,n.memoizedState)||(Pt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),o.lastRenderedState=d}return[d,a]}function Hf(){}function $f(t,n){var o=Ve,a=Qt(),c=n(),d=!nn(a.memoizedState,c);if(d&&(a.memoizedState=c,Pt=!0),a=a.queue,nu(Gf.bind(null,o,a,t),[t]),a.getSnapshot!==n||d||lt!==null&&lt.memoizedState.tag&1){if(o.flags|=2048,gs(9,Vf.bind(null,o,a,c,n),void 0,null),at===null)throw Error(r(349));(Sr&30)!==0||Wf(o,n,c)}return c}function Wf(t,n,o){t.flags|=16384,t={getSnapshot:n,value:o},n=Ve.updateQueue,n===null?(n={lastEffect:null,stores:null},Ve.updateQueue=n,n.stores=[t]):(o=n.stores,o===null?n.stores=[t]:o.push(t))}function Vf(t,n,o,a){n.value=o,n.getSnapshot=a,Qf(n)&&qf(t)}function Gf(t,n,o){return o(function(){Qf(n)&&qf(t)})}function Qf(t){var n=t.getSnapshot;t=t.value;try{var o=n();return!nn(t,o)}catch{return!0}}function qf(t){var n=Tn(t,1);n!==null&&an(n,t,1,-1)}function Yf(t){var n=mn();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:t},n.queue=t,t=t.dispatch=Lv.bind(null,Ve,t),[n.memoizedState,t]}function gs(t,n,o,a){return t={tag:t,create:n,destroy:o,deps:a,next:null},n=Ve.updateQueue,n===null?(n={lastEffect:null,stores:null},Ve.updateQueue=n,n.lastEffect=t.next=t):(o=n.lastEffect,o===null?n.lastEffect=t.next=t:(a=o.next,o.next=t,t.next=a,n.lastEffect=t)),t}function Kf(){return Qt().memoizedState}function zo(t,n,o,a){var c=mn();Ve.flags|=t,c.memoizedState=gs(1|n,o,void 0,a===void 0?null:a)}function Bo(t,n,o,a){var c=Qt();a=a===void 0?null:a;var d=void 0;if(nt!==null){var g=nt.memoizedState;if(d=g.destroy,a!==null&&Xa(a,g.deps)){c.memoizedState=gs(n,o,d,a);return}}Ve.flags|=t,c.memoizedState=gs(1|n,o,d,a)}function Xf(t,n){return zo(8390656,8,t,n)}function nu(t,n){return Bo(2048,8,t,n)}function Jf(t,n){return Bo(4,2,t,n)}function Zf(t,n){return Bo(4,4,t,n)}function eh(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function th(t,n,o){return o=o!=null?o.concat([t]):null,Bo(4,4,eh.bind(null,n,t),o)}function ru(){}function nh(t,n){var o=Qt();n=n===void 0?null:n;var a=o.memoizedState;return a!==null&&n!==null&&Xa(n,a[1])?a[0]:(o.memoizedState=[t,n],t)}function rh(t,n){var o=Qt();n=n===void 0?null:n;var a=o.memoizedState;return a!==null&&n!==null&&Xa(n,a[1])?a[0]:(t=t(),o.memoizedState=[t,n],t)}function ih(t,n,o){return(Sr&21)===0?(t.baseState&&(t.baseState=!1,Pt=!0),t.memoizedState=o):(nn(o,n)||(o=Rd(),Ve.lanes|=o,Er|=o,t.baseState=!0),n)}function jv(t,n){var o=Ne;Ne=o!==0&&4>o?o:4,t(!0);var a=Ka.transition;Ka.transition={};try{t(!1),n()}finally{Ne=o,Ka.transition=a}}function sh(){return Qt().memoizedState}function Mv(t,n,o){var a=nr(t);if(o={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null},oh(t))lh(n,o);else if(o=Lf(t,n,o,a),o!==null){var c=Tt();an(o,t,a,c),ah(o,n,a)}}function Lv(t,n,o){var a=nr(t),c={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null};if(oh(t))lh(n,c);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var g=n.lastRenderedState,v=d(g,o);if(c.hasEagerState=!0,c.eagerState=v,nn(v,g)){var w=n.interleaved;w===null?(c.next=c,Wa(n)):(c.next=w.next,w.next=c),n.interleaved=c;return}}catch{}finally{}o=Lf(t,n,c,a),o!==null&&(c=Tt(),an(o,t,a,c),ah(o,n,a))}}function oh(t){var n=t.alternate;return t===Ve||n!==null&&n===Ve}function lh(t,n){fs=Fo=!0;var o=t.pending;o===null?n.next=n:(n.next=o.next,o.next=n),t.pending=n}function ah(t,n,o){if((o&4194240)!==0){var a=n.lanes;a&=t.pendingLanes,o|=a,n.lanes=o,sa(t,o)}}var Uo={readContext:Gt,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},Fv={readContext:Gt,useCallback:function(t,n){return mn().memoizedState=[t,n===void 0?null:n],t},useContext:Gt,useEffect:Xf,useImperativeHandle:function(t,n,o){return o=o!=null?o.concat([t]):null,zo(4194308,4,eh.bind(null,n,t),o)},useLayoutEffect:function(t,n){return zo(4194308,4,t,n)},useInsertionEffect:function(t,n){return zo(4,2,t,n)},useMemo:function(t,n){var o=mn();return n=n===void 0?null:n,t=t(),o.memoizedState=[t,n],t},useReducer:function(t,n,o){var a=mn();return n=o!==void 0?o(n):n,a.memoizedState=a.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},a.queue=t,t=t.dispatch=Mv.bind(null,Ve,t),[a.memoizedState,t]},useRef:function(t){var n=mn();return t={current:t},n.memoizedState=t},useState:Yf,useDebugValue:ru,useDeferredValue:function(t){return mn().memoizedState=t},useTransition:function(){var t=Yf(!1),n=t[0];return t=jv.bind(null,t[1]),mn().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,o){var a=Ve,c=mn();if(He){if(o===void 0)throw Error(r(407));o=o()}else{if(o=n(),at===null)throw Error(r(349));(Sr&30)!==0||Wf(a,n,o)}c.memoizedState=o;var d={value:o,getSnapshot:n};return c.queue=d,Xf(Gf.bind(null,a,d,t),[t]),a.flags|=2048,gs(9,Vf.bind(null,a,d,o,n),void 0,null),o},useId:function(){var t=mn(),n=at.identifierPrefix;if(He){var o=Nn,a=En;o=(a&~(1<<32-tn(a)-1)).toString(32)+o,n=":"+n+"R"+o,o=hs++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=Av++,n=":"+n+"r"+o.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},zv={readContext:Gt,useCallback:nh,useContext:Gt,useEffect:nu,useImperativeHandle:th,useInsertionEffect:Jf,useLayoutEffect:Zf,useMemo:rh,useReducer:eu,useRef:Kf,useState:function(){return eu(ps)},useDebugValue:ru,useDeferredValue:function(t){var n=Qt();return ih(n,nt.memoizedState,t)},useTransition:function(){var t=eu(ps)[0],n=Qt().memoizedState;return[t,n]},useMutableSource:Hf,useSyncExternalStore:$f,useId:sh,unstable_isNewReconciler:!1},Bv={readContext:Gt,useCallback:nh,useContext:Gt,useEffect:nu,useImperativeHandle:th,useInsertionEffect:Jf,useLayoutEffect:Zf,useMemo:rh,useReducer:tu,useRef:Kf,useState:function(){return tu(ps)},useDebugValue:ru,useDeferredValue:function(t){var n=Qt();return nt===null?n.memoizedState=t:ih(n,nt.memoizedState,t)},useTransition:function(){var t=tu(ps)[0],n=Qt().memoizedState;return[t,n]},useMutableSource:Hf,useSyncExternalStore:$f,useId:sh,unstable_isNewReconciler:!1};function sn(t,n){if(t&&t.defaultProps){n=V({},n),t=t.defaultProps;for(var o in t)n[o]===void 0&&(n[o]=t[o]);return n}return n}function iu(t,n,o,a){n=t.memoizedState,o=o(a,n),o=o==null?n:V({},n,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Ho={isMounted:function(t){return(t=t._reactInternals)?mr(t)===t:!1},enqueueSetState:function(t,n,o){t=t._reactInternals;var a=Tt(),c=nr(t),d=kn(a,c);d.payload=n,o!=null&&(d.callback=o),n=Jn(t,d,c),n!==null&&(an(n,t,c,a),Ao(n,t,c))},enqueueReplaceState:function(t,n,o){t=t._reactInternals;var a=Tt(),c=nr(t),d=kn(a,c);d.tag=1,d.payload=n,o!=null&&(d.callback=o),n=Jn(t,d,c),n!==null&&(an(n,t,c,a),Ao(n,t,c))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var o=Tt(),a=nr(t),c=kn(o,a);c.tag=2,n!=null&&(c.callback=n),n=Jn(t,c,a),n!==null&&(an(n,t,a,o),Ao(n,t,a))}};function uh(t,n,o,a,c,d,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,d,g):n.prototype&&n.prototype.isPureReactComponent?!ts(o,a)||!ts(c,d):!0}function ch(t,n,o){var a=!1,c=Yn,d=n.contextType;return typeof d=="object"&&d!==null?d=Gt(d):(c=It(n)?vr:_t.current,a=n.contextTypes,d=(a=a!=null)?ni(t,c):Yn),n=new n(o,d),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ho,t.stateNode=n,n._reactInternals=t,a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=c,t.__reactInternalMemoizedMaskedChildContext=d),n}function dh(t,n,o,a){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,a),n.state!==t&&Ho.enqueueReplaceState(n,n.state,null)}function su(t,n,o,a){var c=t.stateNode;c.props=o,c.state=t.memoizedState,c.refs={},Va(t);var d=n.contextType;typeof d=="object"&&d!==null?c.context=Gt(d):(d=It(n)?vr:_t.current,c.context=ni(t,d)),c.state=t.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(iu(t,n,d,o),c.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(n=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),n!==c.state&&Ho.enqueueReplaceState(c,c.state,null),jo(t,o,c,a),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308)}function ci(t,n){try{var o="",a=n;do o+=_e(a),a=a.return;while(a);var c=o}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:t,source:n,stack:c,digest:null}}function ou(t,n,o){return{value:t,source:null,stack:o??null,digest:n??null}}function lu(t,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var Uv=typeof WeakMap=="function"?WeakMap:Map;function fh(t,n,o){o=kn(-1,o),o.tag=3,o.payload={element:null};var a=n.value;return o.callback=function(){Yo||(Yo=!0,Cu=a),lu(t,n)},o}function hh(t,n,o){o=kn(-1,o),o.tag=3;var a=t.type.getDerivedStateFromError;if(typeof a=="function"){var c=n.value;o.payload=function(){return a(c)},o.callback=function(){lu(t,n)}}var d=t.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(o.callback=function(){lu(t,n),typeof a!="function"&&(er===null?er=new Set([this]):er.add(this));var g=n.stack;this.componentDidCatch(n.value,{componentStack:g!==null?g:""})}),o}function ph(t,n,o){var a=t.pingCache;if(a===null){a=t.pingCache=new Uv;var c=new Set;a.set(n,c)}else c=a.get(n),c===void 0&&(c=new Set,a.set(n,c));c.has(o)||(c.add(o),t=t_.bind(null,t,n,o),n.then(t,t))}function gh(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function mh(t,n,o,a,c){return(t.mode&1)===0?(t===n?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=kn(-1,1),n.tag=2,Jn(o,n,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=c,t)}var Hv=Se.ReactCurrentOwner,Pt=!1;function Nt(t,n,o,a){n.child=t===null?Mf(n,null,o,a):oi(n,t.child,o,a)}function yh(t,n,o,a,c){o=o.render;var d=n.ref;return ai(n,c),a=Ja(t,n,o,a,d,c),o=Za(),t!==null&&!Pt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~c,bn(t,n,c)):(He&&o&&ja(n),n.flags|=1,Nt(t,n,a,c),n.child)}function vh(t,n,o,a,c){if(t===null){var d=o.type;return typeof d=="function"&&!Du(d)&&d.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=d,_h(t,n,d,a,c)):(t=tl(o.type,null,a,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,(t.lanes&c)===0){var g=d.memoizedProps;if(o=o.compare,o=o!==null?o:ts,o(g,a)&&t.ref===n.ref)return bn(t,n,c)}return n.flags|=1,t=ir(d,a),t.ref=n.ref,t.return=n,n.child=t}function _h(t,n,o,a,c){if(t!==null){var d=t.memoizedProps;if(ts(d,a)&&t.ref===n.ref)if(Pt=!1,n.pendingProps=a=d,(t.lanes&c)!==0)(t.flags&131072)!==0&&(Pt=!0);else return n.lanes=t.lanes,bn(t,n,c)}return au(t,n,o,a,c)}function wh(t,n,o){var a=n.pendingProps,c=a.children,d=t!==null?t.memoizedState:null;if(a.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(fi,Ht),Ht|=o;else{if((o&1073741824)===0)return t=d!==null?d.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,Oe(fi,Ht),Ht|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:o,Oe(fi,Ht),Ht|=a}else d!==null?(a=d.baseLanes|o,n.memoizedState=null):a=o,Oe(fi,Ht),Ht|=a;return Nt(t,n,c,o),n.child}function xh(t,n){var o=n.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function au(t,n,o,a,c){var d=It(o)?vr:_t.current;return d=ni(n,d),ai(n,c),o=Ja(t,n,o,a,d,c),a=Za(),t!==null&&!Pt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~c,bn(t,n,c)):(He&&a&&ja(n),n.flags|=1,Nt(t,n,o,c),n.child)}function Ch(t,n,o,a,c){if(It(o)){var d=!0;To(n)}else d=!1;if(ai(n,c),n.stateNode===null)Wo(t,n),ch(n,o,a),su(n,o,a,c),a=!0;else if(t===null){var g=n.stateNode,v=n.memoizedProps;g.props=v;var w=g.context,b=o.contextType;typeof b=="object"&&b!==null?b=Gt(b):(b=It(o)?vr:_t.current,b=ni(n,b));var R=o.getDerivedStateFromProps,A=typeof R=="function"||typeof g.getSnapshotBeforeUpdate=="function";A||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(v!==a||w!==b)&&dh(n,g,a,b),Xn=!1;var O=n.memoizedState;g.state=O,jo(n,a,g,c),w=n.memoizedState,v!==a||O!==w||Dt.current||Xn?(typeof R=="function"&&(iu(n,o,R,a),w=n.memoizedState),(v=Xn||uh(n,o,v,a,O,w,b))?(A||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=w),g.props=a,g.state=w,g.context=b,a=v):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{g=n.stateNode,Ff(t,n),v=n.memoizedProps,b=n.type===n.elementType?v:sn(n.type,v),g.props=b,A=n.pendingProps,O=g.context,w=o.contextType,typeof w=="object"&&w!==null?w=Gt(w):(w=It(o)?vr:_t.current,w=ni(n,w));var W=o.getDerivedStateFromProps;(R=typeof W=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(v!==A||O!==w)&&dh(n,g,a,w),Xn=!1,O=n.memoizedState,g.state=O,jo(n,a,g,c);var q=n.memoizedState;v!==A||O!==q||Dt.current||Xn?(typeof W=="function"&&(iu(n,o,W,a),q=n.memoizedState),(b=Xn||uh(n,o,b,a,O,q,w)||!1)?(R||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,q,w),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,q,w)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||v===t.memoizedProps&&O===t.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&O===t.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=q),g.props=a,g.state=q,g.context=w,a=b):(typeof g.componentDidUpdate!="function"||v===t.memoizedProps&&O===t.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&O===t.memoizedState||(n.flags|=1024),a=!1)}return uu(t,n,o,a,d,c)}function uu(t,n,o,a,c,d){xh(t,n);var g=(n.flags&128)!==0;if(!a&&!g)return c&&kf(n,o,!1),bn(t,n,d);a=n.stateNode,Hv.current=n;var v=g&&typeof o.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,t!==null&&g?(n.child=oi(n,t.child,null,d),n.child=oi(n,null,v,d)):Nt(t,n,v,d),n.memoizedState=a.state,c&&kf(n,o,!0),n.child}function Sh(t){var n=t.stateNode;n.pendingContext?Nf(t,n.pendingContext,n.pendingContext!==n.context):n.context&&Nf(t,n.context,!1),Ga(t,n.containerInfo)}function Eh(t,n,o,a,c){return si(),za(c),n.flags|=256,Nt(t,n,o,a),n.child}var cu={dehydrated:null,treeContext:null,retryLane:0};function du(t){return{baseLanes:t,cachePool:null,transitions:null}}function Nh(t,n,o){var a=n.pendingProps,c=We.current,d=!1,g=(n.flags&128)!==0,v;if((v=g)||(v=t!==null&&t.memoizedState===null?!1:(c&2)!==0),v?(d=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(c|=1),Oe(We,c&1),t===null)return Fa(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((n.mode&1)===0?n.lanes=1:t.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(g=a.children,t=a.fallback,d?(a=n.mode,d=n.child,g={mode:"hidden",children:g},(a&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=g):d=nl(g,a,0,null),t=br(t,a,o,null),d.return=n,t.return=n,d.sibling=t,n.child=d,n.child.memoizedState=du(o),n.memoizedState=cu,t):fu(n,g));if(c=t.memoizedState,c!==null&&(v=c.dehydrated,v!==null))return $v(t,n,g,a,v,c,o);if(d){d=a.fallback,g=n.mode,c=t.child,v=c.sibling;var w={mode:"hidden",children:a.children};return(g&1)===0&&n.child!==c?(a=n.child,a.childLanes=0,a.pendingProps=w,n.deletions=null):(a=ir(c,w),a.subtreeFlags=c.subtreeFlags&14680064),v!==null?d=ir(v,d):(d=br(d,g,o,null),d.flags|=2),d.return=n,a.return=n,a.sibling=d,n.child=a,a=d,d=n.child,g=t.child.memoizedState,g=g===null?du(o):{baseLanes:g.baseLanes|o,cachePool:null,transitions:g.transitions},d.memoizedState=g,d.childLanes=t.childLanes&~o,n.memoizedState=cu,a}return d=t.child,t=d.sibling,a=ir(d,{mode:"visible",children:a.children}),(n.mode&1)===0&&(a.lanes=o),a.return=n,a.sibling=null,t!==null&&(o=n.deletions,o===null?(n.deletions=[t],n.flags|=16):o.push(t)),n.child=a,n.memoizedState=null,a}function fu(t,n){return n=nl({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function $o(t,n,o,a){return a!==null&&za(a),oi(n,t.child,null,o),t=fu(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function $v(t,n,o,a,c,d,g){if(o)return n.flags&256?(n.flags&=-257,a=ou(Error(r(422))),$o(t,n,g,a)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(d=a.fallback,c=n.mode,a=nl({mode:"visible",children:a.children},c,0,null),d=br(d,c,g,null),d.flags|=2,a.return=n,d.return=n,a.sibling=d,n.child=a,(n.mode&1)!==0&&oi(n,t.child,null,g),n.child.memoizedState=du(g),n.memoizedState=cu,d);if((n.mode&1)===0)return $o(t,n,g,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var v=a.dgst;return a=v,d=Error(r(419)),a=ou(d,a,void 0),$o(t,n,g,a)}if(v=(g&t.childLanes)!==0,Pt||v){if(a=at,a!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(a.suspendedLanes|g))!==0?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,Tn(t,c),an(a,t,c,-1))}return bu(),a=ou(Error(r(421))),$o(t,n,g,a)}return c.data==="$?"?(n.flags|=128,n.child=t.child,n=n_.bind(null,t),c._reactRetry=n,null):(t=d.treeContext,Ut=Qn(c.nextSibling),Bt=n,He=!0,rn=null,t!==null&&(Wt[Vt++]=En,Wt[Vt++]=Nn,Wt[Vt++]=_r,En=t.id,Nn=t.overflow,_r=n),n=fu(n,a.children),n.flags|=4096,n)}function Th(t,n,o){t.lanes|=n;var a=t.alternate;a!==null&&(a.lanes|=n),$a(t.return,n,o)}function hu(t,n,o,a,c){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:c}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=o,d.tailMode=c)}function kh(t,n,o){var a=n.pendingProps,c=a.revealOrder,d=a.tail;if(Nt(t,n,a.children,o),a=We.current,(a&2)!==0)a=a&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Th(t,o,n);else if(t.tag===19)Th(t,o,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(Oe(We,a),(n.mode&1)===0)n.memoizedState=null;else switch(c){case"forwards":for(o=n.child,c=null;o!==null;)t=o.alternate,t!==null&&Mo(t)===null&&(c=o),o=o.sibling;o=c,o===null?(c=n.child,n.child=null):(c=o.sibling,o.sibling=null),hu(n,!1,c,o,d);break;case"backwards":for(o=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Mo(t)===null){n.child=c;break}t=c.sibling,c.sibling=o,o=c,c=t}hu(n,!0,o,null,d);break;case"together":hu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Wo(t,n){(n.mode&1)===0&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function bn(t,n,o){if(t!==null&&(n.dependencies=t.dependencies),Er|=n.lanes,(o&n.childLanes)===0)return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,o=ir(t,t.pendingProps),n.child=o,o.return=n;t.sibling!==null;)t=t.sibling,o=o.sibling=ir(t,t.pendingProps),o.return=n;o.sibling=null}return n.child}function Wv(t,n,o){switch(n.tag){case 3:Sh(n),si();break;case 5:Uf(n);break;case 1:It(n.type)&&To(n);break;case 4:Ga(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,c=n.memoizedProps.value;Oe(Oo,a._currentValue),a._currentValue=c;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(Oe(We,We.current&1),n.flags|=128,null):(o&n.child.childLanes)!==0?Nh(t,n,o):(Oe(We,We.current&1),t=bn(t,n,o),t!==null?t.sibling:null);Oe(We,We.current&1);break;case 19:if(a=(o&n.childLanes)!==0,(t.flags&128)!==0){if(a)return kh(t,n,o);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Oe(We,We.current),a)break;return null;case 22:case 23:return n.lanes=0,wh(t,n,o)}return bn(t,n,o)}var bh,pu,Dh,Ih;bh=function(t,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},pu=function(){},Dh=function(t,n,o,a){var c=t.memoizedProps;if(c!==a){t=n.stateNode,Cr(gn.current);var d=null;switch(o){case"input":c=Zt(t,c),a=Zt(t,a),d=[];break;case"select":c=V({},c,{value:void 0}),a=V({},a,{value:void 0}),d=[];break;case"textarea":c=Wr(t,c),a=Wr(t,a),d=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(t.onclick=So)}Gr(o,a);var g;o=null;for(b in c)if(!a.hasOwnProperty(b)&&c.hasOwnProperty(b)&&c[b]!=null)if(b==="style"){var v=c[b];for(g in v)v.hasOwnProperty(g)&&(o||(o={}),o[g]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(l.hasOwnProperty(b)?d||(d=[]):(d=d||[]).push(b,null));for(b in a){var w=a[b];if(v=c!=null?c[b]:void 0,a.hasOwnProperty(b)&&w!==v&&(w!=null||v!=null))if(b==="style")if(v){for(g in v)!v.hasOwnProperty(g)||w&&w.hasOwnProperty(g)||(o||(o={}),o[g]="");for(g in w)w.hasOwnProperty(g)&&v[g]!==w[g]&&(o||(o={}),o[g]=w[g])}else o||(d||(d=[]),d.push(b,o)),o=w;else b==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,v=v?v.__html:void 0,w!=null&&v!==w&&(d=d||[]).push(b,w)):b==="children"?typeof w!="string"&&typeof w!="number"||(d=d||[]).push(b,""+w):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(l.hasOwnProperty(b)?(w!=null&&b==="onScroll"&&Fe("scroll",t),d||v===w||(d=[])):(d=d||[]).push(b,w))}o&&(d=d||[]).push("style",o);var b=d;(n.updateQueue=b)&&(n.flags|=4)}},Ih=function(t,n,o,a){o!==a&&(n.flags|=4)};function ms(t,n){if(!He)switch(t.tailMode){case"hidden":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function xt(t){var n=t.alternate!==null&&t.alternate.child===t.child,o=0,a=0;if(n)for(var c=t.child;c!==null;)o|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)o|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=a,t.childLanes=o,n}function Vv(t,n,o){var a=n.pendingProps;switch(Ma(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(n),null;case 1:return It(n.type)&&No(),xt(n),null;case 3:return a=n.stateNode,ui(),ze(Dt),ze(_t),Ya(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Io(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,rn!==null&&(Nu(rn),rn=null))),pu(t,n),xt(n),null;case 5:Qa(n);var c=Cr(ds.current);if(o=n.type,t!==null&&n.stateNode!=null)Dh(t,n,o,a,c),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(r(166));return xt(n),null}if(t=Cr(gn.current),Io(n)){a=n.stateNode,o=n.type;var d=n.memoizedProps;switch(a[pn]=n,a[os]=d,t=(n.mode&1)!==0,o){case"dialog":Fe("cancel",a),Fe("close",a);break;case"iframe":case"object":case"embed":Fe("load",a);break;case"video":case"audio":for(c=0;c<rs.length;c++)Fe(rs[c],a);break;case"source":Fe("error",a);break;case"img":case"image":case"link":Fe("error",a),Fe("load",a);break;case"details":Fe("toggle",a);break;case"input":Mi(a,d),Fe("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},Fe("invalid",a);break;case"textarea":Vr(a,d),Fe("invalid",a)}Gr(o,d),c=null;for(var g in d)if(d.hasOwnProperty(g)){var v=d[g];g==="children"?typeof v=="string"?a.textContent!==v&&(d.suppressHydrationWarning!==!0&&Co(a.textContent,v,t),c=["children",v]):typeof v=="number"&&a.textContent!==""+v&&(d.suppressHydrationWarning!==!0&&Co(a.textContent,v,t),c=["children",""+v]):l.hasOwnProperty(g)&&v!=null&&g==="onScroll"&&Fe("scroll",a)}switch(o){case"input":Hr(a),$t(a,d,!0);break;case"textarea":Hr(a),eo(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=So)}a=c,n.updateQueue=a,a!==null&&(n.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=to(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=g.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof a.is=="string"?t=g.createElement(o,{is:a.is}):(t=g.createElement(o),o==="select"&&(g=t,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):t=g.createElementNS(t,o),t[pn]=n,t[os]=a,bh(t,n,!1,!1),n.stateNode=t;e:{switch(g=zi(o,a),o){case"dialog":Fe("cancel",t),Fe("close",t),c=a;break;case"iframe":case"object":case"embed":Fe("load",t),c=a;break;case"video":case"audio":for(c=0;c<rs.length;c++)Fe(rs[c],t);c=a;break;case"source":Fe("error",t),c=a;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),c=a;break;case"details":Fe("toggle",t),c=a;break;case"input":Mi(t,a),c=Zt(t,a),Fe("invalid",t);break;case"option":c=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},c=V({},a,{value:void 0}),Fe("invalid",t);break;case"textarea":Vr(t,a),c=Wr(t,a),Fe("invalid",t);break;default:c=a}Gr(o,c),v=c;for(d in v)if(v.hasOwnProperty(d)){var w=v[d];d==="style"?bt(t,w):d==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&no(t,w)):d==="children"?typeof w=="string"?(o!=="textarea"||w!=="")&&gr(t,w):typeof w=="number"&&gr(t,""+w):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(l.hasOwnProperty(d)?w!=null&&d==="onScroll"&&Fe("scroll",t):w!=null&&ve(t,d,w,g))}switch(o){case"input":Hr(t),$t(t,a,!1);break;case"textarea":Hr(t),eo(t);break;case"option":a.value!=null&&t.setAttribute("value",""+me(a.value));break;case"select":t.multiple=!!a.multiple,d=a.value,d!=null?wn(t,!!a.multiple,d,!1):a.defaultValue!=null&&wn(t,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(t.onclick=So)}switch(o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return xt(n),null;case 6:if(t&&n.stateNode!=null)Ih(t,n,t.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(r(166));if(o=Cr(ds.current),Cr(gn.current),Io(n)){if(a=n.stateNode,o=n.memoizedProps,a[pn]=n,(d=a.nodeValue!==o)&&(t=Bt,t!==null))switch(t.tag){case 3:Co(a.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Co(a.nodeValue,o,(t.mode&1)!==0)}d&&(n.flags|=4)}else a=(o.nodeType===9?o:o.ownerDocument).createTextNode(a),a[pn]=n,n.stateNode=a}return xt(n),null;case 13:if(ze(We),a=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&Ut!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Rf(),si(),n.flags|=98560,d=!1;else if(d=Io(n),a!==null&&a.dehydrated!==null){if(t===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[pn]=n}else si(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;xt(n),d=!1}else rn!==null&&(Nu(rn),rn=null),d=!0;if(!d)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=o,n):(a=a!==null,a!==(t!==null&&t.memoizedState!==null)&&a&&(n.child.flags|=8192,(n.mode&1)!==0&&(t===null||(We.current&1)!==0?rt===0&&(rt=3):bu())),n.updateQueue!==null&&(n.flags|=4),xt(n),null);case 4:return ui(),pu(t,n),t===null&&is(n.stateNode.containerInfo),xt(n),null;case 10:return Ha(n.type._context),xt(n),null;case 17:return It(n.type)&&No(),xt(n),null;case 19:if(ze(We),d=n.memoizedState,d===null)return xt(n),null;if(a=(n.flags&128)!==0,g=d.rendering,g===null)if(a)ms(d,!1);else{if(rt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(g=Mo(t),g!==null){for(n.flags|=128,ms(d,!1),a=g.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=o,o=n.child;o!==null;)d=o,t=a,d.flags&=14680066,g=d.alternate,g===null?(d.childLanes=0,d.lanes=t,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=g.childLanes,d.lanes=g.lanes,d.child=g.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=g.memoizedProps,d.memoizedState=g.memoizedState,d.updateQueue=g.updateQueue,d.type=g.type,t=g.dependencies,d.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return Oe(We,We.current&1|2),n.child}t=t.sibling}d.tail!==null&&Ke()>hi&&(n.flags|=128,a=!0,ms(d,!1),n.lanes=4194304)}else{if(!a)if(t=Mo(g),t!==null){if(n.flags|=128,a=!0,o=t.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),ms(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!He)return xt(n),null}else 2*Ke()-d.renderingStartTime>hi&&o!==1073741824&&(n.flags|=128,a=!0,ms(d,!1),n.lanes=4194304);d.isBackwards?(g.sibling=n.child,n.child=g):(o=d.last,o!==null?o.sibling=g:n.child=g,d.last=g)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=Ke(),n.sibling=null,o=We.current,Oe(We,a?o&1|2:o&1),n):(xt(n),null);case 22:case 23:return ku(),a=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==a&&(n.flags|=8192),a&&(n.mode&1)!==0?(Ht&1073741824)!==0&&(xt(n),n.subtreeFlags&6&&(n.flags|=8192)):xt(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function Gv(t,n){switch(Ma(n),n.tag){case 1:return It(n.type)&&No(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ui(),ze(Dt),ze(_t),Ya(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 5:return Qa(n),null;case 13:if(ze(We),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));si()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ze(We),null;case 4:return ui(),null;case 10:return Ha(n.type._context),null;case 22:case 23:return ku(),null;case 24:return null;default:return null}}var Vo=!1,Ct=!1,Qv=typeof WeakSet=="function"?WeakSet:Set,Q=null;function di(t,n){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(a){Qe(t,n,a)}else o.current=null}function gu(t,n,o){try{o()}catch(a){Qe(t,n,a)}}var Ph=!1;function qv(t,n){if(ka=co,t=uf(),_a(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var c=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{o.nodeType,d.nodeType}catch{o=null;break e}var g=0,v=-1,w=-1,b=0,R=0,A=t,O=null;t:for(;;){for(var W;A!==o||c!==0&&A.nodeType!==3||(v=g+c),A!==d||a!==0&&A.nodeType!==3||(w=g+a),A.nodeType===3&&(g+=A.nodeValue.length),(W=A.firstChild)!==null;)O=A,A=W;for(;;){if(A===t)break t;if(O===o&&++b===c&&(v=g),O===d&&++R===a&&(w=g),(W=A.nextSibling)!==null)break;A=O,O=A.parentNode}A=W}o=v===-1||w===-1?null:{start:v,end:w}}else o=null}o=o||{start:0,end:0}}else o=null;for(ba={focusedElem:t,selectionRange:o},co=!1,Q=n;Q!==null;)if(n=Q,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Q=t;else for(;Q!==null;){n=Q;try{var q=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(q!==null){var K=q.memoizedProps,Xe=q.memoizedState,T=n.stateNode,C=T.getSnapshotBeforeUpdate(n.elementType===n.type?K:sn(n.type,K),Xe);T.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var k=n.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(L){Qe(n,n.return,L)}if(t=n.sibling,t!==null){t.return=n.return,Q=t;break}Q=n.return}return q=Ph,Ph=!1,q}function ys(t,n,o){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&t)===t){var d=c.destroy;c.destroy=void 0,d!==void 0&&gu(n,o,d)}c=c.next}while(c!==a)}}function Go(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&t)===t){var a=o.create;o.destroy=a()}o=o.next}while(o!==n)}}function mu(t){var n=t.ref;if(n!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof n=="function"?n(t):n.current=t}}function Oh(t){var n=t.alternate;n!==null&&(t.alternate=null,Oh(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[pn],delete n[os],delete n[Oa],delete n[Iv],delete n[Pv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Rh(t){return t.tag===5||t.tag===3||t.tag===4}function Ah(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Rh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yu(t,n,o){var a=t.tag;if(a===5||a===6)t=t.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(t,n):o.insertBefore(t,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(t,o)):(n=o,n.appendChild(t)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=So));else if(a!==4&&(t=t.child,t!==null))for(yu(t,n,o),t=t.sibling;t!==null;)yu(t,n,o),t=t.sibling}function vu(t,n,o){var a=t.tag;if(a===5||a===6)t=t.stateNode,n?o.insertBefore(t,n):o.appendChild(t);else if(a!==4&&(t=t.child,t!==null))for(vu(t,n,o),t=t.sibling;t!==null;)vu(t,n,o),t=t.sibling}var gt=null,on=!1;function Zn(t,n,o){for(o=o.child;o!==null;)jh(t,n,o),o=o.sibling}function jh(t,n,o){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(io,o)}catch{}switch(o.tag){case 5:Ct||di(o,n);case 6:var a=gt,c=on;gt=null,Zn(t,n,o),gt=a,on=c,gt!==null&&(on?(t=gt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):gt.removeChild(o.stateNode));break;case 18:gt!==null&&(on?(t=gt,o=o.stateNode,t.nodeType===8?Pa(t.parentNode,o):t.nodeType===1&&Pa(t,o),Yi(t)):Pa(gt,o.stateNode));break;case 4:a=gt,c=on,gt=o.stateNode.containerInfo,on=!0,Zn(t,n,o),gt=a,on=c;break;case 0:case 11:case 14:case 15:if(!Ct&&(a=o.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var d=c,g=d.destroy;d=d.tag,g!==void 0&&((d&2)!==0||(d&4)!==0)&&gu(o,n,g),c=c.next}while(c!==a)}Zn(t,n,o);break;case 1:if(!Ct&&(di(o,n),a=o.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=o.memoizedProps,a.state=o.memoizedState,a.componentWillUnmount()}catch(v){Qe(o,n,v)}Zn(t,n,o);break;case 21:Zn(t,n,o);break;case 22:o.mode&1?(Ct=(a=Ct)||o.memoizedState!==null,Zn(t,n,o),Ct=a):Zn(t,n,o);break;default:Zn(t,n,o)}}function Mh(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Qv),n.forEach(function(a){var c=r_.bind(null,t,a);o.has(a)||(o.add(a),a.then(c,c))})}}function ln(t,n){var o=n.deletions;if(o!==null)for(var a=0;a<o.length;a++){var c=o[a];try{var d=t,g=n,v=g;e:for(;v!==null;){switch(v.tag){case 5:gt=v.stateNode,on=!1;break e;case 3:gt=v.stateNode.containerInfo,on=!0;break e;case 4:gt=v.stateNode.containerInfo,on=!0;break e}v=v.return}if(gt===null)throw Error(r(160));jh(d,g,c),gt=null,on=!1;var w=c.alternate;w!==null&&(w.return=null),c.return=null}catch(b){Qe(c,n,b)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Lh(n,t),n=n.sibling}function Lh(t,n){var o=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ln(n,t),yn(t),a&4){try{ys(3,t,t.return),Go(3,t)}catch(K){Qe(t,t.return,K)}try{ys(5,t,t.return)}catch(K){Qe(t,t.return,K)}}break;case 1:ln(n,t),yn(t),a&512&&o!==null&&di(o,o.return);break;case 5:if(ln(n,t),yn(t),a&512&&o!==null&&di(o,o.return),t.flags&32){var c=t.stateNode;try{gr(c,"")}catch(K){Qe(t,t.return,K)}}if(a&4&&(c=t.stateNode,c!=null)){var d=t.memoizedProps,g=o!==null?o.memoizedProps:d,v=t.type,w=t.updateQueue;if(t.updateQueue=null,w!==null)try{v==="input"&&d.type==="radio"&&d.name!=null&&Js(c,d),zi(v,g);var b=zi(v,d);for(g=0;g<w.length;g+=2){var R=w[g],A=w[g+1];R==="style"?bt(c,A):R==="dangerouslySetInnerHTML"?no(c,A):R==="children"?gr(c,A):ve(c,R,A,b)}switch(v){case"input":hr(c,d);break;case"textarea":Zs(c,d);break;case"select":var O=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var W=d.value;W!=null?wn(c,!!d.multiple,W,!1):O!==!!d.multiple&&(d.defaultValue!=null?wn(c,!!d.multiple,d.defaultValue,!0):wn(c,!!d.multiple,d.multiple?[]:"",!1))}c[os]=d}catch(K){Qe(t,t.return,K)}}break;case 6:if(ln(n,t),yn(t),a&4){if(t.stateNode===null)throw Error(r(162));c=t.stateNode,d=t.memoizedProps;try{c.nodeValue=d}catch(K){Qe(t,t.return,K)}}break;case 3:if(ln(n,t),yn(t),a&4&&o!==null&&o.memoizedState.isDehydrated)try{Yi(n.containerInfo)}catch(K){Qe(t,t.return,K)}break;case 4:ln(n,t),yn(t);break;case 13:ln(n,t),yn(t),c=t.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(xu=Ke())),a&4&&Mh(t);break;case 22:if(R=o!==null&&o.memoizedState!==null,t.mode&1?(Ct=(b=Ct)||R,ln(n,t),Ct=b):ln(n,t),yn(t),a&8192){if(b=t.memoizedState!==null,(t.stateNode.isHidden=b)&&!R&&(t.mode&1)!==0)for(Q=t,R=t.child;R!==null;){for(A=Q=R;Q!==null;){switch(O=Q,W=O.child,O.tag){case 0:case 11:case 14:case 15:ys(4,O,O.return);break;case 1:di(O,O.return);var q=O.stateNode;if(typeof q.componentWillUnmount=="function"){a=O,o=O.return;try{n=a,q.props=n.memoizedProps,q.state=n.memoizedState,q.componentWillUnmount()}catch(K){Qe(a,o,K)}}break;case 5:di(O,O.return);break;case 22:if(O.memoizedState!==null){Bh(A);continue}}W!==null?(W.return=O,Q=W):Bh(A)}R=R.sibling}e:for(R=null,A=t;;){if(A.tag===5){if(R===null){R=A;try{c=A.stateNode,b?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(v=A.stateNode,w=A.memoizedProps.style,g=w!=null&&w.hasOwnProperty("display")?w.display:null,v.style.display=Fi("display",g))}catch(K){Qe(t,t.return,K)}}}else if(A.tag===6){if(R===null)try{A.stateNode.nodeValue=b?"":A.memoizedProps}catch(K){Qe(t,t.return,K)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===t)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===t)break e;for(;A.sibling===null;){if(A.return===null||A.return===t)break e;R===A&&(R=null),A=A.return}R===A&&(R=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:ln(n,t),yn(t),a&4&&Mh(t);break;case 21:break;default:ln(n,t),yn(t)}}function yn(t){var n=t.flags;if(n&2){try{e:{for(var o=t.return;o!==null;){if(Rh(o)){var a=o;break e}o=o.return}throw Error(r(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(gr(c,""),a.flags&=-33);var d=Ah(t);vu(t,d,c);break;case 3:case 4:var g=a.stateNode.containerInfo,v=Ah(t);yu(t,v,g);break;default:throw Error(r(161))}}catch(w){Qe(t,t.return,w)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Yv(t,n,o){Q=t,Fh(t)}function Fh(t,n,o){for(var a=(t.mode&1)!==0;Q!==null;){var c=Q,d=c.child;if(c.tag===22&&a){var g=c.memoizedState!==null||Vo;if(!g){var v=c.alternate,w=v!==null&&v.memoizedState!==null||Ct;v=Vo;var b=Ct;if(Vo=g,(Ct=w)&&!b)for(Q=c;Q!==null;)g=Q,w=g.child,g.tag===22&&g.memoizedState!==null?Uh(c):w!==null?(w.return=g,Q=w):Uh(c);for(;d!==null;)Q=d,Fh(d),d=d.sibling;Q=c,Vo=v,Ct=b}zh(t)}else(c.subtreeFlags&8772)!==0&&d!==null?(d.return=c,Q=d):zh(t)}}function zh(t){for(;Q!==null;){var n=Q;if((n.flags&8772)!==0){var o=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Ct||Go(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!Ct)if(o===null)a.componentDidMount();else{var c=n.elementType===n.type?o.memoizedProps:sn(n.type,o.memoizedProps);a.componentDidUpdate(c,o.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&Bf(n,d,a);break;case 3:var g=n.updateQueue;if(g!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=n.child.stateNode;break;case 1:o=n.child.stateNode}Bf(n,g,o)}break;case 5:var v=n.stateNode;if(o===null&&n.flags&4){o=v;var w=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&o.focus();break;case"img":w.src&&(o.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var b=n.alternate;if(b!==null){var R=b.memoizedState;if(R!==null){var A=R.dehydrated;A!==null&&Yi(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ct||n.flags&512&&mu(n)}catch(O){Qe(n,n.return,O)}}if(n===t){Q=null;break}if(o=n.sibling,o!==null){o.return=n.return,Q=o;break}Q=n.return}}function Bh(t){for(;Q!==null;){var n=Q;if(n===t){Q=null;break}var o=n.sibling;if(o!==null){o.return=n.return,Q=o;break}Q=n.return}}function Uh(t){for(;Q!==null;){var n=Q;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{Go(4,n)}catch(w){Qe(n,o,w)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var c=n.return;try{a.componentDidMount()}catch(w){Qe(n,c,w)}}var d=n.return;try{mu(n)}catch(w){Qe(n,d,w)}break;case 5:var g=n.return;try{mu(n)}catch(w){Qe(n,g,w)}}}catch(w){Qe(n,n.return,w)}if(n===t){Q=null;break}var v=n.sibling;if(v!==null){v.return=n.return,Q=v;break}Q=n.return}}var Kv=Math.ceil,Qo=Se.ReactCurrentDispatcher,_u=Se.ReactCurrentOwner,qt=Se.ReactCurrentBatchConfig,we=0,at=null,et=null,mt=0,Ht=0,fi=qn(0),rt=0,vs=null,Er=0,qo=0,wu=0,_s=null,Ot=null,xu=0,hi=1/0,Dn=null,Yo=!1,Cu=null,er=null,Ko=!1,tr=null,Xo=0,ws=0,Su=null,Jo=-1,Zo=0;function Tt(){return(we&6)!==0?Ke():Jo!==-1?Jo:Jo=Ke()}function nr(t){return(t.mode&1)===0?1:(we&2)!==0&&mt!==0?mt&-mt:Rv.transition!==null?(Zo===0&&(Zo=Rd()),Zo):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:Hd(t.type)),t)}function an(t,n,o,a){if(50<ws)throw ws=0,Su=null,Error(r(185));Wi(t,o,a),((we&2)===0||t!==at)&&(t===at&&((we&2)===0&&(qo|=o),rt===4&&rr(t,mt)),Rt(t,a),o===1&&we===0&&(n.mode&1)===0&&(hi=Ke()+500,ko&&Kn()))}function Rt(t,n){var o=t.callbackNode;Ry(t,n);var a=lo(t,t===at?mt:0);if(a===0)o!==null&&Id(o),t.callbackNode=null,t.callbackPriority=0;else if(n=a&-a,t.callbackPriority!==n){if(o!=null&&Id(o),n===1)t.tag===0?Ov($h.bind(null,t)):bf($h.bind(null,t)),bv(function(){(we&6)===0&&Kn()}),o=null;else{switch(Ad(a)){case 1:o=na;break;case 4:o=Pd;break;case 16:o=ro;break;case 536870912:o=Od;break;default:o=ro}o=Xh(o,Hh.bind(null,t))}t.callbackPriority=n,t.callbackNode=o}}function Hh(t,n){if(Jo=-1,Zo=0,(we&6)!==0)throw Error(r(327));var o=t.callbackNode;if(pi()&&t.callbackNode!==o)return null;var a=lo(t,t===at?mt:0);if(a===0)return null;if((a&30)!==0||(a&t.expiredLanes)!==0||n)n=el(t,a);else{n=a;var c=we;we|=2;var d=Vh();(at!==t||mt!==n)&&(Dn=null,hi=Ke()+500,Tr(t,n));do try{Zv();break}catch(v){Wh(t,v)}while(!0);Ua(),Qo.current=d,we=c,et!==null?n=0:(at=null,mt=0,n=rt)}if(n!==0){if(n===2&&(c=ra(t),c!==0&&(a=c,n=Eu(t,c))),n===1)throw o=vs,Tr(t,0),rr(t,a),Rt(t,Ke()),o;if(n===6)rr(t,a);else{if(c=t.current.alternate,(a&30)===0&&!Xv(c)&&(n=el(t,a),n===2&&(d=ra(t),d!==0&&(a=d,n=Eu(t,d))),n===1))throw o=vs,Tr(t,0),rr(t,a),Rt(t,Ke()),o;switch(t.finishedWork=c,t.finishedLanes=a,n){case 0:case 1:throw Error(r(345));case 2:kr(t,Ot,Dn);break;case 3:if(rr(t,a),(a&130023424)===a&&(n=xu+500-Ke(),10<n)){if(lo(t,0)!==0)break;if(c=t.suspendedLanes,(c&a)!==a){Tt(),t.pingedLanes|=t.suspendedLanes&c;break}t.timeoutHandle=Ia(kr.bind(null,t,Ot,Dn),n);break}kr(t,Ot,Dn);break;case 4:if(rr(t,a),(a&4194240)===a)break;for(n=t.eventTimes,c=-1;0<a;){var g=31-tn(a);d=1<<g,g=n[g],g>c&&(c=g),a&=~d}if(a=c,a=Ke()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Kv(a/1960))-a,10<a){t.timeoutHandle=Ia(kr.bind(null,t,Ot,Dn),a);break}kr(t,Ot,Dn);break;case 5:kr(t,Ot,Dn);break;default:throw Error(r(329))}}}return Rt(t,Ke()),t.callbackNode===o?Hh.bind(null,t):null}function Eu(t,n){var o=_s;return t.current.memoizedState.isDehydrated&&(Tr(t,n).flags|=256),t=el(t,n),t!==2&&(n=Ot,Ot=o,n!==null&&Nu(n)),t}function Nu(t){Ot===null?Ot=t:Ot.push.apply(Ot,t)}function Xv(t){for(var n=t;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var a=0;a<o.length;a++){var c=o[a],d=c.getSnapshot;c=c.value;try{if(!nn(d(),c))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function rr(t,n){for(n&=~wu,n&=~qo,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var o=31-tn(n),a=1<<o;t[o]=-1,n&=~a}}function $h(t){if((we&6)!==0)throw Error(r(327));pi();var n=lo(t,0);if((n&1)===0)return Rt(t,Ke()),null;var o=el(t,n);if(t.tag!==0&&o===2){var a=ra(t);a!==0&&(n=a,o=Eu(t,a))}if(o===1)throw o=vs,Tr(t,0),rr(t,n),Rt(t,Ke()),o;if(o===6)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,kr(t,Ot,Dn),Rt(t,Ke()),null}function Tu(t,n){var o=we;we|=1;try{return t(n)}finally{we=o,we===0&&(hi=Ke()+500,ko&&Kn())}}function Nr(t){tr!==null&&tr.tag===0&&(we&6)===0&&pi();var n=we;we|=1;var o=qt.transition,a=Ne;try{if(qt.transition=null,Ne=1,t)return t()}finally{Ne=a,qt.transition=o,we=n,(we&6)===0&&Kn()}}function ku(){Ht=fi.current,ze(fi)}function Tr(t,n){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,kv(o)),et!==null)for(o=et.return;o!==null;){var a=o;switch(Ma(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&No();break;case 3:ui(),ze(Dt),ze(_t),Ya();break;case 5:Qa(a);break;case 4:ui();break;case 13:ze(We);break;case 19:ze(We);break;case 10:Ha(a.type._context);break;case 22:case 23:ku()}o=o.return}if(at=t,et=t=ir(t.current,null),mt=Ht=n,rt=0,vs=null,wu=qo=Er=0,Ot=_s=null,xr!==null){for(n=0;n<xr.length;n++)if(o=xr[n],a=o.interleaved,a!==null){o.interleaved=null;var c=a.next,d=o.pending;if(d!==null){var g=d.next;d.next=c,a.next=g}o.pending=a}xr=null}return t}function Wh(t,n){do{var o=et;try{if(Ua(),Lo.current=Uo,Fo){for(var a=Ve.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Fo=!1}if(Sr=0,lt=nt=Ve=null,fs=!1,hs=0,_u.current=null,o===null||o.return===null){rt=1,vs=n,et=null;break}e:{var d=t,g=o.return,v=o,w=n;if(n=mt,v.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var b=w,R=v,A=R.tag;if((R.mode&1)===0&&(A===0||A===11||A===15)){var O=R.alternate;O?(R.updateQueue=O.updateQueue,R.memoizedState=O.memoizedState,R.lanes=O.lanes):(R.updateQueue=null,R.memoizedState=null)}var W=gh(g);if(W!==null){W.flags&=-257,mh(W,g,v,d,n),W.mode&1&&ph(d,b,n),n=W,w=b;var q=n.updateQueue;if(q===null){var K=new Set;K.add(w),n.updateQueue=K}else q.add(w);break e}else{if((n&1)===0){ph(d,b,n),bu();break e}w=Error(r(426))}}else if(He&&v.mode&1){var Xe=gh(g);if(Xe!==null){(Xe.flags&65536)===0&&(Xe.flags|=256),mh(Xe,g,v,d,n),za(ci(w,v));break e}}d=w=ci(w,v),rt!==4&&(rt=2),_s===null?_s=[d]:_s.push(d),d=g;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var T=fh(d,w,n);zf(d,T);break e;case 1:v=w;var C=d.type,k=d.stateNode;if((d.flags&128)===0&&(typeof C.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(er===null||!er.has(k)))){d.flags|=65536,n&=-n,d.lanes|=n;var L=hh(d,v,n);zf(d,L);break e}}d=d.return}while(d!==null)}Qh(o)}catch(X){n=X,et===o&&o!==null&&(et=o=o.return);continue}break}while(!0)}function Vh(){var t=Qo.current;return Qo.current=Uo,t===null?Uo:t}function bu(){(rt===0||rt===3||rt===2)&&(rt=4),at===null||(Er&268435455)===0&&(qo&268435455)===0||rr(at,mt)}function el(t,n){var o=we;we|=2;var a=Vh();(at!==t||mt!==n)&&(Dn=null,Tr(t,n));do try{Jv();break}catch(c){Wh(t,c)}while(!0);if(Ua(),we=o,Qo.current=a,et!==null)throw Error(r(261));return at=null,mt=0,rt}function Jv(){for(;et!==null;)Gh(et)}function Zv(){for(;et!==null&&!Ey();)Gh(et)}function Gh(t){var n=Kh(t.alternate,t,Ht);t.memoizedProps=t.pendingProps,n===null?Qh(t):et=n,_u.current=null}function Qh(t){var n=t;do{var o=n.alternate;if(t=n.return,(n.flags&32768)===0){if(o=Vv(o,n,Ht),o!==null){et=o;return}}else{if(o=Gv(o,n),o!==null){o.flags&=32767,et=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rt=6,et=null;return}}if(n=n.sibling,n!==null){et=n;return}et=n=t}while(n!==null);rt===0&&(rt=5)}function kr(t,n,o){var a=Ne,c=qt.transition;try{qt.transition=null,Ne=1,e_(t,n,o,a)}finally{qt.transition=c,Ne=a}return null}function e_(t,n,o,a){do pi();while(tr!==null);if((we&6)!==0)throw Error(r(327));o=t.finishedWork;var c=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var d=o.lanes|o.childLanes;if(Ay(t,d),t===at&&(et=at=null,mt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Ko||(Ko=!0,Xh(ro,function(){return pi(),null})),d=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||d){d=qt.transition,qt.transition=null;var g=Ne;Ne=1;var v=we;we|=4,_u.current=null,qv(t,o),Lh(o,t),wv(ba),co=!!ka,ba=ka=null,t.current=o,Yv(o),Ny(),we=v,Ne=g,qt.transition=d}else t.current=o;if(Ko&&(Ko=!1,tr=t,Xo=c),d=t.pendingLanes,d===0&&(er=null),by(o.stateNode),Rt(t,Ke()),n!==null)for(a=t.onRecoverableError,o=0;o<n.length;o++)c=n[o],a(c.value,{componentStack:c.stack,digest:c.digest});if(Yo)throw Yo=!1,t=Cu,Cu=null,t;return(Xo&1)!==0&&t.tag!==0&&pi(),d=t.pendingLanes,(d&1)!==0?t===Su?ws++:(ws=0,Su=t):ws=0,Kn(),null}function pi(){if(tr!==null){var t=Ad(Xo),n=qt.transition,o=Ne;try{if(qt.transition=null,Ne=16>t?16:t,tr===null)var a=!1;else{if(t=tr,tr=null,Xo=0,(we&6)!==0)throw Error(r(331));var c=we;for(we|=4,Q=t.current;Q!==null;){var d=Q,g=d.child;if((Q.flags&16)!==0){var v=d.deletions;if(v!==null){for(var w=0;w<v.length;w++){var b=v[w];for(Q=b;Q!==null;){var R=Q;switch(R.tag){case 0:case 11:case 15:ys(8,R,d)}var A=R.child;if(A!==null)A.return=R,Q=A;else for(;Q!==null;){R=Q;var O=R.sibling,W=R.return;if(Oh(R),R===b){Q=null;break}if(O!==null){O.return=W,Q=O;break}Q=W}}}var q=d.alternate;if(q!==null){var K=q.child;if(K!==null){q.child=null;do{var Xe=K.sibling;K.sibling=null,K=Xe}while(K!==null)}}Q=d}}if((d.subtreeFlags&2064)!==0&&g!==null)g.return=d,Q=g;else e:for(;Q!==null;){if(d=Q,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:ys(9,d,d.return)}var T=d.sibling;if(T!==null){T.return=d.return,Q=T;break e}Q=d.return}}var C=t.current;for(Q=C;Q!==null;){g=Q;var k=g.child;if((g.subtreeFlags&2064)!==0&&k!==null)k.return=g,Q=k;else e:for(g=C;Q!==null;){if(v=Q,(v.flags&2048)!==0)try{switch(v.tag){case 0:case 11:case 15:Go(9,v)}}catch(X){Qe(v,v.return,X)}if(v===g){Q=null;break e}var L=v.sibling;if(L!==null){L.return=v.return,Q=L;break e}Q=v.return}}if(we=c,Kn(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(io,t)}catch{}a=!0}return a}finally{Ne=o,qt.transition=n}}return!1}function qh(t,n,o){n=ci(o,n),n=fh(t,n,1),t=Jn(t,n,1),n=Tt(),t!==null&&(Wi(t,1,n),Rt(t,n))}function Qe(t,n,o){if(t.tag===3)qh(t,t,o);else for(;n!==null;){if(n.tag===3){qh(n,t,o);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(er===null||!er.has(a))){t=ci(o,t),t=hh(n,t,1),n=Jn(n,t,1),t=Tt(),n!==null&&(Wi(n,1,t),Rt(n,t));break}}n=n.return}}function t_(t,n,o){var a=t.pingCache;a!==null&&a.delete(n),n=Tt(),t.pingedLanes|=t.suspendedLanes&o,at===t&&(mt&o)===o&&(rt===4||rt===3&&(mt&130023424)===mt&&500>Ke()-xu?Tr(t,0):wu|=o),Rt(t,n)}function Yh(t,n){n===0&&((t.mode&1)===0?n=1:(n=oo,oo<<=1,(oo&130023424)===0&&(oo=4194304)));var o=Tt();t=Tn(t,n),t!==null&&(Wi(t,n,o),Rt(t,o))}function n_(t){var n=t.memoizedState,o=0;n!==null&&(o=n.retryLane),Yh(t,o)}function r_(t,n){var o=0;switch(t.tag){case 13:var a=t.stateNode,c=t.memoizedState;c!==null&&(o=c.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(r(314))}a!==null&&a.delete(n),Yh(t,o)}var Kh;Kh=function(t,n,o){if(t!==null)if(t.memoizedProps!==n.pendingProps||Dt.current)Pt=!0;else{if((t.lanes&o)===0&&(n.flags&128)===0)return Pt=!1,Wv(t,n,o);Pt=(t.flags&131072)!==0}else Pt=!1,He&&(n.flags&1048576)!==0&&Df(n,Do,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;Wo(t,n),t=n.pendingProps;var c=ni(n,_t.current);ai(n,o),c=Ja(null,n,a,t,c,o);var d=Za();return n.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,It(a)?(d=!0,To(n)):d=!1,n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Va(n),c.updater=Ho,n.stateNode=c,c._reactInternals=n,su(n,a,t,o),n=uu(null,n,a,!0,d,o)):(n.tag=0,He&&d&&ja(n),Nt(null,n,c,o),n=n.child),n;case 16:a=n.elementType;e:{switch(Wo(t,n),t=n.pendingProps,c=a._init,a=c(a._payload),n.type=a,c=n.tag=s_(a),t=sn(a,t),c){case 0:n=au(null,n,a,t,o);break e;case 1:n=Ch(null,n,a,t,o);break e;case 11:n=yh(null,n,a,t,o);break e;case 14:n=vh(null,n,a,sn(a.type,t),o);break e}throw Error(r(306,a,""))}return n;case 0:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:sn(a,c),au(t,n,a,c,o);case 1:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:sn(a,c),Ch(t,n,a,c,o);case 3:e:{if(Sh(n),t===null)throw Error(r(387));a=n.pendingProps,d=n.memoizedState,c=d.element,Ff(t,n),jo(n,a,null,o);var g=n.memoizedState;if(a=g.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){c=ci(Error(r(423)),n),n=Eh(t,n,a,o,c);break e}else if(a!==c){c=ci(Error(r(424)),n),n=Eh(t,n,a,o,c);break e}else for(Ut=Qn(n.stateNode.containerInfo.firstChild),Bt=n,He=!0,rn=null,o=Mf(n,null,a,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(si(),a===c){n=bn(t,n,o);break e}Nt(t,n,a,o)}n=n.child}return n;case 5:return Uf(n),t===null&&Fa(n),a=n.type,c=n.pendingProps,d=t!==null?t.memoizedProps:null,g=c.children,Da(a,c)?g=null:d!==null&&Da(a,d)&&(n.flags|=32),xh(t,n),Nt(t,n,g,o),n.child;case 6:return t===null&&Fa(n),null;case 13:return Nh(t,n,o);case 4:return Ga(n,n.stateNode.containerInfo),a=n.pendingProps,t===null?n.child=oi(n,null,a,o):Nt(t,n,a,o),n.child;case 11:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:sn(a,c),yh(t,n,a,c,o);case 7:return Nt(t,n,n.pendingProps,o),n.child;case 8:return Nt(t,n,n.pendingProps.children,o),n.child;case 12:return Nt(t,n,n.pendingProps.children,o),n.child;case 10:e:{if(a=n.type._context,c=n.pendingProps,d=n.memoizedProps,g=c.value,Oe(Oo,a._currentValue),a._currentValue=g,d!==null)if(nn(d.value,g)){if(d.children===c.children&&!Dt.current){n=bn(t,n,o);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var v=d.dependencies;if(v!==null){g=d.child;for(var w=v.firstContext;w!==null;){if(w.context===a){if(d.tag===1){w=kn(-1,o&-o),w.tag=2;var b=d.updateQueue;if(b!==null){b=b.shared;var R=b.pending;R===null?w.next=w:(w.next=R.next,R.next=w),b.pending=w}}d.lanes|=o,w=d.alternate,w!==null&&(w.lanes|=o),$a(d.return,o,n),v.lanes|=o;break}w=w.next}}else if(d.tag===10)g=d.type===n.type?null:d.child;else if(d.tag===18){if(g=d.return,g===null)throw Error(r(341));g.lanes|=o,v=g.alternate,v!==null&&(v.lanes|=o),$a(g,o,n),g=d.sibling}else g=d.child;if(g!==null)g.return=d;else for(g=d;g!==null;){if(g===n){g=null;break}if(d=g.sibling,d!==null){d.return=g.return,g=d;break}g=g.return}d=g}Nt(t,n,c.children,o),n=n.child}return n;case 9:return c=n.type,a=n.pendingProps.children,ai(n,o),c=Gt(c),a=a(c),n.flags|=1,Nt(t,n,a,o),n.child;case 14:return a=n.type,c=sn(a,n.pendingProps),c=sn(a.type,c),vh(t,n,a,c,o);case 15:return _h(t,n,n.type,n.pendingProps,o);case 17:return a=n.type,c=n.pendingProps,c=n.elementType===a?c:sn(a,c),Wo(t,n),n.tag=1,It(a)?(t=!0,To(n)):t=!1,ai(n,o),ch(n,a,c),su(n,a,c,o),uu(null,n,a,!0,t,o);case 19:return kh(t,n,o);case 22:return wh(t,n,o)}throw Error(r(156,n.tag))};function Xh(t,n){return Dd(t,n)}function i_(t,n,o,a){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(t,n,o,a){return new i_(t,n,o,a)}function Du(t){return t=t.prototype,!(!t||!t.isReactComponent)}function s_(t){if(typeof t=="function")return Du(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ye)return 11;if(t===kt)return 14}return 2}function ir(t,n){var o=t.alternate;return o===null?(o=Yt(t.tag,n,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=n,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,n=t.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function tl(t,n,o,a,c,d){var g=2;if(a=t,typeof t=="function")Du(t)&&(g=1);else if(typeof t=="string")g=5;else e:switch(t){case Ze:return br(o.children,c,d,n);case st:g=8,c|=8;break;case re:return t=Yt(12,o,n,c|2),t.elementType=re,t.lanes=d,t;case qe:return t=Yt(13,o,n,c),t.elementType=qe,t.lanes=d,t;case Ft:return t=Yt(19,o,n,c),t.elementType=Ft,t.lanes=d,t;case Ue:return nl(o,c,d,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ke:g=10;break e;case je:g=9;break e;case ye:g=11;break e;case kt:g=14;break e;case $e:g=16,a=null;break e}throw Error(r(130,t==null?t:typeof t,""))}return n=Yt(g,o,n,c),n.elementType=t,n.type=a,n.lanes=d,n}function br(t,n,o,a){return t=Yt(7,t,a,n),t.lanes=o,t}function nl(t,n,o,a){return t=Yt(22,t,a,n),t.elementType=Ue,t.lanes=o,t.stateNode={isHidden:!1},t}function Iu(t,n,o){return t=Yt(6,t,null,n),t.lanes=o,t}function Pu(t,n,o){return n=Yt(4,t.children!==null?t.children:[],t.key,n),n.lanes=o,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function o_(t,n,o,a,c){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ia(0),this.expirationTimes=ia(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ia(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Ou(t,n,o,a,c,d,g,v,w){return t=new o_(t,n,o,v,w),n===1?(n=1,d===!0&&(n|=8)):n=0,d=Yt(3,null,null,n),t.current=d,d.stateNode=t,d.memoizedState={element:a,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Va(d),t}function l_(t,n,o){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ae,key:a==null?null:""+a,children:t,containerInfo:n,implementation:o}}function Jh(t){if(!t)return Yn;t=t._reactInternals;e:{if(mr(t)!==t||t.tag!==1)throw Error(r(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(It(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(t.tag===1){var o=t.type;if(It(o))return Tf(t,o,n)}return n}function Zh(t,n,o,a,c,d,g,v,w){return t=Ou(o,a,!0,t,c,d,g,v,w),t.context=Jh(null),o=t.current,a=Tt(),c=nr(o),d=kn(a,c),d.callback=n??null,Jn(o,d,c),t.current.lanes=c,Wi(t,c,a),Rt(t,a),t}function rl(t,n,o,a){var c=n.current,d=Tt(),g=nr(c);return o=Jh(o),n.context===null?n.context=o:n.pendingContext=o,n=kn(d,g),n.payload={element:t},a=a===void 0?null:a,a!==null&&(n.callback=a),t=Jn(c,n,g),t!==null&&(an(t,c,g,d),Ao(t,c,g)),g}function il(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ep(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<n?o:n}}function Ru(t,n){ep(t,n),(t=t.alternate)&&ep(t,n)}function a_(){return null}var tp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Au(t){this._internalRoot=t}sl.prototype.render=Au.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));rl(t,n,null,null)},sl.prototype.unmount=Au.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Nr(function(){rl(null,t,null,null)}),n[Cn]=null}};function sl(t){this._internalRoot=t}sl.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ld();t={blockedOn:null,target:t,priority:n};for(var o=0;o<Wn.length&&n!==0&&n<Wn[o].priority;o++);Wn.splice(o,0,t),o===0&&Bd(t)}};function ju(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ol(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function np(){}function u_(t,n,o,a,c){if(c){if(typeof a=="function"){var d=a;a=function(){var b=il(g);d.call(b)}}var g=Zh(n,a,t,0,null,!1,!1,"",np);return t._reactRootContainer=g,t[Cn]=g.current,is(t.nodeType===8?t.parentNode:t),Nr(),g}for(;c=t.lastChild;)t.removeChild(c);if(typeof a=="function"){var v=a;a=function(){var b=il(w);v.call(b)}}var w=Ou(t,0,!1,null,null,!1,!1,"",np);return t._reactRootContainer=w,t[Cn]=w.current,is(t.nodeType===8?t.parentNode:t),Nr(function(){rl(n,w,o,a)}),w}function ll(t,n,o,a,c){var d=o._reactRootContainer;if(d){var g=d;if(typeof c=="function"){var v=c;c=function(){var w=il(g);v.call(w)}}rl(n,g,t,c)}else g=u_(o,n,t,c,a);return il(g)}jd=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var o=$i(n.pendingLanes);o!==0&&(sa(n,o|1),Rt(n,Ke()),(we&6)===0&&(hi=Ke()+500,Kn()))}break;case 13:Nr(function(){var a=Tn(t,1);if(a!==null){var c=Tt();an(a,t,1,c)}}),Ru(t,1)}},oa=function(t){if(t.tag===13){var n=Tn(t,134217728);if(n!==null){var o=Tt();an(n,t,134217728,o)}Ru(t,134217728)}},Md=function(t){if(t.tag===13){var n=nr(t),o=Tn(t,n);if(o!==null){var a=Tt();an(o,t,n,a)}Ru(t,n)}},Ld=function(){return Ne},Fd=function(t,n){var o=Ne;try{return Ne=t,n()}finally{Ne=o}},Hi=function(t,n,o){switch(n){case"input":if(hr(t,o),n=o.name,o.type==="radio"&&n!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var a=o[n];if(a!==t&&a.form===t.form){var c=Eo(a);if(!c)throw Error(r(90));J(a),hr(a,c)}}}break;case"textarea":Zs(t,o);break;case"select":n=o.value,n!=null&&wn(t,!!o.multiple,n,!1)}},$=Tu,F=Nr;var c_={usingClientEntryPoint:!1,Events:[ls,ei,Eo,I,G,Tu]},xs={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},d_={bundleType:xs.bundleType,version:xs.version,rendererPackageName:xs.rendererPackageName,rendererConfig:xs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Se.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kd(t),t===null?null:t.stateNode},findFiberByHostInstance:xs.findFiberByHostInstance||a_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!al.isDisabled&&al.supportsFiber)try{io=al.inject(d_),hn=al}catch{}}return At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c_,At.createPortal=function(t,n){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ju(n))throw Error(r(200));return l_(t,n,null,o)},At.createRoot=function(t,n){if(!ju(t))throw Error(r(299));var o=!1,a="",c=tp;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),n=Ou(t,1,!1,null,null,o,!1,a,c),t[Cn]=n.current,is(t.nodeType===8?t.parentNode:t),new Au(n)},At.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=kd(n),t=t===null?null:t.stateNode,t},At.flushSync=function(t){return Nr(t)},At.hydrate=function(t,n,o){if(!ol(n))throw Error(r(200));return ll(null,t,n,!0,o)},At.hydrateRoot=function(t,n,o){if(!ju(t))throw Error(r(405));var a=o!=null&&o.hydratedSources||null,c=!1,d="",g=tp;if(o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),n=Zh(n,null,t,1,o??null,c,!1,d,g),t[Cn]=n.current,is(t),a)for(t=0;t<a.length;t++)o=a[t],c=o._getVersion,c=c(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,c]:n.mutableSourceEagerHydrationData.push(o,c);return new sl(n)},At.render=function(t,n,o){if(!ol(n))throw Error(r(200));return ll(null,t,n,!1,o)},At.unmountComponentAtNode=function(t){if(!ol(t))throw Error(r(40));return t._reactRootContainer?(Nr(function(){ll(null,null,t,!1,function(){t._reactRootContainer=null,t[Cn]=null})}),!0):!1},At.unstable_batchedUpdates=Tu,At.unstable_renderSubtreeIntoContainer=function(t,n,o,a){if(!ol(o))throw Error(r(200));if(t==null||t._reactInternals===void 0)throw Error(r(38));return ll(t,n,o,!1,a)},At.version="18.3.1-next-f1338f8080-20240426",At}var cp;function w_(){if(cp)return Fu.exports;cp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Fu.exports=__(),Fu.exports}var dp;function x_(){if(dp)return ul;dp=1;var i=w_();return ul.createRoot=i.createRoot,ul.hydrateRoot=i.hydrateRoot,ul}var C_=x_(),Y=Ac();const bg=Y.createContext({dragDropManager:void 0});function Kt(i){return"Minified Redux error #"+i+"; visit https://redux.js.org/Errors?code="+i+" for the full message or use the non-minified dev environment for full errors. "}var fp=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),hp=function(){return Math.random().toString(36).substring(7).split("").join(".")},pp={INIT:"@@redux/INIT"+hp(),REPLACE:"@@redux/REPLACE"+hp()};function S_(i){if(typeof i!="object"||i===null)return!1;for(var e=i;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(i)===e}function Dg(i,e,r){var s;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Kt(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Kt(1));return r(Dg)(i,e)}if(typeof i!="function")throw new Error(Kt(2));var l=i,u=e,f=[],h=f,m=!1;function y(){h===f&&(h=f.slice())}function E(){if(m)throw new Error(Kt(3));return u}function x(j){if(typeof j!="function")throw new Error(Kt(4));if(m)throw new Error(Kt(5));var H=!0;return y(),h.push(j),function(){if(H){if(m)throw new Error(Kt(6));H=!1,y();var ce=h.indexOf(j);h.splice(ce,1),f=null}}}function _(j){if(!S_(j))throw new Error(Kt(7));if(typeof j.type>"u")throw new Error(Kt(8));if(m)throw new Error(Kt(9));try{m=!0,u=l(u,j)}finally{m=!1}for(var H=f=h,le=0;le<H.length;le++){var ce=H[le];ce()}return j}function D(j){if(typeof j!="function")throw new Error(Kt(10));l=j,_({type:pp.REPLACE})}function M(){var j,H=x;return j={subscribe:function(ce){if(typeof ce!="object"||ce===null)throw new Error(Kt(11));function ve(){ce.next&&ce.next(E())}ve();var Se=H(ve);return{unsubscribe:Se}}},j[fp]=function(){return this},j}return _({type:pp.INIT}),s={dispatch:_,subscribe:x,getState:E,replaceReducer:D},s[fp]=M,s}function ue(i,e,...r){if(E_()&&e===void 0)throw new Error("invariant requires an error message argument");if(!i){let s;if(e===void 0)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let l=0;s=new Error(e.replace(/%s/g,function(){return r[l++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}}function E_(){return typeof process<"u"&&!0}function N_(i,e,r){return e.split(".").reduce((s,l)=>s&&s[l]?s[l]:r||null,i)}function T_(i,e){return i.filter(r=>r!==e)}function Ig(i){return typeof i=="object"}function k_(i,e){const r=new Map,s=u=>{r.set(u,r.has(u)?r.get(u)+1:1)};i.forEach(s),e.forEach(s);const l=[];return r.forEach((u,f)=>{u===1&&l.push(f)}),l}function b_(i,e){return i.filter(r=>e.indexOf(r)>-1)}const jc="dnd-core/INIT_COORDS",Fl="dnd-core/BEGIN_DRAG",Mc="dnd-core/PUBLISH_DRAG_SOURCE",zl="dnd-core/HOVER",Bl="dnd-core/DROP",Ul="dnd-core/END_DRAG";function gp(i,e){return{type:jc,payload:{sourceClientOffset:e||null,clientOffset:i||null}}}const D_={type:jc,payload:{clientOffset:null,sourceClientOffset:null}};function I_(i){return function(r=[],s={publishSource:!0}){const{publishSource:l=!0,clientOffset:u,getSourceClientOffset:f}=s,h=i.getMonitor(),m=i.getRegistry();i.dispatch(gp(u)),P_(r,h,m);const y=A_(r,h);if(y==null){i.dispatch(D_);return}let E=null;if(u){if(!f)throw new Error("getSourceClientOffset must be defined");O_(f),E=f(y)}i.dispatch(gp(u,E));const _=m.getSource(y).beginDrag(h,y);if(_==null)return;R_(_),m.pinSource(y);const D=m.getSourceType(y);return{type:Fl,payload:{itemType:D,item:_,sourceId:y,clientOffset:u||null,sourceClientOffset:E||null,isSourcePublic:!!l}}}}function P_(i,e,r){ue(!e.isDragging(),"Cannot call beginDrag while dragging."),i.forEach(function(s){ue(r.getSource(s),"Expected sourceIds to be registered.")})}function O_(i){ue(typeof i=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function R_(i){ue(Ig(i),"Item must be an object.")}function A_(i,e){let r=null;for(let s=i.length-1;s>=0;s--)if(e.canDragSource(i[s])){r=i[s];break}return r}function j_(i,e,r){return e in i?Object.defineProperty(i,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[e]=r,i}function M_(i){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},s=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable}))),s.forEach(function(l){j_(i,l,r[l])})}return i}function L_(i){return function(r={}){const s=i.getMonitor(),l=i.getRegistry();F_(s),U_(s).forEach((f,h)=>{const m=z_(f,h,l,s),y={type:Bl,payload:{dropResult:M_({},r,m)}};i.dispatch(y)})}}function F_(i){ue(i.isDragging(),"Cannot call drop while not dragging."),ue(!i.didDrop(),"Cannot call drop twice during one drag operation.")}function z_(i,e,r,s){const l=r.getTarget(i);let u=l?l.drop(s,i):void 0;return B_(u),typeof u>"u"&&(u=e===0?{}:s.getDropResult()),u}function B_(i){ue(typeof i>"u"||Ig(i),"Drop result must either be an object or undefined.")}function U_(i){const e=i.getTargetIds().filter(i.canDropOnTarget,i);return e.reverse(),e}function H_(i){return function(){const r=i.getMonitor(),s=i.getRegistry();$_(r);const l=r.getSourceId();return l!=null&&(s.getSource(l,!0).endDrag(r,l),s.unpinSource()),{type:Ul}}}function $_(i){ue(i.isDragging(),"Cannot call endDrag while not dragging.")}function sc(i,e){return e===null?i===null:Array.isArray(i)?i.some(r=>r===e):i===e}function W_(i){return function(r,{clientOffset:s}={}){V_(r);const l=r.slice(0),u=i.getMonitor(),f=i.getRegistry(),h=u.getItemType();return Q_(l,f,h),G_(l,u,f),q_(l,u,f),{type:zl,payload:{targetIds:l,clientOffset:s||null}}}}function V_(i){ue(Array.isArray(i),"Expected targetIds to be an array.")}function G_(i,e,r){ue(e.isDragging(),"Cannot call hover while not dragging."),ue(!e.didDrop(),"Cannot call hover after drop.");for(let s=0;s<i.length;s++){const l=i[s];ue(i.lastIndexOf(l)===s,"Expected targetIds to be unique in the passed array.");const u=r.getTarget(l);ue(u,"Expected targetIds to be registered.")}}function Q_(i,e,r){for(let s=i.length-1;s>=0;s--){const l=i[s],u=e.getTargetType(l);sc(u,r)||i.splice(s,1)}}function q_(i,e,r){i.forEach(function(s){r.getTarget(s).hover(e,s)})}function Y_(i){return function(){if(i.getMonitor().isDragging())return{type:Mc}}}function K_(i){return{beginDrag:I_(i),publishDragSource:Y_(i),hover:W_(i),drop:L_(i),endDrag:H_(i)}}class X_{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:r}=this.store;function s(u){return(...f)=>{const h=u.apply(e,f);typeof h<"u"&&r(h)}}const l=K_(this);return Object.keys(l).reduce((u,f)=>{const h=l[f];return u[f]=s(h),u},{})}dispatch(e){this.store.dispatch(e)}constructor(e,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const s=this.store.getState().refCount>0;this.backend&&(s&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!s&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}}function J_(i,e){return{x:i.x+e.x,y:i.y+e.y}}function Pg(i,e){return{x:i.x-e.x,y:i.y-e.y}}function Z_(i){const{clientOffset:e,initialClientOffset:r,initialSourceClientOffset:s}=i;return!e||!r||!s?null:Pg(J_(e,s),r)}function e0(i){const{clientOffset:e,initialClientOffset:r}=i;return!e||!r?null:Pg(e,r)}const bs=[],Lc=[];bs.__IS_NONE__=!0;Lc.__IS_ALL__=!0;function t0(i,e){return i===bs?!1:i===Lc||typeof e>"u"?!0:b_(e,i).length>0}class n0{subscribeToStateChange(e,r={}){const{handlerIds:s}=r;ue(typeof e=="function","listener must be a function."),ue(typeof s>"u"||Array.isArray(s),"handlerIds, when specified, must be an array of strings.");let l=this.store.getState().stateId;const u=()=>{const f=this.store.getState(),h=f.stateId;try{h===l||h===l+1&&!t0(f.dirtyHandlerIds,s)||e()}finally{l=h}};return this.store.subscribe(u)}subscribeToOffsetChange(e){ue(typeof e=="function","listener must be a function.");let r=this.store.getState().dragOffset;const s=()=>{const l=this.store.getState().dragOffset;l!==r&&(r=l,e())};return this.store.subscribe(s)}canDragSource(e){if(!e)return!1;const r=this.registry.getSource(e);return ue(r,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:r.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const r=this.registry.getTarget(e);if(ue(r,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const s=this.registry.getTargetType(e),l=this.getItemType();return sc(s,l)&&r.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const r=this.registry.getSource(e,!0);if(ue(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const s=this.registry.getSourceType(e),l=this.getItemType();return s!==l?!1:r.isDragging(this,e)}isOverTarget(e,r={shallow:!1}){if(!e)return!1;const{shallow:s}=r;if(!this.isDragging())return!1;const l=this.registry.getTargetType(e),u=this.getItemType();if(u&&!sc(l,u))return!1;const f=this.getTargetIds();if(!f.length)return!1;const h=f.indexOf(e);return s?h===f.length-1:h>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Z_(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return e0(this.store.getState().dragOffset)}constructor(e,r){this.store=e,this.registry=r}}const mp=typeof global<"u"?global:self,Og=mp.MutationObserver||mp.WebKitMutationObserver;function Rg(i){return function(){const r=setTimeout(l,0),s=setInterval(l,50);function l(){clearTimeout(r),clearInterval(s),i()}}}function r0(i){let e=1;const r=new Og(i),s=document.createTextNode("");return r.observe(s,{characterData:!0}),function(){e=-e,s.data=e}}const i0=typeof Og=="function"?r0:Rg;class s0{enqueueTask(e){const{queue:r,requestFlush:s}=this;r.length||(s(),this.flushing=!0),r[r.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const r=this.index;if(this.index++,e[r].call(),this.index>this.capacity){for(let s=0,l=e.length-this.index;s<l;s++)e[s]=e[s+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=i0(this.flush),this.requestErrorThrow=Rg(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class o0{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}}class l0{create(e){const r=this.freeTasks,s=r.length?r.pop():new o0(this.onError,l=>r[r.length]=l);return s.task=e,s}constructor(e){this.onError=e,this.freeTasks=[]}}const Ag=new s0,a0=new l0(Ag.registerPendingError);function u0(i){Ag.enqueueTask(a0.create(i))}const Fc="dnd-core/ADD_SOURCE",zc="dnd-core/ADD_TARGET",Bc="dnd-core/REMOVE_SOURCE",Hl="dnd-core/REMOVE_TARGET";function c0(i){return{type:Fc,payload:{sourceId:i}}}function d0(i){return{type:zc,payload:{targetId:i}}}function f0(i){return{type:Bc,payload:{sourceId:i}}}function h0(i){return{type:Hl,payload:{targetId:i}}}function p0(i){ue(typeof i.canDrag=="function","Expected canDrag to be a function."),ue(typeof i.beginDrag=="function","Expected beginDrag to be a function."),ue(typeof i.endDrag=="function","Expected endDrag to be a function.")}function g0(i){ue(typeof i.canDrop=="function","Expected canDrop to be a function."),ue(typeof i.hover=="function","Expected hover to be a function."),ue(typeof i.drop=="function","Expected beginDrag to be a function.")}function oc(i,e){if(e&&Array.isArray(i)){i.forEach(r=>oc(r,!1));return}ue(typeof i=="string"||typeof i=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Xt;(function(i){i.SOURCE="SOURCE",i.TARGET="TARGET"})(Xt||(Xt={}));let m0=0;function y0(){return m0++}function v0(i){const e=y0().toString();switch(i){case Xt.SOURCE:return`S${e}`;case Xt.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${i}`)}}function yp(i){switch(i[0]){case"S":return Xt.SOURCE;case"T":return Xt.TARGET;default:throw new Error(`Cannot parse handler ID: ${i}`)}}function vp(i,e){const r=i.entries();let s=!1;do{const{done:l,value:[,u]}=r.next();if(u===e)return!0;s=!!l}while(!s);return!1}class _0{addSource(e,r){oc(e),p0(r);const s=this.addHandler(Xt.SOURCE,e,r);return this.store.dispatch(c0(s)),s}addTarget(e,r){oc(e,!0),g0(r);const s=this.addHandler(Xt.TARGET,e,r);return this.store.dispatch(d0(s)),s}containsHandler(e){return vp(this.dragSources,e)||vp(this.dropTargets,e)}getSource(e,r=!1){return ue(this.isSourceId(e),"Expected a valid source ID."),r&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return ue(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return ue(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return ue(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return yp(e)===Xt.SOURCE}isTargetId(e){return yp(e)===Xt.TARGET}removeSource(e){ue(this.getSource(e),"Expected an existing source."),this.store.dispatch(f0(e)),u0(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){ue(this.getTarget(e),"Expected an existing target."),this.store.dispatch(h0(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const r=this.getSource(e);ue(r,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=r}unpinSource(){ue(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,r,s){const l=v0(e);return this.types.set(l,r),e===Xt.SOURCE?this.dragSources.set(l,s):e===Xt.TARGET&&this.dropTargets.set(l,s),l}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const w0=(i,e)=>i===e;function x0(i,e){return!i&&!e?!0:!i||!e?!1:i.x===e.x&&i.y===e.y}function C0(i,e,r=w0){if(i.length!==e.length)return!1;for(let s=0;s<i.length;++s)if(!r(i[s],e[s]))return!1;return!0}function S0(i=bs,e){switch(e.type){case zl:break;case Fc:case zc:case Hl:case Bc:return bs;case Fl:case Mc:case Ul:case Bl:default:return Lc}const{targetIds:r=[],prevTargetIds:s=[]}=e.payload,l=k_(r,s);if(!(l.length>0||!C0(r,s)))return bs;const f=s[s.length-1],h=r[r.length-1];return f!==h&&(f&&l.push(f),h&&l.push(h)),l}function E0(i,e,r){return e in i?Object.defineProperty(i,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[e]=r,i}function N0(i){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},s=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable}))),s.forEach(function(l){E0(i,l,r[l])})}return i}const _p={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function T0(i=_p,e){const{payload:r}=e;switch(e.type){case jc:case Fl:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case zl:return x0(i.clientOffset,r.clientOffset)?i:N0({},i,{clientOffset:r.clientOffset});case Ul:case Bl:return _p;default:return i}}function k0(i,e,r){return e in i?Object.defineProperty(i,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[e]=r,i}function gi(i){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},s=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable}))),s.forEach(function(l){k0(i,l,r[l])})}return i}const b0={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function D0(i=b0,e){const{payload:r}=e;switch(e.type){case Fl:return gi({},i,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case Mc:return gi({},i,{isSourcePublic:!0});case zl:return gi({},i,{targetIds:r.targetIds});case Hl:return i.targetIds.indexOf(r.targetId)===-1?i:gi({},i,{targetIds:T_(i.targetIds,r.targetId)});case Bl:return gi({},i,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case Ul:return gi({},i,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return i}}function I0(i=0,e){switch(e.type){case Fc:case zc:return i+1;case Bc:case Hl:return i-1;default:return i}}function P0(i=0){return i+1}function O0(i,e,r){return e in i?Object.defineProperty(i,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[e]=r,i}function R0(i){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},s=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable}))),s.forEach(function(l){O0(i,l,r[l])})}return i}function A0(i={},e){return{dirtyHandlerIds:S0(i.dirtyHandlerIds,{type:e.type,payload:R0({},e.payload,{prevTargetIds:N_(i,"dragOperation.targetIds",[])})}),dragOffset:T0(i.dragOffset,e),refCount:I0(i.refCount,e),dragOperation:D0(i.dragOperation,e),stateId:P0(i.stateId)}}function j0(i,e=void 0,r={},s=!1){const l=M0(s),u=new n0(l,new _0(l)),f=new X_(l,u),h=i(f,e,r);return f.receiveBackend(h),f}function M0(i){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Dg(A0,i&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function L0(i,e){if(i==null)return{};var r=F0(i,e),s,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(l=0;l<u.length;l++)s=u[l],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(r[s]=i[s])}return r}function F0(i,e){if(i==null)return{};var r={},s=Object.keys(i),l,u;for(u=0;u<s.length;u++)l=s[u],!(e.indexOf(l)>=0)&&(r[l]=i[l]);return r}let wp=0;const yl=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var z0=Y.memo(function(e){var{children:r}=e,s=L0(e,["children"]);const[l,u]=B0(s);return Y.useEffect(()=>{if(u){const f=jg();return++wp,()=>{--wp===0&&(f[yl]=null)}}},[]),p.jsx(bg.Provider,{value:l,children:r})});function B0(i){if("manager"in i)return[{dragDropManager:i.manager},!1];const e=U0(i.backend,i.context,i.options,i.debugMode),r=!i.context;return[e,r]}function U0(i,e=jg(),r,s){const l=e;return l[yl]||(l[yl]={dragDropManager:j0(i,e,r,s)}),l[yl]}function jg(){return typeof global<"u"?global:window}var Uu,xp;function H0(){return xp||(xp=1,Uu=function i(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var s,l,u;if(Array.isArray(e)){if(s=e.length,s!=r.length)return!1;for(l=s;l--!==0;)if(!i(e[l],r[l]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(u=Object.keys(e),s=u.length,s!==Object.keys(r).length)return!1;for(l=s;l--!==0;)if(!Object.prototype.hasOwnProperty.call(r,u[l]))return!1;for(l=s;l--!==0;){var f=u[l];if(!i(e[f],r[f]))return!1}return!0}return e!==e&&r!==r}),Uu}var $0=H0();const W0=h_($0),jr=typeof window<"u"?Y.useLayoutEffect:Y.useEffect;function V0(i,e,r){const[s,l]=Y.useState(()=>e(i)),u=Y.useCallback(()=>{const f=e(i);W0(s,f)||(l(f),r&&r())},[s,i,r]);return jr(u),[s,u]}function G0(i,e,r){const[s,l]=V0(i,e,r);return jr(function(){const f=i.getHandlerId();if(f!=null)return i.subscribeToStateChange(l,{handlerIds:[f]})},[i,l]),s}function Mg(i,e,r){return G0(e,i||(()=>({})),()=>r.reconnect())}function Lg(i,e){const r=[...e||[]];return e==null&&typeof i!="function"&&r.push(i),Y.useMemo(()=>typeof i=="function"?i():i,r)}function Q0(i){return Y.useMemo(()=>i.hooks.dragSource(),[i])}function q0(i){return Y.useMemo(()=>i.hooks.dragPreview(),[i])}let Hu=!1,$u=!1;class Y0{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){ue(!Hu,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Hu=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Hu=!1}}isDragging(){if(!this.sourceId)return!1;ue(!$u,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return $u=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{$u=!1}}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,r){return this.internalMonitor.isOverTarget(e,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let Wu=!1;class K0{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}canDrop(){if(!this.targetId)return!1;ue(!Wu,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Wu=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Wu=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function X0(i,e,r){const s=r.getRegistry(),l=s.addTarget(i,e);return[l,()=>s.removeTarget(l)]}function J0(i,e,r){const s=r.getRegistry(),l=s.addSource(i,e);return[l,()=>s.removeSource(l)]}function lc(i,e,r,s){let l;if(l!==void 0)return!!l;if(i===e)return!0;if(typeof i!="object"||!i||typeof e!="object"||!e)return!1;const u=Object.keys(i),f=Object.keys(e);if(u.length!==f.length)return!1;const h=Object.prototype.hasOwnProperty.bind(e);for(let m=0;m<u.length;m++){const y=u[m];if(!h(y))return!1;const E=i[y],x=e[y];if(l=void 0,l===!1||l===void 0&&E!==x)return!1}return!0}function ac(i){return i!==null&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function Z0(i){if(typeof i.type=="string")return;const e=i.type.displayName||i.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function ew(i){return(e=null,r=null)=>{if(!Y.isValidElement(e)){const u=e;return i(u,r),u}const s=e;return Z0(s),tw(s,r?u=>i(u,r):i)}}function Fg(i){const e={};return Object.keys(i).forEach(r=>{const s=i[r];if(r.endsWith("Ref"))e[r]=i[r];else{const l=ew(s);e[r]=()=>l}}),e}function Cp(i,e){typeof i=="function"?i(e):i.current=e}function tw(i,e){const r=i.ref;return ue(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?Y.cloneElement(i,{ref:s=>{Cp(r,s),Cp(e,s)}}):Y.cloneElement(i,{ref:e})}class nw{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?e?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),r):(this.lastConnectedDragSource=e,r):r}reconnectDragPreview(e=!1){const r=this.dragPreview,s=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(s&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}s&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!lc(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!lc(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=Fg({dragSource:(r,s)=>{this.clearDragSource(),this.dragSourceOptions=s||null,ac(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,s)=>{this.clearDragPreview(),this.dragPreviewOptions=s||null,ac(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class rw{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const r=this.dropTarget;if(this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!lc(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=Fg({dropTarget:(r,s)=>{this.clearDropTarget(),this.dropTargetOptions=s,ac(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function Ii(){const{dragDropManager:i}=Y.useContext(bg);return ue(i!=null,"Expected drag drop context"),i}function iw(i,e){const r=Ii(),s=Y.useMemo(()=>new nw(r.getBackend()),[r]);return jr(()=>(s.dragSourceOptions=i||null,s.reconnect(),()=>s.disconnectDragSource()),[s,i]),jr(()=>(s.dragPreviewOptions=e||null,s.reconnect(),()=>s.disconnectDragPreview()),[s,e]),s}function sw(){const i=Ii();return Y.useMemo(()=>new Y0(i),[i])}class ow{beginDrag(){const e=this.spec,r=this.monitor;let s=null;return typeof e.item=="object"?s=e.item:typeof e.item=="function"?s=e.item(r):s={},s??null}canDrag(){const e=this.spec,r=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(r):!0}isDragging(e,r){const s=this.spec,l=this.monitor,{isDragging:u}=s;return u?u(l):r===e.getSourceId()}endDrag(){const e=this.spec,r=this.monitor,s=this.connector,{end:l}=e;l&&l(r.getItem(),r),s.reconnect()}constructor(e,r,s){this.spec=e,this.monitor=r,this.connector=s}}function lw(i,e,r){const s=Y.useMemo(()=>new ow(i,e,r),[e,r]);return Y.useEffect(()=>{s.spec=i},[i]),s}function aw(i){return Y.useMemo(()=>{const e=i.type;return ue(e!=null,"spec.type must be defined"),e},[i])}function uw(i,e,r){const s=Ii(),l=lw(i,e,r),u=aw(i);jr(function(){if(u!=null){const[h,m]=J0(u,l,s);return e.receiveHandlerId(h),r.receiveHandlerId(h),m}},[s,e,r,l,u])}function zg(i,e){const r=Lg(i,e);ue(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const s=sw(),l=iw(r.options,r.previewOptions);return uw(r,s,l),[Mg(r.collect,s,l),Q0(l),q0(l)]}function cw(i){return Y.useMemo(()=>i.hooks.dropTarget(),[i])}function dw(i){const e=Ii(),r=Y.useMemo(()=>new rw(e.getBackend()),[e]);return jr(()=>(r.dropTargetOptions=i||null,r.reconnect(),()=>r.disconnectDropTarget()),[i]),r}function fw(){const i=Ii();return Y.useMemo(()=>new K0(i),[i])}function hw(i){const{accept:e}=i;return Y.useMemo(()=>(ue(i.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class pw{canDrop(){const e=this.spec,r=this.monitor;return e.canDrop?e.canDrop(r.getItem(),r):!0}hover(){const e=this.spec,r=this.monitor;e.hover&&e.hover(r.getItem(),r)}drop(){const e=this.spec,r=this.monitor;if(e.drop)return e.drop(r.getItem(),r)}constructor(e,r){this.spec=e,this.monitor=r}}function gw(i,e){const r=Y.useMemo(()=>new pw(i,e),[e]);return Y.useEffect(()=>{r.spec=i},[i]),r}function mw(i,e,r){const s=Ii(),l=gw(i,e),u=hw(i);jr(function(){const[h,m]=X0(u,l,s);return e.receiveHandlerId(h),r.receiveHandlerId(h),m},[s,e,l,r,u.map(f=>f.toString()).join("|")])}function Bg(i,e){const r=Lg(i,e),s=fw(),l=dw(r.options);return mw(r,s,l),[Mg(r.collect,s,l),cw(l)]}function Ug(i){let e=null;return()=>(e==null&&(e=i()),e)}function yw(i,e){return i.filter(r=>r!==e)}function vw(i,e){const r=new Set,s=u=>r.add(u);i.forEach(s),e.forEach(s);const l=[];return r.forEach(u=>l.push(u)),l}class _w{enter(e){const r=this.entered.length,s=l=>this.isNodeInDocument(l)&&(!l.contains||l.contains(e));return this.entered=vw(this.entered.filter(s),[e]),r===0&&this.entered.length>0}leave(e){const r=this.entered.length;return this.entered=yw(this.entered.filter(this.isNodeInDocument),e),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class ww{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const r={};Object.keys(this.config.exposeProperties).forEach(s=>{const l=this.config.exposeProperties[s];l!=null&&(r[s]={value:l(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,r){return r===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const Hg="__NATIVE_FILE__",$g="__NATIVE_URL__",Wg="__NATIVE_TEXT__",Vg="__NATIVE_HTML__",Sp=Object.freeze(Object.defineProperty({__proto__:null,FILE:Hg,HTML:Vg,TEXT:Wg,URL:$g},Symbol.toStringTag,{value:"Module"}));function Vu(i,e,r){const s=e.reduce((l,u)=>l||i.getData(u),"");return s??r}const uc={[Hg]:{exposeProperties:{files:i=>Array.prototype.slice.call(i.files),items:i=>i.items,dataTransfer:i=>i},matchesTypes:["Files"]},[Vg]:{exposeProperties:{html:(i,e)=>Vu(i,e,""),dataTransfer:i=>i},matchesTypes:["Html","text/html"]},[$g]:{exposeProperties:{urls:(i,e)=>Vu(i,e,"").split(`
`),dataTransfer:i=>i},matchesTypes:["Url","text/uri-list"]},[Wg]:{exposeProperties:{text:(i,e)=>Vu(i,e,""),dataTransfer:i=>i},matchesTypes:["Text","text/plain"]}};function xw(i,e){const r=uc[i];if(!r)throw new Error(`native type ${i} has no configuration`);const s=new ww(r);return s.loadDataTransfer(e),s}function Gu(i){if(!i)return null;const e=Array.prototype.slice.call(i.types||[]);return Object.keys(uc).filter(r=>{const s=uc[r];return s!=null&&s.matchesTypes?s.matchesTypes.some(l=>e.indexOf(l)>-1):!1})[0]||null}const Cw=Ug(()=>/firefox/i.test(navigator.userAgent)),Gg=Ug(()=>!!window.safari);class Ep{interpolate(e){const{xs:r,ys:s,c1s:l,c2s:u,c3s:f}=this;let h=r.length-1;if(e===r[h])return s[h];let m=0,y=f.length-1,E;for(;m<=y;){E=Math.floor(.5*(m+y));const D=r[E];if(D<e)m=E+1;else if(D>e)y=E-1;else return s[E]}h=Math.max(0,y);const x=e-r[h],_=x*x;return s[h]+l[h]*x+u[h]*_+f[h]*x*_}constructor(e,r){const{length:s}=e,l=[];for(let D=0;D<s;D++)l.push(D);l.sort((D,M)=>e[D]<e[M]?-1:1);const u=[],f=[];let h,m;for(let D=0;D<s-1;D++)h=e[D+1]-e[D],m=r[D+1]-r[D],u.push(h),f.push(m/h);const y=[f[0]];for(let D=0;D<u.length-1;D++){const M=f[D],j=f[D+1];if(M*j<=0)y.push(0);else{h=u[D];const H=u[D+1],le=h+H;y.push(3*le/((le+H)/M+(le+h)/j))}}y.push(f[f.length-1]);const E=[],x=[];let _;for(let D=0;D<y.length-1;D++){_=f[D];const M=y[D],j=1/u[D],H=M+y[D+1]-_-_;E.push((_-M-H)*j),x.push(H*j*j)}this.xs=e,this.ys=r,this.c1s=y,this.c2s=E,this.c3s=x}}const Sw=1;function Qg(i){const e=i.nodeType===Sw?i:i.parentElement;if(!e)return null;const{top:r,left:s}=e.getBoundingClientRect();return{x:s,y:r}}function cl(i){return{x:i.clientX,y:i.clientY}}function Ew(i){var e;return i.nodeName==="IMG"&&(Cw()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(i)))}function Nw(i,e,r,s){let l=i?e.width:r,u=i?e.height:s;return Gg()&&i&&(u/=window.devicePixelRatio,l/=window.devicePixelRatio),{dragPreviewWidth:l,dragPreviewHeight:u}}function Tw(i,e,r,s,l){const u=Ew(e),h=Qg(u?i:e),m={x:r.x-h.x,y:r.y-h.y},{offsetWidth:y,offsetHeight:E}=i,{anchorX:x,anchorY:_}=s,{dragPreviewWidth:D,dragPreviewHeight:M}=Nw(u,e,y,E),j=()=>{let Ae=new Ep([0,.5,1],[m.y,m.y/E*M,m.y+M-E]).interpolate(_);return Gg()&&u&&(Ae+=(window.devicePixelRatio-1)*M),Ae},H=()=>new Ep([0,.5,1],[m.x,m.x/y*D,m.x+D-y]).interpolate(x),{offsetX:le,offsetY:ce}=l,ve=le===0||le,Se=ce===0||ce;return{x:ve?le:H(),y:Se?ce:j()}}class kw{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,r){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=r}}function bw(i,e,r){return e in i?Object.defineProperty(i,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[e]=r,i}function Np(i){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},s=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable}))),s.forEach(function(l){bw(i,l,r[l])})}return i}class Dw{profile(){var e,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,r,s){return this.sourcePreviewNodeOptions.set(e,s),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,r,s){this.sourceNodes.set(e,r),this.sourceNodeOptions.set(e,s);const l=f=>this.handleDragStart(f,e),u=f=>this.handleSelectStart(f);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",l),r.addEventListener("selectstart",u),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),r.removeEventListener("dragstart",l),r.removeEventListener("selectstart",u),r.setAttribute("draggable","false")}}connectDropTarget(e,r){const s=f=>this.handleDragEnter(f,e),l=f=>this.handleDragOver(f,e),u=f=>this.handleDrop(f,e);return r.addEventListener("dragenter",s),r.addEventListener("dragover",l),r.addEventListener("drop",u),()=>{r.removeEventListener("dragenter",s),r.removeEventListener("dragover",l),r.removeEventListener("drop",u)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(e);return Np({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(e);return Np({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(Sp).some(r=>Sp[r]===e)}beginDragNativeItem(e,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=xw(e,r),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var s;return(s=this.rootElement)===null||s===void 0?void 0:s.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,r){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(e,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(e,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(e,r){this.dropTargetIds.unshift(r)}constructor(e,r,s){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=l=>{const u=this.sourceNodes.get(l);return u&&Qg(u)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=l=>!!(l&&this.document&&this.document.body&&this.document.body.contains(l)),this.endDragIfSourceWasRemovedFromDOM=()=>{const l=this.currentDragSourceNode;l==null||this.isNodeInDocument(l)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=l=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(l||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=l=>{if(l.defaultPrevented)return;const{dragStartSourceIds:u}=this;this.dragStartSourceIds=null;const f=cl(l);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(u||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:f});const{dataTransfer:h}=l,m=Gu(h);if(this.monitor.isDragging()){if(h&&typeof h.setDragImage=="function"){const E=this.monitor.getSourceId(),x=this.sourceNodes.get(E),_=this.sourcePreviewNodes.get(E)||x;if(_){const{anchorX:D,anchorY:M,offsetX:j,offsetY:H}=this.getCurrentSourcePreviewNodeOptions(),ve=Tw(x,_,f,{anchorX:D,anchorY:M},{offsetX:j,offsetY:H});h.setDragImage(_,ve.x,ve.y)}}try{h==null||h.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(l.target);const{captureDraggingState:y}=this.getCurrentSourcePreviewNodeOptions();y?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(m)this.beginDragNativeItem(m);else{if(h&&!h.types&&(l.target&&!l.target.hasAttribute||!l.target.hasAttribute("draggable")))return;l.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=l=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var u;(u=this.currentNativeSource)===null||u===void 0||u.loadDataTransfer(l.dataTransfer)}if(!this.enterLeaveCounter.enter(l.target)||this.monitor.isDragging())return;const{dataTransfer:h}=l,m=Gu(h);m&&this.beginDragNativeItem(m,h)},this.handleTopDragEnter=l=>{const{dragEnterTargetIds:u}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=l.altKey,u.length>0&&this.actions.hover(u,{clientOffset:cl(l)}),u.some(h=>this.monitor.canDropOnTarget(h))&&(l.preventDefault(),l.dataTransfer&&(l.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=l=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var u;(u=this.currentNativeSource)===null||u===void 0||u.loadDataTransfer(l.dataTransfer)}},this.handleTopDragOver=l=>{const{dragOverTargetIds:u}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){l.preventDefault(),l.dataTransfer&&(l.dataTransfer.dropEffect="none");return}this.altKeyPressed=l.altKey,this.lastClientOffset=cl(l),this.scheduleHover(u),(u||[]).some(h=>this.monitor.canDropOnTarget(h))?(l.preventDefault(),l.dataTransfer&&(l.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?l.preventDefault():(l.preventDefault(),l.dataTransfer&&(l.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=l=>{this.isDraggingNativeItem()&&l.preventDefault(),this.enterLeaveCounter.leave(l.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=l=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var u;l.preventDefault(),(u=this.currentNativeSource)===null||u===void 0||u.loadDataTransfer(l.dataTransfer)}else Gu(l.dataTransfer)&&l.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=l=>{const{dropTargetIds:u}=this;this.dropTargetIds=[],this.actions.hover(u,{clientOffset:cl(l)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=l=>{const u=l.target;typeof u.dragDrop=="function"&&(u.tagName==="INPUT"||u.tagName==="SELECT"||u.tagName==="TEXTAREA"||u.isContentEditable||(l.preventDefault(),u.dragDrop()))},this.options=new kw(r,s),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new _w(this.isNodeInDocument)}}const Iw=function(e,r,s){return new Dw(e,r,s)};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ow=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,s)=>s?s.toUpperCase():r.toLowerCase()),Tp=i=>{const e=Ow(i);return e.charAt(0).toUpperCase()+e.slice(1)},qg=(...i)=>i.filter((e,r,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=Y.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:l="",children:u,iconNode:f,...h},m)=>Y.createElement("svg",{ref:m,...Rw,width:e,height:e,stroke:i,strokeWidth:s?Number(r)*24/Number(e):r,className:qg("lucide",l),...h},[...f.map(([y,E])=>Y.createElement(y,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=(i,e)=>{const r=Y.forwardRef(({className:s,...l},u)=>Y.createElement(Aw,{ref:u,iconNode:e,className:qg(`lucide-${Pw(Tp(i))}`,`lucide-${i}`,s),...l}));return r.displayName=Tp(i),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Mw=Et("calendar",jw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ss=Et("check",Lw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],zw=Et("chevron-left",Fw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],kp=Et("chevron-right",Bw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],bp=Et("circle-help",Uw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],$w=Et("funnel",Hw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Uc=Et("grip-vertical",Ww);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Gw=Et("moon",Vw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],cc=Et("package",Qw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Qu=Et("pen",qw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],In=Et("plus",Yw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Xw=Et("sun",Kw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],vl=Et("tag",Jw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Dp=Et("trash-2",Zw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],yi=Et("users",ex);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vn=Et("x",tx),nx=()=>{};var Ip={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B=function(i,e){if(!i)throw Pi(e)},Pi=function(i){return new Error("Firebase Database ("+Yg.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg=function(i){const e=[];let r=0;for(let s=0;s<i.length;s++){let l=i.charCodeAt(s);l<128?e[r++]=l:l<2048?(e[r++]=l>>6|192,e[r++]=l&63|128):(l&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++s)&1023),e[r++]=l>>18|240,e[r++]=l>>12&63|128,e[r++]=l>>6&63|128,e[r++]=l&63|128):(e[r++]=l>>12|224,e[r++]=l>>6&63|128,e[r++]=l&63|128)}return e},rx=function(i){const e=[];let r=0,s=0;for(;r<i.length;){const l=i[r++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=i[r++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=i[r++],f=i[r++],h=i[r++],m=((l&7)<<18|(u&63)<<12|(f&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=i[r++],f=i[r++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Hc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<i.length;l+=3){const u=i[l],f=l+1<i.length,h=f?i[l+1]:0,m=l+2<i.length,y=m?i[l+2]:0,E=u>>2,x=(u&3)<<4|h>>4;let _=(h&15)<<2|y>>6,D=y&63;m||(D=64,f||(_=64)),s.push(r[E],r[x],r[_],r[D])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Kg(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):rx(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<i.length;){const u=r[i.charAt(l++)],h=l<i.length?r[i.charAt(l)]:0;++l;const y=l<i.length?r[i.charAt(l)]:64;++l;const x=l<i.length?r[i.charAt(l)]:64;if(++l,u==null||h==null||y==null||x==null)throw new ix;const _=u<<2|h>>4;if(s.push(_),y!==64){const D=h<<4&240|y>>2;if(s.push(D),x!==64){const M=y<<6&192|x;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class ix extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xg=function(i){const e=Kg(i);return Hc.encodeByteArray(e,!0)},xl=function(i){return Xg(i).replace(/\./g,"")},dc=function(i){try{return Hc.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(i){return Jg(void 0,i)}function Jg(i,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const r=e;return new Date(r.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return e}for(const r in e)!e.hasOwnProperty(r)||!ox(r)||(i[r]=Jg(i[r],e[r]));return i}function ox(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=()=>lx().__FIREBASE_DEFAULTS__,ux=()=>{if(typeof process>"u"||typeof Ip>"u")return;const i=Ip.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},cx=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&dc(i[1]);return e&&JSON.parse(e)},Zg=()=>{try{return nx()||ax()||ux()||cx()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},dx=i=>{var e,r;return(r=(e=Zg())==null?void 0:e.emulatorHosts)==null?void 0:r[i]},fx=i=>{const e=dx(i);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),s]:[e.substring(0,r),s]},em=()=>{var i;return(i=Zg())==null?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hx(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=e||"demo-project",l=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[xl(JSON.stringify(r)),xl(JSON.stringify(f)),""].join(".")}const Ds={};function gx(){const i={prod:[],emulator:[]};for(const e of Object.keys(Ds))Ds[e]?i.emulator.push(e):i.prod.push(e);return i}function mx(i){let e=document.getElementById(i),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),r=!0),{created:r,element:e}}let Pp=!1;function yx(i,e){if(typeof window>"u"||typeof document>"u"||!$c(window.location.host)||Ds[i]===e||Ds[i]||Pp)return;Ds[i]=e;function r(_){return`__firebase__banner__${_}`}const s="__firebase__banner",u=gx().prod.length>0;function f(){const _=document.getElementById(s);_&&_.remove()}function h(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function m(_,D){_.setAttribute("width","24"),_.setAttribute("id",D),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function y(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{Pp=!0,f()},_}function E(_,D){_.setAttribute("id",D),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function x(){const _=mx(s),D=r("text"),M=document.getElementById(D)||document.createElement("span"),j=r("learnmore"),H=document.getElementById(j)||document.createElement("a"),le=r("preprendIcon"),ce=document.getElementById(le)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const ve=_.element;h(ve),E(H,j);const Se=y();m(ce,le),ve.append(ce,M,H,Se),document.body.appendChild(ve)}u?(M.innerText="Preview backend disconnected.",ce.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ce.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vx())}function _x(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wx(){return Yg.NODE_ADMIN===!0}function xx(){try{return typeof indexedDB=="object"}catch{return!1}}function Cx(){return new Promise((i,e)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(s),i(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{var u;e(((u=l.error)==null?void 0:u.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="FirebaseError";class Gs extends Error{constructor(e,r,s){super(r),this.code=e,this.customData=s,this.name=Sx,Object.setPrototypeOf(this,Gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nm.prototype.create)}}class nm{constructor(e,r,s){this.service=e,this.serviceName=r,this.errors=s}create(e,...r){const s=r[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?Ex(u,s):"Error",h=`${this.serviceName}: ${f} (${l}).`;return new Gs(l,h,s)}}function Ex(i,e){return i.replace(Nx,(r,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const Nx=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(i){return JSON.parse(i)}function ft(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=function(i){let e={},r={},s={},l="";try{const u=i.split(".");e=js(dc(u[0])||""),r=js(dc(u[1])||""),l=u[2],s=r.d||{},delete r.d}catch{}return{header:e,claims:r,data:s,signature:l}},Tx=function(i){const e=rm(i),r=e.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},kx=function(i){const e=rm(i).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function Ei(i,e){if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}function fc(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Cl(i,e,r){const s={};for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&(s[l]=e.call(r,i[l],l,i));return s}function Sl(i,e){if(i===e)return!0;const r=Object.keys(i),s=Object.keys(e);for(const l of r){if(!s.includes(l))return!1;const u=i[l],f=e[l];if(Op(u)&&Op(f)){if(!Sl(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!r.includes(l))return!1;return!0}function Op(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(i){const e=[];for(const[r,s]of Object.entries(i))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,r){r||(r=0);const s=this.W_;if(typeof e=="string")for(let x=0;x<16;x++)s[x]=e.charCodeAt(r)<<24|e.charCodeAt(r+1)<<16|e.charCodeAt(r+2)<<8|e.charCodeAt(r+3),r+=4;else for(let x=0;x<16;x++)s[x]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r+=4;for(let x=16;x<80;x++){const _=s[x-3]^s[x-8]^s[x-14]^s[x-16];s[x]=(_<<1|_>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],f=this.chain_[2],h=this.chain_[3],m=this.chain_[4],y,E;for(let x=0;x<80;x++){x<40?x<20?(y=h^u&(f^h),E=1518500249):(y=u^f^h,E=1859775393):x<60?(y=u&f|h&(u|f),E=2400959708):(y=u^f^h,E=3395469782);const _=(l<<5|l>>>27)+y+m+E+s[x]&4294967295;m=h,h=f,f=(u<<30|u>>>2)&4294967295,u=l,l=_}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(e,r){if(e==null)return;r===void 0&&(r=e.length);const s=r-this.blockSize;let l=0;const u=this.buf_;let f=this.inbuf_;for(;l<r;){if(f===0)for(;l<=s;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<r;)if(u[f]=e.charCodeAt(l),++f,++l,f===this.blockSize){this.compress_(u),f=0;break}}else for(;l<r;)if(u[f]=e[l],++f,++l,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=r}digest(){const e=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=r&255,r/=256;this.compress_(this.buf_);let s=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)e[s]=this.chain_[l]>>u&255,++s;return e}}function Ni(i,e){return`${i} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=function(i){const e=[];let r=0;for(let s=0;s<i.length;s++){let l=i.charCodeAt(s);if(l>=55296&&l<=56319){const u=l-55296;s++,B(s<i.length,"Surrogate pair missing trail surrogate.");const f=i.charCodeAt(s)-56320;l=65536+(u<<10)+f}l<128?e[r++]=l:l<2048?(e[r++]=l>>6|192,e[r++]=l&63|128):l<65536?(e[r++]=l>>12|224,e[r++]=l>>6&63|128,e[r++]=l&63|128):(e[r++]=l>>18|240,e[r++]=l>>12&63|128,e[r++]=l>>6&63|128,e[r++]=l&63|128)}return e},$l=function(i){let e=0;for(let r=0;r<i.length;r++){const s=i.charCodeAt(r);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,r++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(i){return i&&i._delegate?i._delegate:i}class Ms{constructor(e,r,s){this.name=e,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const s=new Pn;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Rx(e))try{this.getOrInitializeService({instanceIdentifier:Ir})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=Ir){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ir){return this.instances.has(e)}getOptions(e=Ir){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[u,f]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);s===h&&f.resolve(l)}return l}onInit(e,r){const s=this.normalizeInstanceIdentifier(r),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&e(u,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,r){const s=this.onInitCallbacks.get(r);if(s)for(const l of s)try{l(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Ox(e),options:r}),this.instances.set(e,s),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ir){return this.component?this.component.multipleInstances?e:Ir:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ox(i){return i===Ir?void 0:i}function Rx(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Px(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Re||(Re={}));const jx={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},Mx=Re.INFO,Lx={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},Fx=(i,e,...r)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),l=Lx[e];if(l)console[l](`[${s}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class im{constructor(e){this.name=e,this._logLevel=Mx,this._logHandler=Fx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const zx=(i,e)=>e.some(r=>i instanceof r);let Rp,Ap;function Bx(){return Rp||(Rp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ux(){return Ap||(Ap=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sm=new WeakMap,hc=new WeakMap,om=new WeakMap,qu=new WeakMap,Wc=new WeakMap;function Hx(i){const e=new Promise((r,s)=>{const l=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{r(lr(i.result)),l()},f=()=>{s(i.error),l()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(r=>{r instanceof IDBCursor&&sm.set(r,i)}).catch(()=>{}),Wc.set(e,i),e}function $x(i){if(hc.has(i))return;const e=new Promise((r,s)=>{const l=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{r(),l()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});hc.set(i,e)}let pc={get(i,e,r){if(i instanceof IDBTransaction){if(e==="done")return hc.get(i);if(e==="objectStoreNames")return i.objectStoreNames||om.get(i);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return lr(i[e])},set(i,e,r){return i[e]=r,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Wx(i){pc=i(pc)}function Vx(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=i.call(Yu(this),e,...r);return om.set(s,e.sort?e.sort():[e]),lr(s)}:Ux().includes(i)?function(...e){return i.apply(Yu(this),e),lr(sm.get(this))}:function(...e){return lr(i.apply(Yu(this),e))}}function Gx(i){return typeof i=="function"?Vx(i):(i instanceof IDBTransaction&&$x(i),zx(i,Bx())?new Proxy(i,pc):i)}function lr(i){if(i instanceof IDBRequest)return Hx(i);if(qu.has(i))return qu.get(i);const e=Gx(i);return e!==i&&(qu.set(i,e),Wc.set(e,i)),e}const Yu=i=>Wc.get(i);function Qx(i,e,{blocked:r,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(i,e),h=lr(f);return s&&f.addEventListener("upgradeneeded",m=>{s(lr(f.result),m.oldVersion,m.newVersion,lr(f.transaction),m)}),r&&f.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),h.then(m=>{u&&m.addEventListener("close",()=>u()),l&&m.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),h}const qx=["get","getKey","getAll","getAllKeys","count"],Yx=["put","add","delete","clear"],Ku=new Map;function jp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Ku.get(e))return Ku.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,l=Yx.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(l||qx.includes(r)))return;const u=async function(f,...h){const m=this.transaction(f,l?"readwrite":"readonly");let y=m.store;return s&&(y=y.index(h.shift())),(await Promise.all([y[r](...h),l&&m.done]))[0]};return Ku.set(e,u),u}Wx(i=>({...i,get:(e,r,s)=>jp(e,r)||i.get(e,r,s),has:(e,r)=>!!jp(e,r)||i.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Xx(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function Xx(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gc="@firebase/app",Mp="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An=new im("@firebase/app"),Jx="@firebase/app-compat",Zx="@firebase/analytics-compat",eC="@firebase/analytics",tC="@firebase/app-check-compat",nC="@firebase/app-check",rC="@firebase/auth",iC="@firebase/auth-compat",sC="@firebase/database",oC="@firebase/data-connect",lC="@firebase/database-compat",aC="@firebase/functions",uC="@firebase/functions-compat",cC="@firebase/installations",dC="@firebase/installations-compat",fC="@firebase/messaging",hC="@firebase/messaging-compat",pC="@firebase/performance",gC="@firebase/performance-compat",mC="@firebase/remote-config",yC="@firebase/remote-config-compat",vC="@firebase/storage",_C="@firebase/storage-compat",wC="@firebase/firestore",xC="@firebase/ai",CC="@firebase/firestore-compat",SC="firebase",EC="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc="[DEFAULT]",NC={[gc]:"fire-core",[Jx]:"fire-core-compat",[eC]:"fire-analytics",[Zx]:"fire-analytics-compat",[nC]:"fire-app-check",[tC]:"fire-app-check-compat",[rC]:"fire-auth",[iC]:"fire-auth-compat",[sC]:"fire-rtdb",[oC]:"fire-data-connect",[lC]:"fire-rtdb-compat",[aC]:"fire-fn",[uC]:"fire-fn-compat",[cC]:"fire-iid",[dC]:"fire-iid-compat",[fC]:"fire-fcm",[hC]:"fire-fcm-compat",[pC]:"fire-perf",[gC]:"fire-perf-compat",[mC]:"fire-rc",[yC]:"fire-rc-compat",[vC]:"fire-gcs",[_C]:"fire-gcs-compat",[wC]:"fire-fst",[CC]:"fire-fst-compat",[xC]:"fire-vertex","fire-js":"fire-js",[SC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new Map,TC=new Map,yc=new Map;function Lp(i,e){try{i.container.addComponent(e)}catch(r){An.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,r)}}function El(i){const e=i.name;if(yc.has(e))return An.debug(`There were multiple attempts to register component ${e}.`),!1;yc.set(e,i);for(const r of Ls.values())Lp(r,i);for(const r of TC.values())Lp(r,i);return!0}function kC(i,e){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(e)}function bC(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ar=new nm("app","Firebase",DC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,r,s){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=EC;function lm(i,e={}){let r=i;typeof e!="object"&&(e={name:e});const s={name:mc,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw ar.create("bad-app-name",{appName:String(l)});if(r||(r=em()),!r)throw ar.create("no-options");const u=Ls.get(l);if(u){if(Sl(r,u.options)&&Sl(s,u.config))return u;throw ar.create("duplicate-app",{appName:l})}const f=new Ax(l);for(const m of yc.values())f.addComponent(m);const h=new IC(r,s,f);return Ls.set(l,h),h}function am(i=mc){const e=Ls.get(i);if(!e&&i===mc&&em())return lm();if(!e)throw ar.create("no-app",{appName:i});return e}function OC(){return Array.from(Ls.values())}function wi(i,e,r){let s=NC[i]??i;r&&(s+=`-${r}`);const l=s.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${s}" with version "${e}":`];l&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),An.warn(f.join(" "));return}El(new Ms(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="firebase-heartbeat-database",AC=1,Fs="firebase-heartbeat-store";let Xu=null;function um(){return Xu||(Xu=Qx(RC,AC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Fs)}catch(r){console.warn(r)}}}}).catch(i=>{throw ar.create("idb-open",{originalErrorMessage:i.message})})),Xu}async function jC(i){try{const r=(await um()).transaction(Fs),s=await r.objectStore(Fs).get(cm(i));return await r.done,s}catch(e){if(e instanceof Gs)An.warn(e.message);else{const r=ar.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});An.warn(r.message)}}}async function Fp(i,e){try{const s=(await um()).transaction(Fs,"readwrite");await s.objectStore(Fs).put(e,cm(i)),await s.done}catch(r){if(r instanceof Gs)An.warn(r.message);else{const s=ar.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});An.warn(s.message)}}}function cm(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=1024,LC=30;class FC{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new BC(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,r;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=zp();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>LC){const f=UC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){An.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=zp(),{heartbeatsToSend:s,unsentEntries:l}=zC(this._heartbeatsCache.heartbeats),u=xl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return An.warn(r),""}}}function zp(){return new Date().toISOString().substring(0,10)}function zC(i,e=MC){const r=[];let s=i.slice();for(const l of i){const u=r.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),Bp(r)>e){u.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),Bp(r)>e){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class BC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xx()?Cx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await jC(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Fp(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Fp(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Bp(i){return xl(JSON.stringify({version:2,heartbeats:i})).length}function UC(i){if(i.length===0)return-1;let e=0,r=i[0].date;for(let s=1;s<i.length;s++)i[s].date<r&&(r=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(i){El(new Ms("platform-logger",e=>new Kx(e),"PRIVATE")),El(new Ms("heartbeat",e=>new FC(e),"PRIVATE")),wi(gc,Mp,i),wi(gc,Mp,"esm2020"),wi("fire-js","")}HC("");var $C="firebase",WC="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wi($C,WC,"app");var Up={};const Hp="@firebase/database",$p="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dm="";function VC(i){dm=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,r){r==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ft(r))}get(e){const r=this.domStorage_.getItem(this.prefixedName_(e));return r==null?null:js(r)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,r){r==null?delete this.cache_[e]:this.cache_[e]=r}get(e){return _n(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const e=window[i];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new GC(e)}}catch{}return new QC},Rr=fm("localStorage"),qC=fm("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new im("@firebase/database"),YC=(function(){let i=1;return function(){return i++}})(),hm=function(i){const e=Ix(i),r=new Dx;r.update(e);const s=r.digest();return Hc.encodeByteArray(s)},Qs=function(...i){let e="";for(let r=0;r<i.length;r++){const s=i[r];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Qs.apply(null,s):typeof s=="object"?e+=ft(s):e+=s,e+=" "}return e};let Is=null,Wp=!0;const KC=function(i,e){B(!0,"Can't turn on custom loggers persistently."),xi.logLevel=Re.VERBOSE,Is=xi.log.bind(xi)},yt=function(...i){if(Wp===!0&&(Wp=!1,Is===null&&qC.get("logging_enabled")===!0&&KC()),Is){const e=Qs.apply(null,i);Is(e)}},qs=function(i){return function(...e){yt(i,...e)}},vc=function(...i){const e="FIREBASE INTERNAL ERROR: "+Qs(...i);xi.error(e)},jn=function(...i){const e=`FIREBASE FATAL ERROR: ${Qs(...i)}`;throw xi.error(e),new Error(e)},Lt=function(...i){const e="FIREBASE WARNING: "+Qs(...i);xi.warn(e)},XC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Lt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Wl=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},JC=function(i){if(document.readyState==="complete")i();else{let e=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}e||(e=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Ti="[MIN_NAME]",Mr="[MAX_NAME]",Br=function(i,e){if(i===e)return 0;if(i===Ti||e===Mr)return-1;if(e===Ti||i===Mr)return 1;{const r=Vp(i),s=Vp(e);return r!==null?s!==null?r-s===0?i.length-e.length:r-s:-1:s!==null?1:i<e?-1:1}},ZC=function(i,e){return i===e?0:i<e?-1:1},Es=function(i,e){if(e&&i in e)return e[i];throw new Error("Missing required key ("+i+") in object: "+ft(e))},Vc=function(i){if(typeof i!="object"||i===null)return ft(i);const e=[];for(const s in i)e.push(s);e.sort();let r="{";for(let s=0;s<e.length;s++)s!==0&&(r+=","),r+=ft(e[s]),r+=":",r+=Vc(i[e[s]]);return r+="}",r},pm=function(i,e){const r=i.length;if(r<=e)return[i];const s=[];for(let l=0;l<r;l+=e)l+e>r?s.push(i.substring(l,r)):s.push(i.substring(l,l+e));return s};function St(i,e){for(const r in i)i.hasOwnProperty(r)&&e(r,i[r])}const gm=function(i){B(!Wl(i),"Invalid JSON number");const e=11,r=52,s=(1<<e-1)-1;let l,u,f,h,m;i===0?(u=0,f=0,l=1/i===-1/0?1:0):(l=i<0,i=Math.abs(i),i>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(i)/Math.LN2),s),u=h+s,f=Math.round(i*Math.pow(2,r-h)-Math.pow(2,r))):(u=0,f=Math.round(i/Math.pow(2,1-s-r))));const y=[];for(m=r;m;m-=1)y.push(f%2?1:0),f=Math.floor(f/2);for(m=e;m;m-=1)y.push(u%2?1:0),u=Math.floor(u/2);y.push(l?1:0),y.reverse();const E=y.join("");let x="";for(m=0;m<64;m+=8){let _=parseInt(E.substr(m,8),2).toString(16);_.length===1&&(_="0"+_),x=x+_}return x.toLowerCase()},e1=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},t1=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function n1(i,e){let r="Unknown Error";i==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?r="Client doesn't have permission to access the desired data.":i==="unavailable"&&(r="The service is unavailable");const s=new Error(i+" at "+e._path.toString()+": "+r);return s.code=i.toUpperCase(),s}const r1=new RegExp("^-?(0*)\\d{1,10}$"),i1=-2147483648,s1=2147483647,Vp=function(i){if(r1.test(i)){const e=Number(i);if(e>=i1&&e<=s1)return e}return null},Ri=function(i){try{i()}catch(e){setTimeout(()=>{const r=e.stack||"";throw Lt("Exception was thrown by user callback.",r),e},Math.floor(0))}},o1=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ps=function(i,e){const r=setTimeout(i,e);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,r){this.appCheckProvider=r,this.appName=e.name,bC(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((r,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(r,s):r(null)},0)})}addTokenChangeListener(e){var r;(r=this.appCheckProvider)==null||r.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){Lt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,r,s){this.appName_=e,this.firebaseOptions_=r,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(r=>r&&r.code==="auth/token-not-initialized"?(yt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(r,s):r(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(r=>r.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(r=>r.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Lt(e)}}class _l{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}_l.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc="5",mm="v",ym="s",vm="r",_m="f",wm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,xm="ls",Cm="p",_c="ac",Sm="websocket",Em="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,r,s,l,u=!1,f="",h=!1,m=!1,y=null){this.secure=r,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this.emulatorOptions=y,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Rr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Rr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${r}`}}function u1(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function Tm(i,e,r){B(typeof e=="string","typeof type must == string"),B(typeof r=="object","typeof params must == object");let s;if(e===Sm)s=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(e===Em)s=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);u1(i)&&(r.ns=i.namespace);const l=[];return St(r,(u,f)=>{l.push(u+"="+f)}),s+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.counters_={}}incrementCounter(e,r=1){_n(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=r}get(){return sx(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju={},Zu={};function Qc(i){const e=i.toString();return Ju[e]||(Ju[e]=new c1),Ju[e]}function d1(i,e){const r=i.toString();return Zu[r]||(Zu[r]=e()),Zu[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,r){this.closeAfterResponse=e,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,r){for(this.pendingResponses[e]=r;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&Ri(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="start",h1="close",p1="pLPCommand",g1="pRTLPCB",km="id",bm="pw",Dm="ser",m1="cb",y1="seg",v1="ts",_1="d",w1="dframe",Im=1870,Pm=30,x1=Im-Pm,C1=25e3,S1=3e4;class vi{constructor(e,r,s,l,u,f,h){this.connId=e,this.repoInfo=r,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.transportSessionId=f,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=qs(e),this.stats_=Qc(r),this.urlFn=m=>(this.appCheckToken&&(m[_c]=this.appCheckToken),Tm(r,Em,m))}open(e,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new f1(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(S1)),JC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qc((...u)=>{const[f,h,m,y,E]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===Gp)this.id=h,this.password=m;else if(f===h1)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[Gp]="t",s[Dm]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[m1]=this.scriptTagHolder.uniqueCallbackIdentifier),s[mm]=Gc,this.transportSessionId&&(s[ym]=this.transportSessionId),this.lastSessionId&&(s[xm]=this.lastSessionId),this.applicationId&&(s[Cm]=this.applicationId),this.appCheckToken&&(s[_c]=this.appCheckToken),typeof location<"u"&&location.hostname&&wm.test(location.hostname)&&(s[vm]=_m);const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){vi.forceAllow_=!0}static forceDisallow(){vi.forceDisallow_=!0}static isAvailable(){return vi.forceAllow_?!0:!vi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!e1()&&!t1()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const r=ft(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const s=Xg(r),l=pm(s,x1);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(e,r){this.myDisconnFrame=document.createElement("iframe");const s={};s[w1]="t",s[km]=e,s[bm]=r,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const r=ft(e).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class qc{constructor(e,r,s,l){this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=YC(),window[p1+this.uniqueCallbackIdentifier]=e,window[g1+this.uniqueCallbackIdentifier]=r,this.myIFrame=qc.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(h){yt("frame writing exception"),h.stack&&yt(h.stack),yt(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||yt("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,r){for(this.myID=e,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[km]=this.myID,e[bm]=this.myPW,e[Dm]=this.currentSerial;let r=this.urlFn(e),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Pm+s.length<=Im;){const f=this.pendingSegs.shift();s=s+"&"+y1+l+"="+f.seg+"&"+v1+l+"="+f.ts+"&"+_1+l+"="+f.d,l++}return r=r+s,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(e,r,s){this.pendingSegs.push({seg:e,ts:r,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,r){this.outstandingRequests.add(r);const s=()=>{this.outstandingRequests.delete(r),this.newRequest_()},l=setTimeout(s,Math.floor(C1)),u=()=>{clearTimeout(l),s()};this.addTag(e,u)}addTag(e,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||l==="loaded"||l==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),r())},s.onerror=()=>{yt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=16384,N1=45e3;let Nl=null;typeof MozWebSocket<"u"?Nl=MozWebSocket:typeof WebSocket<"u"&&(Nl=WebSocket);class cn{constructor(e,r,s,l,u,f,h){this.connId=e,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=qs(this.connId),this.stats_=Qc(r),this.connURL=cn.connectionURL_(r,f,h,l,s),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,s,l,u){const f={};return f[mm]=Gc,typeof location<"u"&&location.hostname&&wm.test(location.hostname)&&(f[vm]=_m),r&&(f[ym]=r),s&&(f[xm]=s),l&&(f[_c]=l),u&&(f[Cm]=u),Tm(e,Sm,f)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Rr.set("previous_websocket_failure",!0);try{let s;wx(),this.mySock=new Nl(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){cn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(r);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&Nl!==null&&!cn.forceDisallow_}static previouslyFailed(){return Rr.isInMemoryStorage||Rr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Rr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const s=js(r);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(B(this.frames===null,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const s=this.extractFrameCount_(r);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const r=ft(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const s=pm(r,E1);s.length>1&&this.sendString_(String(s.length));for(let l=0;l<s.length;l++)this.sendString_(s[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(N1))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}cn.responsesRequiredToBeHealthy=2;cn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{static get ALL_TRANSPORTS(){return[vi,cn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const r=cn&&cn.isAvailable();let s=r&&!cn.previouslyFailed();if(e.webSocketOnly&&(r||Lt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[cn];else{const l=this.transports_=[];for(const u of zs.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);zs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}zs.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=6e4,k1=5e3,b1=10*1024,D1=100*1024,ec="t",Qp="d",I1="s",qp="r",P1="e",Yp="o",Kp="a",Xp="n",Jp="p",O1="h";class R1{constructor(e,r,s,l,u,f,h,m,y,E){this.id=e,this.repoInfo_=r,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=f,this.onReady_=h,this.onDisconnect_=m,this.onKill_=y,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=qs("c:"+this.id+":"),this.transportManager_=new zs(r),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,s)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=Ps(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>D1?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>b1?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return r=>{e===this.conn_?this.onConnectionLost_(r):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return r=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(r):e===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(e){const r={t:"d",d:e};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ec in e){const r=e[ec];r===Kp?this.upgradeIfSecondaryHealthy_():r===qp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===Yp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const r=Es("t",e),s=Es("d",e);if(r==="c")this.onSecondaryControl_(s);else if(r==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Jp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Kp,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Xp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const r=Es("t",e),s=Es("d",e);r==="c"?this.onControl_(s):r==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const r=Es(ec,e);if(Qp in e){const s=e[Qp];if(r===O1){const l={...s};this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(r===Xp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===I1?this.onConnectionShutdown_(s):r===qp?this.onReset_(s):r===P1?vc("Server Error: "+s):r===Yp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):vc("Unknown control packet command: "+r)}}onHandshake_(e){const r=e.ts,s=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Gc!==s&&Lt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,s),Ps(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(T1))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,r){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ps(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(k1))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Jp,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Rr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{put(e,r,s,l){}merge(e,r,s,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,r,s){}onDisconnectMerge(e,r,s){}onDisconnectCancel(e,r){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e){this.allowedEvents_=e,this.listeners_={},B(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...r){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,r)}}on(e,r,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:r,context:s});const l=this.getInitialEvent(e);l&&r.apply(s,l)}off(e,r,s){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let u=0;u<l.length;u++)if(l[u].callback===r&&(!s||s===l[u].context)){l.splice(u,1);return}}validateEventType_(e){B(this.allowedEvents_.find(r=>r===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends Rm{static getInstance(){return new Tl}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!tm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return B(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp=32,eg=768;class Te{constructor(e,r){if(r===void 0){this.pieces_=e.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=r}toString(){let e="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(e+="/"+this.pieces_[r]);return e||"/"}}function Ce(){return new Te("")}function fe(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function cr(i){return i.pieces_.length-i.pieceNum_}function Pe(i){let e=i.pieceNum_;return e<i.pieces_.length&&e++,new Te(i.pieces_,e)}function Yc(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function A1(i){let e="";for(let r=i.pieceNum_;r<i.pieces_.length;r++)i.pieces_[r]!==""&&(e+="/"+encodeURIComponent(String(i.pieces_[r])));return e||"/"}function Bs(i,e=0){return i.pieces_.slice(i.pieceNum_+e)}function Am(i){if(i.pieceNum_>=i.pieces_.length)return null;const e=[];for(let r=i.pieceNum_;r<i.pieces_.length-1;r++)e.push(i.pieces_[r]);return new Te(e,0)}function Je(i,e){const r=[];for(let s=i.pieceNum_;s<i.pieces_.length;s++)r.push(i.pieces_[s]);if(e instanceof Te)for(let s=e.pieceNum_;s<e.pieces_.length;s++)r.push(e.pieces_[s]);else{const s=e.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&r.push(s[l])}return new Te(r,0)}function pe(i){return i.pieceNum_>=i.pieces_.length}function jt(i,e){const r=fe(i),s=fe(e);if(r===null)return e;if(r===s)return jt(Pe(i),Pe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+i+")")}function j1(i,e){const r=Bs(i,0),s=Bs(e,0);for(let l=0;l<r.length&&l<s.length;l++){const u=Br(r[l],s[l]);if(u!==0)return u}return r.length===s.length?0:r.length<s.length?-1:1}function Kc(i,e){if(cr(i)!==cr(e))return!1;for(let r=i.pieceNum_,s=e.pieceNum_;r<=i.pieces_.length;r++,s++)if(i.pieces_[r]!==e.pieces_[s])return!1;return!0}function Jt(i,e){let r=i.pieceNum_,s=e.pieceNum_;if(cr(i)>cr(e))return!1;for(;r<i.pieces_.length;){if(i.pieces_[r]!==e.pieces_[s])return!1;++r,++s}return!0}class M1{constructor(e,r){this.errorPrefix_=r,this.parts_=Bs(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=$l(this.parts_[s]);jm(this)}}function L1(i,e){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(e),i.byteLength_+=$l(e),jm(i)}function F1(i){const e=i.parts_.pop();i.byteLength_-=$l(e),i.parts_.length>0&&(i.byteLength_-=1)}function jm(i){if(i.byteLength_>eg)throw new Error(i.errorPrefix_+"has a key path longer than "+eg+" bytes ("+i.byteLength_+").");if(i.parts_.length>Zp)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Zp+") or object contains a cycle "+Pr(i))}function Pr(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends Rm{static getInstance(){return new Xc}constructor(){super(["visible"]);let e,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return B(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=1e3,z1=300*1e3,tg=30*1e3,B1=1.3,U1=3e4,H1="server_kill",ng=3;class Rn extends Om{constructor(e,r,s,l,u,f,h,m){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=s,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=h,this.authOverride_=m,this.id=Rn.nextPersistentConnectionId_++,this.log_=qs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ns,this.maxReconnectDelay_=z1,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Xc.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Tl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,s){const l=++this.requestNumber_,u={r:l,a:e,b:r};this.log_(ft(u)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),s&&(this.requestCBHash_[l]=s)}get(e){this.initConnection_();const r=new Pn,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:f=>{const h=f.d;f.s==="ok"?r.resolve(h):r.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),r.promise}listen(e,r,s,l){this.initConnection_();const u=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:r,query:e,tag:s};this.listens.get(f).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(s)})}sendListen_(e){const r=e.query,s=r._path.toString(),l=r._queryIdentifier;this.log_("Listen on "+s+" for "+l);const u={p:s},f="q";e.tag&&(u.q=r._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(f,u,h=>{const m=h.d,y=h.s;Rn.warnOnListenWarnings_(m,r),(this.listens.get(s)&&this.listens.get(s).get(l))===e&&(this.log_("listen response",h),y!=="ok"&&this.removeListen_(s,l),e.onComplete&&e.onComplete(y,m))})}static warnOnListenWarnings_(e,r){if(e&&typeof e=="object"&&_n(e,"w")){const s=Ei(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const l='".indexOn": "'+r._queryParams.getIndex().toString()+'"',u=r._path.toString();Lt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||kx(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=tg)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=Tx(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(r,s,l=>{const u=l.s,f=l.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,s=e.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,s)})}unlisten(e,r){const s=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+l),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,l)&&this.connected_&&this.sendUnlisten_(s,l,e._queryObject,r)}sendUnlisten_(e,r,s,l){this.log_("Unlisten on "+e+" for "+r);const u={p:e},f="n";l&&(u.q=s,u.t=l),this.sendRequest(f,u)}onDisconnectPut(e,r,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:s})}onDisconnectMerge(e,r,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:s})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,s,l){const u={p:r,d:s};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,f=>{l&&setTimeout(()=>{l(f.s,f.d)},Math.floor(0))})}put(e,r,s,l){this.putInternal("p",e,r,s,l)}merge(e,r,s,l){this.putInternal("m",e,r,s,l)}putInternal(e,r,s,l,u){this.initConnection_();const f={p:r,d:s};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:e,request:f,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,s,u=>{this.log_(r+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,s=>{if(s.s!=="ok"){const u=s.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ft(e));const r=e.r,s=this.requestCBHash_[r];s&&(delete this.requestCBHash_[r],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),e==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):e==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):e==="c"?this.onListenRevoked_(r.p,r.q):e==="ac"?this.onAuthRevoked_(r.s,r.d):e==="apc"?this.onAppCheckRevoked_(r.s,r.d):e==="sd"?this.onSecurityDebugPacket_(r):vc("Unrecognized action received from server: "+ft(e)+`
Are you using the latest client?`)}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ns,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ns,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>U1&&(this.reconnectDelay_=Ns),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*B1)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+Rn.nextConnectionId_++,u=this.lastSessionId;let f=!1,h=null;const m=function(){h?h.close():(f=!0,s())},y=function(x){B(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(x)};this.realtime_={close:m,sendRequest:y};const E=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[x,_]=await Promise.all([this.authTokenProvider_.getToken(E),this.appCheckTokenProvider_.getToken(E)]);f?yt("getToken() completed but was canceled"):(yt("getToken() completed. Creating connection."),this.authToken_=x&&x.accessToken,this.appCheckToken_=_&&_.token,h=new R1(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,r,s,D=>{Lt(D+" ("+this.repoInfo_.toString()+")"),this.interrupt(H1)},u))}catch(x){this.log_("Failed to get token: "+x),f||(this.repoInfo_.nodeAdmin&&Lt(x),m())}}}interrupt(e){yt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){yt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],fc(this.interruptReasons_)&&(this.reconnectDelay_=Ns,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let s;r?s=r.map(u=>Vc(u)).join("$"):s="default";const l=this.removeListen_(e,s);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,r){const s=new Te(e).toString();let l;if(this.listens.has(s)){const u=this.listens.get(s);l=u.get(r),u.delete(r),u.size===0&&this.listens.delete(s)}else l=void 0;return l}onAuthRevoked_(e,r){yt("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ng&&(this.reconnectDelay_=tg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){yt("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ng&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";e["sdk."+r+"."+dm.replace(/\./g,"-")]=1,tm()?e["framework.cordova"]=1:_x()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Tl.getInstance().currentlyOnline();return fc(this.interruptReasons_)&&e}}Rn.nextPersistentConnectionId_=0;Rn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e,r){this.name=e,this.node=r}static Wrap(e,r){return new ge(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,r){const s=new ge(Ti,e),l=new ge(Ti,r);return this.compare(s,l)!==0}minPost(){return ge.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl;class Mm extends Vl{static get __EMPTY_NODE(){return dl}static set __EMPTY_NODE(e){dl=e}compare(e,r){return Br(e.name,r.name)}isDefinedOn(e){throw Pi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,r){return!1}minPost(){return ge.MIN}maxPost(){return new ge(Mr,dl)}makePost(e,r){return B(typeof e=="string","KeyIndex indexValue must always be a string."),new ge(e,dl)}toString(){return".key"}}const Ci=new Mm;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,r,s,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!e.isEmpty();)if(e=e,f=r?s(e.key,r):1,l&&(f*=-1),f<0)this.isReverse_?e=e.left:e=e.right;else if(f===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(e.key,e.value):r={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class dt{constructor(e,r,s,l,u){this.key=e,this.value=r,this.color=s??dt.RED,this.left=l??Mt.EMPTY_NODE,this.right=u??Mt.EMPTY_NODE}copy(e,r,s,l,u){return new dt(e??this.key,r??this.value,s??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let l=this;const u=s(e,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(e,r,s),null):u===0?l=l.copy(null,r,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,r,s)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Mt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let s,l;if(s=this,r(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),r(e,s.key)===0){if(s.right.isEmpty())return Mt.EMPTY_NODE;l=s.right.min_(),s=s.copy(l.key,l.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}dt.RED=!0;dt.BLACK=!1;class $1{copy(e,r,s,l,u){return this}insert(e,r,s){return new dt(e,r,null)}remove(e,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Mt{constructor(e,r=Mt.EMPTY_NODE){this.comparator_=e,this.root_=r}insert(e,r){return new Mt(this.comparator_,this.root_.insert(e,r,this.comparator_).copy(null,null,dt.BLACK,null,null))}remove(e){return new Mt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,dt.BLACK,null,null))}get(e){let r,s=this.root_;for(;!s.isEmpty();){if(r=this.comparator_(e,s.key),r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}getPredecessorKey(e){let r,s=this.root_,l=null;for(;!s.isEmpty();)if(r=this.comparator_(e,s.key),r===0){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else r<0?s=s.left:r>0&&(l=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new fl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,r){return new fl(this.root_,e,this.comparator_,!1,r)}getReverseIteratorFrom(e,r){return new fl(this.root_,e,this.comparator_,!0,r)}getReverseIterator(e){return new fl(this.root_,null,this.comparator_,!0,e)}}Mt.EMPTY_NODE=new $1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(i,e){return Br(i.name,e.name)}function Jc(i,e){return Br(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc;function V1(i){wc=i}const Lm=function(i){return typeof i=="number"?"number:"+gm(i):"string:"+i},Fm=function(i){if(i.isLeafNode()){const e=i.val();B(typeof e=="string"||typeof e=="number"||typeof e=="object"&&_n(e,".sv"),"Priority must be a string or number.")}else B(i===wc||i.isEmpty(),"priority of unexpected type.");B(i===wc||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rg;class ct{static set __childrenNodeConstructor(e){rg=e}static get __childrenNodeConstructor(){return rg}constructor(e,r=ct.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Fm(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ct(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ct.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return pe(e)?this:fe(e)===".priority"?this.priorityNode_:ct.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return e===".priority"?this.updatePriority(r):r.isEmpty()&&e!==".priority"?this:ct.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const s=fe(e);return s===null?r:r.isEmpty()&&s!==".priority"?this:(B(s!==".priority"||cr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,ct.__childrenNodeConstructor.EMPTY_NODE.updateChild(Pe(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Lm(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",r==="number"?e+=gm(this.value_):e+=this.value_,this.lazyHash_=hm(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ct.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ct.__childrenNodeConstructor?-1:(B(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,s=typeof this.value_,l=ct.VALUE_TYPE_ORDER.indexOf(r),u=ct.VALUE_TYPE_ORDER.indexOf(s);return B(l>=0,"Unknown leaf type: "+r),B(u>=0,"Unknown leaf type: "+s),l===u?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}ct.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zm,Bm;function G1(i){zm=i}function Q1(i){Bm=i}class q1 extends Vl{compare(e,r){const s=e.node.getPriority(),l=r.node.getPriority(),u=s.compareTo(l);return u===0?Br(e.name,r.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,r){return!e.getPriority().equals(r.getPriority())}minPost(){return ge.MIN}maxPost(){return new ge(Mr,new ct("[PRIORITY-POST]",Bm))}makePost(e,r){const s=zm(e);return new ge(r,new ct("[PRIORITY-POST]",s))}toString(){return".priority"}}const Ge=new q1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=Math.log(2);class K1{constructor(e){const r=u=>parseInt(Math.log(u)/Y1,10),s=u=>parseInt(Array(u+1).join("1"),2);this.count=r(e+1),this.current_=this.count-1;const l=s(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const kl=function(i,e,r,s){i.sort(e);const l=function(m,y){const E=y-m;let x,_;if(E===0)return null;if(E===1)return x=i[m],_=r?r(x):x,new dt(_,x.node,dt.BLACK,null,null);{const D=parseInt(E/2,10)+m,M=l(m,D),j=l(D+1,y);return x=i[D],_=r?r(x):x,new dt(_,x.node,dt.BLACK,M,j)}},u=function(m){let y=null,E=null,x=i.length;const _=function(M,j){const H=x-M,le=x;x-=M;const ce=l(H+1,le),ve=i[H],Se=r?r(ve):ve;D(new dt(Se,ve.node,j,null,ce))},D=function(M){y?(y.left=M,y=M):(E=M,y=M)};for(let M=0;M<m.count;++M){const j=m.nextBitIsOne(),H=Math.pow(2,m.count-(M+1));j?_(H,dt.BLACK):(_(H,dt.BLACK),_(H,dt.RED))}return E},f=new K1(i.length),h=u(f);return new Mt(s||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc;const mi={};class On{static get Default(){return B(mi&&Ge,"ChildrenNode.ts has not been loaded"),tc=tc||new On({".priority":mi},{".priority":Ge}),tc}constructor(e,r){this.indexes_=e,this.indexSet_=r}get(e){const r=Ei(this.indexes_,e);if(!r)throw new Error("No index defined for "+e);return r instanceof Mt?r:null}hasIndex(e){return _n(this.indexSet_,e.toString())}addIndex(e,r){B(e!==Ci,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const u=r.getIterator(ge.Wrap);let f=u.getNext();for(;f;)l=l||e.isDefinedOn(f.node),s.push(f),f=u.getNext();let h;l?h=kl(s,e.getCompare()):h=mi;const m=e.toString(),y={...this.indexSet_};y[m]=e;const E={...this.indexes_};return E[m]=h,new On(E,y)}addToIndexes(e,r){const s=Cl(this.indexes_,(l,u)=>{const f=Ei(this.indexSet_,u);if(B(f,"Missing index implementation for "+u),l===mi)if(f.isDefinedOn(e.node)){const h=[],m=r.getIterator(ge.Wrap);let y=m.getNext();for(;y;)y.name!==e.name&&h.push(y),y=m.getNext();return h.push(e),kl(h,f.getCompare())}else return mi;else{const h=r.get(e.name);let m=l;return h&&(m=m.remove(new ge(e.name,h))),m.insert(e,e.node)}});return new On(s,this.indexSet_)}removeFromIndexes(e,r){const s=Cl(this.indexes_,l=>{if(l===mi)return l;{const u=r.get(e.name);return u?l.remove(new ge(e.name,u)):l}});return new On(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ts;class ie{static get EMPTY_NODE(){return Ts||(Ts=new ie(new Mt(Jc),null,On.Default))}constructor(e,r,s){this.children_=e,this.priorityNode_=r,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&Fm(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ts}updatePriority(e){return this.children_.isEmpty()?this:new ie(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const r=this.children_.get(e);return r===null?Ts:r}}getChild(e){const r=fe(e);return r===null?this:this.getImmediateChild(r).getChild(Pe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,r){if(B(r,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(r);{const s=new ge(e,r);let l,u;r.isEmpty()?(l=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(s,this.children_)):(l=this.children_.insert(e,r),u=this.indexMap_.addToIndexes(s,this.children_));const f=l.isEmpty()?Ts:this.priorityNode_;return new ie(l,f,u)}}updateChild(e,r){const s=fe(e);if(s===null)return r;{B(fe(e)!==".priority"||cr(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(s).updateChild(Pe(e),r);return this.updateImmediateChild(s,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let s=0,l=0,u=!0;if(this.forEachChild(Ge,(f,h)=>{r[f]=h.val(e),s++,u&&ie.INTEGER_REGEXP_.test(f)?l=Math.max(l,Number(f)):u=!1}),!e&&u&&l<2*s){const f=[];for(const h in r)f[h]=r[h];return f}else return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Lm(this.getPriority().val())+":"),this.forEachChild(Ge,(r,s)=>{const l=s.hash();l!==""&&(e+=":"+r+":"+l)}),this.lazyHash_=e===""?"":hm(e)}return this.lazyHash_}getPredecessorChildName(e,r,s){const l=this.resolveIndex_(s);if(l){const u=l.getPredecessorKey(new ge(e,r));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const s=r.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new ge(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const s=r.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new ge(r,this.children_.get(r)):null}forEachChild(e,r){const s=this.resolveIndex_(e);return s?s.inorderTraversal(l=>r(l.name,l.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const s=this.resolveIndex_(r);if(s)return s.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,ge.Wrap);let u=l.peek();for(;u!=null&&r.compare(u,e)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const s=this.resolveIndex_(r);if(s)return s.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,ge.Wrap);let u=l.peek();for(;u!=null&&r.compare(u,e)>0;)l.getNext(),u=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ys?-1:0}withIndex(e){if(e===Ci||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new ie(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===Ci||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const s=this.getIterator(Ge),l=r.getIterator(Ge);let u=s.getNext(),f=l.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=s.getNext(),f=l.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(e){return e===Ci?null:this.indexMap_.get(e.toString())}}ie.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class X1 extends ie{constructor(){super(new Mt(Jc),ie.EMPTY_NODE,On.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ie.EMPTY_NODE}isEmpty(){return!1}}const Ys=new X1;Object.defineProperties(ge,{MIN:{value:new ge(Ti,ie.EMPTY_NODE)},MAX:{value:new ge(Mr,Ys)}});Mm.__EMPTY_NODE=ie.EMPTY_NODE;ct.__childrenNodeConstructor=ie;V1(Ys);Q1(Ys);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=!0;function tt(i,e=null){if(i===null)return ie.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(e=i[".priority"]),B(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const r=i;return new ct(r,tt(e))}if(!(i instanceof Array)&&J1){const r=[];let s=!1;if(St(i,(f,h)=>{if(f.substring(0,1)!=="."){const m=tt(h);m.isEmpty()||(s=s||!m.getPriority().isEmpty(),r.push(new ge(f,m)))}}),r.length===0)return ie.EMPTY_NODE;const u=kl(r,W1,f=>f.name,Jc);if(s){const f=kl(r,Ge.getCompare());return new ie(u,tt(e),new On({".priority":f},{".priority":Ge}))}else return new ie(u,tt(e),On.Default)}else{let r=ie.EMPTY_NODE;return St(i,(s,l)=>{if(_n(i,s)&&s.substring(0,1)!=="."){const u=tt(l);(u.isLeafNode()||!u.isEmpty())&&(r=r.updateImmediateChild(s,u))}}),r.updatePriority(tt(e))}}G1(tt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1 extends Vl{constructor(e){super(),this.indexPath_=e,B(!pe(e)&&fe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,r){const s=this.extractChild(e.node),l=this.extractChild(r.node),u=s.compareTo(l);return u===0?Br(e.name,r.name):u}makePost(e,r){const s=tt(e),l=ie.EMPTY_NODE.updateChild(this.indexPath_,s);return new ge(r,l)}maxPost(){const e=ie.EMPTY_NODE.updateChild(this.indexPath_,Ys);return new ge(Mr,e)}toString(){return Bs(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS extends Vl{compare(e,r){const s=e.node.compareTo(r.node);return s===0?Br(e.name,r.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,r){return!e.equals(r)}minPost(){return ge.MIN}maxPost(){return ge.MAX}makePost(e,r){const s=tt(e);return new ge(r,s)}toString(){return".value"}}const tS=new eS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(i){return{type:"value",snapshotNode:i}}function ki(i,e){return{type:"child_added",snapshotNode:e,childName:i}}function Us(i,e){return{type:"child_removed",snapshotNode:e,childName:i}}function Hs(i,e,r){return{type:"child_changed",snapshotNode:e,childName:i,oldSnap:r}}function nS(i,e){return{type:"child_moved",snapshotNode:e,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e){this.index_=e}updateChild(e,r,s,l,u,f){B(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(r);return h.getChild(l).equals(s.getChild(l))&&h.isEmpty()===s.isEmpty()||(f!=null&&(s.isEmpty()?e.hasChild(r)?f.trackChildChange(Us(r,h)):B(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?f.trackChildChange(ki(r,s)):f.trackChildChange(Hs(r,s,h))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(r,s).withIndex(this.index_)}updateFullNode(e,r,s){return s!=null&&(e.isLeafNode()||e.forEachChild(Ge,(l,u)=>{r.hasChild(l)||s.trackChildChange(Us(l,u))}),r.isLeafNode()||r.forEachChild(Ge,(l,u)=>{if(e.hasChild(l)){const f=e.getImmediateChild(l);f.equals(u)||s.trackChildChange(Hs(l,u,f))}else s.trackChildChange(ki(l,u))})),r.withIndex(this.index_)}updatePriority(e,r){return e.isEmpty()?ie.EMPTY_NODE:e.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.indexedFilter_=new Zc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=$s.getStartPost_(e),this.endPost_=$s.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return r&&s}updateChild(e,r,s,l,u,f){return this.matches(new ge(r,s))||(s=ie.EMPTY_NODE),this.indexedFilter_.updateChild(e,r,s,l,u,f)}updateFullNode(e,r,s){r.isLeafNode()&&(r=ie.EMPTY_NODE);let l=r.withIndex(this.index_);l=l.updatePriority(ie.EMPTY_NODE);const u=this;return r.forEachChild(Ge,(f,h)=>{u.matches(new ge(f,h))||(l=l.updateImmediateChild(f,ie.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,s)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const r=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),r)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const r=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),r)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=r=>{const s=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new $s(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,r,s,l,u,f){return this.rangedFilter_.matches(new ge(r,s))||(s=ie.EMPTY_NODE),e.getImmediateChild(r).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,r,s,l,u,f):this.fullLimitUpdateChild_(e,r,s,u,f)}updateFullNode(e,r,s){let l;if(r.isLeafNode()||r.isEmpty())l=ie.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){l=ie.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),f++;else break;else continue}}else{l=r.withIndex(this.index_),l=l.updatePriority(ie.EMPTY_NODE);let u;this.reverse_?u=l.getReverseIterator(this.index_):u=l.getIterator(this.index_);let f=0;for(;u.hasNext();){const h=u.getNext();f<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?f++:l=l.updateImmediateChild(h.name,ie.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,s)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,r,s,l,u){let f;if(this.reverse_){const x=this.index_.getCompare();f=(_,D)=>x(D,_)}else f=this.index_.getCompare();const h=e;B(h.numChildren()===this.limit_,"");const m=new ge(r,s),y=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),E=this.rangedFilter_.matches(m);if(h.hasChild(r)){const x=h.getImmediateChild(r);let _=l.getChildAfterChild(this.index_,y,this.reverse_);for(;_!=null&&(_.name===r||h.hasChild(_.name));)_=l.getChildAfterChild(this.index_,_,this.reverse_);const D=_==null?1:f(_,m);if(E&&!s.isEmpty()&&D>=0)return u!=null&&u.trackChildChange(Hs(r,s,x)),h.updateImmediateChild(r,s);{u!=null&&u.trackChildChange(Us(r,x));const j=h.updateImmediateChild(r,ie.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(u!=null&&u.trackChildChange(ki(_.name,_.node)),j.updateImmediateChild(_.name,_.node)):j}}else return s.isEmpty()?e:E&&f(y,m)>=0?(u!=null&&(u.trackChildChange(Us(y.name,y.node)),u.trackChildChange(ki(r,s))),h.updateImmediateChild(r,s).updateImmediateChild(y.name,ie.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ge}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ti}hasEnd(){return this.endSet_}getIndexEndValue(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Mr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ge}copy(){const e=new ed;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function iS(i){return i.loadsAllData()?new Zc(i.getIndex()):i.hasLimit()?new rS(i):new $s(i)}function ig(i){const e={};if(i.isDefault())return e;let r;if(i.index_===Ge?r="$priority":i.index_===tS?r="$value":i.index_===Ci?r="$key":(B(i.index_ instanceof Z1,"Unrecognized index type!"),r=i.index_.toString()),e.orderBy=ft(r),i.startSet_){const s=i.startAfterSet_?"startAfter":"startAt";e[s]=ft(i.indexStartValue_),i.startNameSet_&&(e[s]+=","+ft(i.indexStartName_))}if(i.endSet_){const s=i.endBeforeSet_?"endBefore":"endAt";e[s]=ft(i.indexEndValue_),i.endNameSet_&&(e[s]+=","+ft(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?e.limitToFirst=i.limit_:e.limitToLast=i.limit_),e}function sg(i){const e={};if(i.startSet_&&(e.sp=i.indexStartValue_,i.startNameSet_&&(e.sn=i.indexStartName_),e.sin=!i.startAfterSet_),i.endSet_&&(e.ep=i.indexEndValue_,i.endNameSet_&&(e.en=i.indexEndName_),e.ein=!i.endBeforeSet_),i.limitSet_){e.l=i.limit_;let r=i.viewFrom_;r===""&&(i.isViewFromLeft()?r="l":r="r"),e.vf=r}return i.index_!==Ge&&(e.i=i.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends Om{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,r){return r!==void 0?"tag$"+r:(B(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,r,s,l){super(),this.repoInfo_=e,this.onDataUpdate_=r,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=qs("p:rest:"),this.listens_={}}listen(e,r,s,l){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const f=bl.getListenId_(e,s),h={};this.listens_[f]=h;const m=ig(e._queryParams);this.restRequest_(u+".json",m,(y,E)=>{let x=E;if(y===404&&(x=null,y=null),y===null&&this.onDataUpdate_(u,x,!1,s),Ei(this.listens_,f)===h){let _;y?y===401?_="permission_denied":_="rest_error:"+y:_="ok",l(_,null)}})}unlisten(e,r){const s=bl.getListenId_(e,r);delete this.listens_[s]}get(e){const r=ig(e._queryParams),s=e._path.toString(),l=new Pn;return this.restRequest_(s+".json",r,(u,f)=>{let h=f;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(s,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(e){}restRequest_(e,r={},s){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(r.auth=l.accessToken),u&&u.token&&(r.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+bx(r);this.log_("Sending REST request for "+f);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+f+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=js(h.responseText)}catch{Lt("Failed to parse JSON response for "+f+": "+h.responseText)}s(null,m)}else h.status!==401&&h.status!==404&&Lt("Got unsuccessful REST response for "+f+" Status: "+h.status),s(h.status);s=null}},h.open("GET",f,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.rootNode_=ie.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,r){this.rootNode_=this.rootNode_.updateChild(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(){return{value:null,children:new Map}}function Ai(i,e,r){if(pe(e))i.value=r,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(e,r);else{const s=fe(e);i.children.has(s)||i.children.set(s,Dl());const l=i.children.get(s);e=Pe(e),Ai(l,e,r)}}function xc(i,e){if(pe(e))return i.value=null,i.children.clear(),!0;if(i.value!==null){if(i.value.isLeafNode())return!1;{const r=i.value;return i.value=null,r.forEachChild(Ge,(s,l)=>{Ai(i,new Te(s),l)}),xc(i,e)}}else if(i.children.size>0){const r=fe(e);return e=Pe(e),i.children.has(r)&&xc(i.children.get(r),e)&&i.children.delete(r),i.children.size===0}else return!0}function Cc(i,e,r){i.value!==null?r(e,i.value):oS(i,(s,l)=>{const u=new Te(e.toString()+"/"+s);Cc(l,u,r)})}function oS(i,e){i.children.forEach((r,s)=>{e(s,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),r={...e};return this.last_&&St(this.last_,(s,l)=>{r[s]=r[s]-l}),this.last_=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og=10*1e3,aS=30*1e3,uS=300*1e3;class cS{constructor(e,r){this.server_=r,this.statsToReport_={},this.statsListener_=new lS(e);const s=og+(aS-og)*Math.random();Ps(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),r={};let s=!1;St(e,(l,u)=>{u>0&&_n(this.statsToReport_,l)&&(r[l]=u,s=!0)}),s&&this.server_.reportStats(r),Ps(this.reportStats_.bind(this),Math.floor(Math.random()*2*uS))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(dn||(dn={}));function Hm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function td(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function nd(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,r,s){this.path=e,this.affectedTree=r,this.revert=s,this.type=dn.ACK_USER_WRITE,this.source=Hm()}operationForChild(e){if(pe(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new Te(e));return new Il(Ce(),r,this.revert)}}else return B(fe(this.path)===e,"operationForChild called for unrelated child."),new Il(Pe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,r){this.source=e,this.path=r,this.type=dn.LISTEN_COMPLETE}operationForChild(e){return pe(this.path)?new Ws(this.source,Ce()):new Ws(this.source,Pe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,r,s){this.source=e,this.path=r,this.snap=s,this.type=dn.OVERWRITE}operationForChild(e){return pe(this.path)?new Lr(this.source,Ce(),this.snap.getImmediateChild(e)):new Lr(this.source,Pe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,r,s){this.source=e,this.path=r,this.children=s,this.type=dn.MERGE}operationForChild(e){if(pe(this.path)){const r=this.children.subtree(new Te(e));return r.isEmpty()?null:r.value?new Lr(this.source,Ce(),r.value):new Vs(this.source,Ce(),r)}else return B(fe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Vs(this.source,Pe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,r,s){this.node_=e,this.fullyInitialized_=r,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(pe(e))return this.isFullyInitialized()&&!this.filtered_;const r=fe(e);return this.isCompleteForChild(r)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function fS(i,e,r,s){const l=[],u=[];return e.forEach(f=>{f.type==="child_changed"&&i.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(nS(f.childName,f.snapshotNode))}),ks(i,l,"child_removed",e,s,r),ks(i,l,"child_added",e,s,r),ks(i,l,"child_moved",u,s,r),ks(i,l,"child_changed",e,s,r),ks(i,l,"value",e,s,r),l}function ks(i,e,r,s,l,u){const f=s.filter(h=>h.type===r);f.sort((h,m)=>pS(i,h,m)),f.forEach(h=>{const m=hS(i,h,u);l.forEach(y=>{y.respondsTo(h.type)&&e.push(y.createEvent(m,i.query_))})})}function hS(i,e,r){return e.type==="value"||e.type==="child_removed"||(e.prevName=r.getPredecessorChildName(e.childName,e.snapshotNode,i.index_)),e}function pS(i,e,r){if(e.childName==null||r.childName==null)throw Pi("Should only compare child_ events.");const s=new ge(e.childName,e.snapshotNode),l=new ge(r.childName,r.snapshotNode);return i.index_.compare(s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(i,e){return{eventCache:i,serverCache:e}}function Os(i,e,r,s){return Gl(new Fr(e,r,s),i.serverCache)}function $m(i,e,r,s){return Gl(i.eventCache,new Fr(e,r,s))}function Sc(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function zr(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc;const gS=()=>(nc||(nc=new Mt(ZC)),nc);class Be{static fromObject(e){let r=new Be(null);return St(e,(s,l)=>{r=r.set(new Te(s),l)}),r}constructor(e,r=gS()){this.value=e,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,r){if(this.value!=null&&r(this.value))return{path:Ce(),value:this.value};if(pe(e))return null;{const s=fe(e),l=this.children.get(s);if(l!==null){const u=l.findRootMostMatchingPathAndValue(Pe(e),r);return u!=null?{path:Je(new Te(s),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(pe(e))return this;{const r=fe(e),s=this.children.get(r);return s!==null?s.subtree(Pe(e)):new Be(null)}}set(e,r){if(pe(e))return new Be(r,this.children);{const s=fe(e),u=(this.children.get(s)||new Be(null)).set(Pe(e),r),f=this.children.insert(s,u);return new Be(this.value,f)}}remove(e){if(pe(e))return this.children.isEmpty()?new Be(null):new Be(null,this.children);{const r=fe(e),s=this.children.get(r);if(s){const l=s.remove(Pe(e));let u;return l.isEmpty()?u=this.children.remove(r):u=this.children.insert(r,l),this.value===null&&u.isEmpty()?new Be(null):new Be(this.value,u)}else return this}}get(e){if(pe(e))return this.value;{const r=fe(e),s=this.children.get(r);return s?s.get(Pe(e)):null}}setTree(e,r){if(pe(e))return r;{const s=fe(e),u=(this.children.get(s)||new Be(null)).setTree(Pe(e),r);let f;return u.isEmpty()?f=this.children.remove(s):f=this.children.insert(s,u),new Be(this.value,f)}}fold(e){return this.fold_(Ce(),e)}fold_(e,r){const s={};return this.children.inorderTraversal((l,u)=>{s[l]=u.fold_(Je(e,l),r)}),r(e,this.value,s)}findOnPath(e,r){return this.findOnPath_(e,Ce(),r)}findOnPath_(e,r,s){const l=this.value?s(r,this.value):!1;if(l)return l;if(pe(e))return null;{const u=fe(e),f=this.children.get(u);return f?f.findOnPath_(Pe(e),Je(r,u),s):null}}foreachOnPath(e,r){return this.foreachOnPath_(e,Ce(),r)}foreachOnPath_(e,r,s){if(pe(e))return this;{this.value&&s(r,this.value);const l=fe(e),u=this.children.get(l);return u?u.foreachOnPath_(Pe(e),Je(r,l),s):new Be(null)}}foreach(e){this.foreach_(Ce(),e)}foreach_(e,r){this.children.inorderTraversal((s,l)=>{l.foreach_(Je(e,s),r)}),this.value&&r(e,this.value)}foreachChild(e){this.children.inorderTraversal((r,s)=>{s.value&&e(r,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.writeTree_=e}static empty(){return new fn(new Be(null))}}function Rs(i,e,r){if(pe(e))return new fn(new Be(r));{const s=i.writeTree_.findRootMostValueAndPath(e);if(s!=null){const l=s.path;let u=s.value;const f=jt(l,e);return u=u.updateChild(f,r),new fn(i.writeTree_.set(l,u))}else{const l=new Be(r),u=i.writeTree_.setTree(e,l);return new fn(u)}}}function lg(i,e,r){let s=i;return St(r,(l,u)=>{s=Rs(s,Je(e,l),u)}),s}function ag(i,e){if(pe(e))return fn.empty();{const r=i.writeTree_.setTree(e,new Be(null));return new fn(r)}}function Ec(i,e){return Ur(i,e)!=null}function Ur(i,e){const r=i.writeTree_.findRootMostValueAndPath(e);return r!=null?i.writeTree_.get(r.path).getChild(jt(r.path,e)):null}function ug(i){const e=[],r=i.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Ge,(s,l)=>{e.push(new ge(s,l))}):i.writeTree_.children.inorderTraversal((s,l)=>{l.value!=null&&e.push(new ge(s,l.value))}),e}function ur(i,e){if(pe(e))return i;{const r=Ur(i,e);return r!=null?new fn(new Be(r)):new fn(i.writeTree_.subtree(e))}}function Nc(i){return i.writeTree_.isEmpty()}function bi(i,e){return Wm(Ce(),i.writeTree_,e)}function Wm(i,e,r){if(e.value!=null)return r.updateChild(i,e.value);{let s=null;return e.children.inorderTraversal((l,u)=>{l===".priority"?(B(u.value!==null,"Priority writes must always be leaf nodes"),s=u.value):r=Wm(Je(i,l),u,r)}),!r.getChild(i).isEmpty()&&s!==null&&(r=r.updateChild(Je(i,".priority"),s)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(i,e){return qm(e,i)}function mS(i,e,r,s,l){B(s>i.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),i.allWrites.push({path:e,snap:r,writeId:s,visible:l}),l&&(i.visibleWrites=Rs(i.visibleWrites,e,r)),i.lastWriteId=s}function yS(i,e){for(let r=0;r<i.allWrites.length;r++){const s=i.allWrites[r];if(s.writeId===e)return s}return null}function vS(i,e){const r=i.allWrites.findIndex(h=>h.writeId===e);B(r>=0,"removeWrite called with nonexistent writeId.");const s=i.allWrites[r];i.allWrites.splice(r,1);let l=s.visible,u=!1,f=i.allWrites.length-1;for(;l&&f>=0;){const h=i.allWrites[f];h.visible&&(f>=r&&_S(h,s.path)?l=!1:Jt(s.path,h.path)&&(u=!0)),f--}if(l){if(u)return wS(i),!0;if(s.snap)i.visibleWrites=ag(i.visibleWrites,s.path);else{const h=s.children;St(h,m=>{i.visibleWrites=ag(i.visibleWrites,Je(s.path,m))})}return!0}else return!1}function _S(i,e){if(i.snap)return Jt(i.path,e);for(const r in i.children)if(i.children.hasOwnProperty(r)&&Jt(Je(i.path,r),e))return!0;return!1}function wS(i){i.visibleWrites=Vm(i.allWrites,xS,Ce()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function xS(i){return i.visible}function Vm(i,e,r){let s=fn.empty();for(let l=0;l<i.length;++l){const u=i[l];if(e(u)){const f=u.path;let h;if(u.snap)Jt(r,f)?(h=jt(r,f),s=Rs(s,h,u.snap)):Jt(f,r)&&(h=jt(f,r),s=Rs(s,Ce(),u.snap.getChild(h)));else if(u.children){if(Jt(r,f))h=jt(r,f),s=lg(s,h,u.children);else if(Jt(f,r))if(h=jt(f,r),pe(h))s=lg(s,Ce(),u.children);else{const m=Ei(u.children,fe(h));if(m){const y=m.getChild(Pe(h));s=Rs(s,Ce(),y)}}}else throw Pi("WriteRecord should have .snap or .children")}}return s}function Gm(i,e,r,s,l){if(!s&&!l){const u=Ur(i.visibleWrites,e);if(u!=null)return u;{const f=ur(i.visibleWrites,e);if(Nc(f))return r;if(r==null&&!Ec(f,Ce()))return null;{const h=r||ie.EMPTY_NODE;return bi(f,h)}}}else{const u=ur(i.visibleWrites,e);if(!l&&Nc(u))return r;if(!l&&r==null&&!Ec(u,Ce()))return null;{const f=function(y){return(y.visible||l)&&(!s||!~s.indexOf(y.writeId))&&(Jt(y.path,e)||Jt(e,y.path))},h=Vm(i.allWrites,f,e),m=r||ie.EMPTY_NODE;return bi(h,m)}}}function CS(i,e,r){let s=ie.EMPTY_NODE;const l=Ur(i.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(Ge,(u,f)=>{s=s.updateImmediateChild(u,f)}),s;if(r){const u=ur(i.visibleWrites,e);return r.forEachChild(Ge,(f,h)=>{const m=bi(ur(u,new Te(f)),h);s=s.updateImmediateChild(f,m)}),ug(u).forEach(f=>{s=s.updateImmediateChild(f.name,f.node)}),s}else{const u=ur(i.visibleWrites,e);return ug(u).forEach(f=>{s=s.updateImmediateChild(f.name,f.node)}),s}}function SS(i,e,r,s,l){B(s||l,"Either existingEventSnap or existingServerSnap must exist");const u=Je(e,r);if(Ec(i.visibleWrites,u))return null;{const f=ur(i.visibleWrites,u);return Nc(f)?l.getChild(r):bi(f,l.getChild(r))}}function ES(i,e,r,s){const l=Je(e,r),u=Ur(i.visibleWrites,l);if(u!=null)return u;if(s.isCompleteForChild(r)){const f=ur(i.visibleWrites,l);return bi(f,s.getNode().getImmediateChild(r))}else return null}function NS(i,e){return Ur(i.visibleWrites,e)}function TS(i,e,r,s,l,u,f){let h;const m=ur(i.visibleWrites,e),y=Ur(m,Ce());if(y!=null)h=y;else if(r!=null)h=bi(m,r);else return[];if(h=h.withIndex(f),!h.isEmpty()&&!h.isLeafNode()){const E=[],x=f.getCompare(),_=u?h.getReverseIteratorFrom(s,f):h.getIteratorFrom(s,f);let D=_.getNext();for(;D&&E.length<l;)x(D,s)!==0&&E.push(D),D=_.getNext();return E}else return[]}function kS(){return{visibleWrites:fn.empty(),allWrites:[],lastWriteId:-1}}function Pl(i,e,r,s){return Gm(i.writeTree,i.treePath,e,r,s)}function id(i,e){return CS(i.writeTree,i.treePath,e)}function cg(i,e,r,s){return SS(i.writeTree,i.treePath,e,r,s)}function Ol(i,e){return NS(i.writeTree,Je(i.treePath,e))}function bS(i,e,r,s,l,u){return TS(i.writeTree,i.treePath,e,r,s,l,u)}function sd(i,e,r){return ES(i.writeTree,i.treePath,e,r)}function Qm(i,e){return qm(Je(i.treePath,e),i.writeTree)}function qm(i,e){return{treePath:i,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.changeMap=new Map}trackChildChange(e){const r=e.type,s=e.childName;B(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),B(s!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const u=l.type;if(r==="child_added"&&u==="child_removed")this.changeMap.set(s,Hs(s,e.snapshotNode,l.snapshotNode));else if(r==="child_removed"&&u==="child_added")this.changeMap.delete(s);else if(r==="child_removed"&&u==="child_changed")this.changeMap.set(s,Us(s,l.oldSnap));else if(r==="child_changed"&&u==="child_added")this.changeMap.set(s,ki(s,e.snapshotNode));else if(r==="child_changed"&&u==="child_changed")this.changeMap.set(s,Hs(s,e.snapshotNode,l.oldSnap));else throw Pi("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{getCompleteChild(e){return null}getChildAfterChild(e,r,s){return null}}const Ym=new IS;class od{constructor(e,r,s=null){this.writes_=e,this.viewCache_=r,this.optCompleteServerCache_=s}getCompleteChild(e){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(e))return r.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new Fr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return sd(this.writes_,e,s)}}getChildAfterChild(e,r,s){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:zr(this.viewCache_),u=bS(this.writes_,l,r,1,s,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(i){return{filter:i}}function OS(i,e){B(e.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),B(e.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function RS(i,e,r,s,l){const u=new DS;let f,h;if(r.type===dn.OVERWRITE){const y=r;y.source.fromUser?f=Tc(i,e,y.path,y.snap,s,l,u):(B(y.source.fromServer,"Unknown source."),h=y.source.tagged||e.serverCache.isFiltered()&&!pe(y.path),f=Rl(i,e,y.path,y.snap,s,l,h,u))}else if(r.type===dn.MERGE){const y=r;y.source.fromUser?f=jS(i,e,y.path,y.children,s,l,u):(B(y.source.fromServer,"Unknown source."),h=y.source.tagged||e.serverCache.isFiltered(),f=kc(i,e,y.path,y.children,s,l,h,u))}else if(r.type===dn.ACK_USER_WRITE){const y=r;y.revert?f=FS(i,e,y.path,s,l,u):f=MS(i,e,y.path,y.affectedTree,s,l,u)}else if(r.type===dn.LISTEN_COMPLETE)f=LS(i,e,r.path,s,u);else throw Pi("Unknown operation type: "+r.type);const m=u.getChanges();return AS(e,f,m),{viewCache:f,changes:m}}function AS(i,e,r){const s=e.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=Sc(i);(r.length>0||!i.eventCache.isFullyInitialized()||l&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&r.push(Um(Sc(e)))}}function Km(i,e,r,s,l,u){const f=e.eventCache;if(Ol(s,r)!=null)return e;{let h,m;if(pe(r))if(B(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const y=zr(e),E=y instanceof ie?y:ie.EMPTY_NODE,x=id(s,E);h=i.filter.updateFullNode(e.eventCache.getNode(),x,u)}else{const y=Pl(s,zr(e));h=i.filter.updateFullNode(e.eventCache.getNode(),y,u)}else{const y=fe(r);if(y===".priority"){B(cr(r)===1,"Can't have a priority with additional path components");const E=f.getNode();m=e.serverCache.getNode();const x=cg(s,r,E,m);x!=null?h=i.filter.updatePriority(E,x):h=f.getNode()}else{const E=Pe(r);let x;if(f.isCompleteForChild(y)){m=e.serverCache.getNode();const _=cg(s,r,f.getNode(),m);_!=null?x=f.getNode().getImmediateChild(y).updateChild(E,_):x=f.getNode().getImmediateChild(y)}else x=sd(s,y,e.serverCache);x!=null?h=i.filter.updateChild(f.getNode(),y,x,E,l,u):h=f.getNode()}}return Os(e,h,f.isFullyInitialized()||pe(r),i.filter.filtersNodes())}}function Rl(i,e,r,s,l,u,f,h){const m=e.serverCache;let y;const E=f?i.filter:i.filter.getIndexedFilter();if(pe(r))y=E.updateFullNode(m.getNode(),s,null);else if(E.filtersNodes()&&!m.isFiltered()){const D=m.getNode().updateChild(r,s);y=E.updateFullNode(m.getNode(),D,null)}else{const D=fe(r);if(!m.isCompleteForPath(r)&&cr(r)>1)return e;const M=Pe(r),H=m.getNode().getImmediateChild(D).updateChild(M,s);D===".priority"?y=E.updatePriority(m.getNode(),H):y=E.updateChild(m.getNode(),D,H,M,Ym,null)}const x=$m(e,y,m.isFullyInitialized()||pe(r),E.filtersNodes()),_=new od(l,x,u);return Km(i,x,r,l,_,h)}function Tc(i,e,r,s,l,u,f){const h=e.eventCache;let m,y;const E=new od(l,e,u);if(pe(r))y=i.filter.updateFullNode(e.eventCache.getNode(),s,f),m=Os(e,y,!0,i.filter.filtersNodes());else{const x=fe(r);if(x===".priority")y=i.filter.updatePriority(e.eventCache.getNode(),s),m=Os(e,y,h.isFullyInitialized(),h.isFiltered());else{const _=Pe(r),D=h.getNode().getImmediateChild(x);let M;if(pe(_))M=s;else{const j=E.getCompleteChild(x);j!=null?Yc(_)===".priority"&&j.getChild(Am(_)).isEmpty()?M=j:M=j.updateChild(_,s):M=ie.EMPTY_NODE}if(D.equals(M))m=e;else{const j=i.filter.updateChild(h.getNode(),x,M,_,E,f);m=Os(e,j,h.isFullyInitialized(),i.filter.filtersNodes())}}}return m}function dg(i,e){return i.eventCache.isCompleteForChild(e)}function jS(i,e,r,s,l,u,f){let h=e;return s.foreach((m,y)=>{const E=Je(r,m);dg(e,fe(E))&&(h=Tc(i,h,E,y,l,u,f))}),s.foreach((m,y)=>{const E=Je(r,m);dg(e,fe(E))||(h=Tc(i,h,E,y,l,u,f))}),h}function fg(i,e,r){return r.foreach((s,l)=>{e=e.updateChild(s,l)}),e}function kc(i,e,r,s,l,u,f,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m=e,y;pe(r)?y=s:y=new Be(null).setTree(r,s);const E=e.serverCache.getNode();return y.children.inorderTraversal((x,_)=>{if(E.hasChild(x)){const D=e.serverCache.getNode().getImmediateChild(x),M=fg(i,D,_);m=Rl(i,m,new Te(x),M,l,u,f,h)}}),y.children.inorderTraversal((x,_)=>{const D=!e.serverCache.isCompleteForChild(x)&&_.value===null;if(!E.hasChild(x)&&!D){const M=e.serverCache.getNode().getImmediateChild(x),j=fg(i,M,_);m=Rl(i,m,new Te(x),j,l,u,f,h)}}),m}function MS(i,e,r,s,l,u,f){if(Ol(l,r)!=null)return e;const h=e.serverCache.isFiltered(),m=e.serverCache;if(s.value!=null){if(pe(r)&&m.isFullyInitialized()||m.isCompleteForPath(r))return Rl(i,e,r,m.getNode().getChild(r),l,u,h,f);if(pe(r)){let y=new Be(null);return m.getNode().forEachChild(Ci,(E,x)=>{y=y.set(new Te(E),x)}),kc(i,e,r,y,l,u,h,f)}else return e}else{let y=new Be(null);return s.foreach((E,x)=>{const _=Je(r,E);m.isCompleteForPath(_)&&(y=y.set(E,m.getNode().getChild(_)))}),kc(i,e,r,y,l,u,h,f)}}function LS(i,e,r,s,l){const u=e.serverCache,f=$m(e,u.getNode(),u.isFullyInitialized()||pe(r),u.isFiltered());return Km(i,f,r,s,Ym,l)}function FS(i,e,r,s,l,u){let f;if(Ol(s,r)!=null)return e;{const h=new od(s,e,l),m=e.eventCache.getNode();let y;if(pe(r)||fe(r)===".priority"){let E;if(e.serverCache.isFullyInitialized())E=Pl(s,zr(e));else{const x=e.serverCache.getNode();B(x instanceof ie,"serverChildren would be complete if leaf node"),E=id(s,x)}E=E,y=i.filter.updateFullNode(m,E,u)}else{const E=fe(r);let x=sd(s,E,e.serverCache);x==null&&e.serverCache.isCompleteForChild(E)&&(x=m.getImmediateChild(E)),x!=null?y=i.filter.updateChild(m,E,x,Pe(r),h,u):e.eventCache.getNode().hasChild(E)?y=i.filter.updateChild(m,E,ie.EMPTY_NODE,Pe(r),h,u):y=m,y.isEmpty()&&e.serverCache.isFullyInitialized()&&(f=Pl(s,zr(e)),f.isLeafNode()&&(y=i.filter.updateFullNode(y,f,u)))}return f=e.serverCache.isFullyInitialized()||Ol(s,Ce())!=null,Os(e,y,f,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,r){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,l=new Zc(s.getIndex()),u=iS(s);this.processor_=PS(u);const f=r.serverCache,h=r.eventCache,m=l.updateFullNode(ie.EMPTY_NODE,f.getNode(),null),y=u.updateFullNode(ie.EMPTY_NODE,h.getNode(),null),E=new Fr(m,f.isFullyInitialized(),l.filtersNodes()),x=new Fr(y,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=Gl(x,E),this.eventGenerator_=new dS(this.query_)}get query(){return this.query_}}function BS(i){return i.viewCache_.serverCache.getNode()}function US(i,e){const r=zr(i.viewCache_);return r&&(i.query._queryParams.loadsAllData()||!pe(e)&&!r.getImmediateChild(fe(e)).isEmpty())?r.getChild(e):null}function hg(i){return i.eventRegistrations_.length===0}function HS(i,e){i.eventRegistrations_.push(e)}function pg(i,e,r){const s=[];if(r){B(e==null,"A cancel should cancel all event registrations.");const l=i.query._path;i.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(r,l);f&&s.push(f)})}if(e){let l=[];for(let u=0;u<i.eventRegistrations_.length;++u){const f=i.eventRegistrations_[u];if(!f.matches(e))l.push(f);else if(e.hasAnyCallback()){l=l.concat(i.eventRegistrations_.slice(u+1));break}}i.eventRegistrations_=l}else i.eventRegistrations_=[];return s}function gg(i,e,r,s){e.type===dn.MERGE&&e.source.queryId!==null&&(B(zr(i.viewCache_),"We should always have a full cache before handling merges"),B(Sc(i.viewCache_),"Missing event cache, even though we have a server cache"));const l=i.viewCache_,u=RS(i.processor_,l,e,r,s);return OS(i.processor_,u.viewCache),B(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=u.viewCache,Xm(i,u.changes,u.viewCache.eventCache.getNode(),null)}function $S(i,e){const r=i.viewCache_.eventCache,s=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Ge,(u,f)=>{s.push(ki(u,f))}),r.isFullyInitialized()&&s.push(Um(r.getNode())),Xm(i,s,r.getNode(),e)}function Xm(i,e,r,s){const l=s?[s]:i.eventRegistrations_;return fS(i.eventGenerator_,e,r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al;class WS{constructor(){this.views=new Map}}function VS(i){B(!Al,"__referenceConstructor has already been defined"),Al=i}function GS(){return B(Al,"Reference.ts has not been loaded"),Al}function QS(i){return i.views.size===0}function ld(i,e,r,s){const l=e.source.queryId;if(l!==null){const u=i.views.get(l);return B(u!=null,"SyncTree gave us an op for an invalid query."),gg(u,e,r,s)}else{let u=[];for(const f of i.views.values())u=u.concat(gg(f,e,r,s));return u}}function qS(i,e,r,s,l){const u=e._queryIdentifier,f=i.views.get(u);if(!f){let h=Pl(r,l?s:null),m=!1;h?m=!0:s instanceof ie?(h=id(r,s),m=!1):(h=ie.EMPTY_NODE,m=!1);const y=Gl(new Fr(h,m,!1),new Fr(s,l,!1));return new zS(e,y)}return f}function YS(i,e,r,s,l,u){const f=qS(i,e,s,l,u);return i.views.has(e._queryIdentifier)||i.views.set(e._queryIdentifier,f),HS(f,r),$S(f,r)}function KS(i,e,r,s){const l=e._queryIdentifier,u=[];let f=[];const h=dr(i);if(l==="default")for(const[m,y]of i.views.entries())f=f.concat(pg(y,r,s)),hg(y)&&(i.views.delete(m),y.query._queryParams.loadsAllData()||u.push(y.query));else{const m=i.views.get(l);m&&(f=f.concat(pg(m,r,s)),hg(m)&&(i.views.delete(l),m.query._queryParams.loadsAllData()||u.push(m.query)))}return h&&!dr(i)&&u.push(new(GS())(e._repo,e._path)),{removed:u,events:f}}function Jm(i){const e=[];for(const r of i.views.values())r.query._queryParams.loadsAllData()||e.push(r);return e}function Si(i,e){let r=null;for(const s of i.views.values())r=r||US(s,e);return r}function Zm(i,e){if(e._queryParams.loadsAllData())return Ql(i);{const s=e._queryIdentifier;return i.views.get(s)}}function ey(i,e){return Zm(i,e)!=null}function dr(i){return Ql(i)!=null}function Ql(i){for(const e of i.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jl;function XS(i){B(!jl,"__referenceConstructor has already been defined"),jl=i}function JS(){return B(jl,"Reference.ts has not been loaded"),jl}let ZS=1;class mg{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Be(null),this.pendingWriteTree_=kS(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ty(i,e,r,s,l){return mS(i.pendingWriteTree_,e,r,s,l),l?Ks(i,new Lr(Hm(),e,r)):[]}function Ar(i,e,r=!1){const s=yS(i.pendingWriteTree_,e);if(vS(i.pendingWriteTree_,e)){let u=new Be(null);return s.snap!=null?u=u.set(Ce(),!0):St(s.children,f=>{u=u.set(new Te(f),!0)}),Ks(i,new Il(s.path,u,r))}else return[]}function ql(i,e,r){return Ks(i,new Lr(td(),e,r))}function eE(i,e,r){const s=Be.fromObject(r);return Ks(i,new Vs(td(),e,s))}function tE(i,e){return Ks(i,new Ws(td(),e))}function nE(i,e,r){const s=ud(i,r);if(s){const l=cd(s),u=l.path,f=l.queryId,h=jt(u,e),m=new Ws(nd(f),h);return dd(i,u,m)}else return[]}function bc(i,e,r,s,l=!1){const u=e._path,f=i.syncPointTree_.get(u);let h=[];if(f&&(e._queryIdentifier==="default"||ey(f,e))){const m=KS(f,e,r,s);QS(f)&&(i.syncPointTree_=i.syncPointTree_.remove(u));const y=m.removed;if(h=m.events,!l){const E=y.findIndex(_=>_._queryParams.loadsAllData())!==-1,x=i.syncPointTree_.findOnPath(u,(_,D)=>dr(D));if(E&&!x){const _=i.syncPointTree_.subtree(u);if(!_.isEmpty()){const D=sE(_);for(let M=0;M<D.length;++M){const j=D[M],H=j.query,le=iy(i,j);i.listenProvider_.startListening(As(H),Ml(i,H),le.hashFn,le.onComplete)}}}!x&&y.length>0&&!s&&(E?i.listenProvider_.stopListening(As(e),null):y.forEach(_=>{const D=i.queryToTagMap.get(Yl(_));i.listenProvider_.stopListening(As(_),D)}))}oE(i,y)}return h}function rE(i,e,r,s){const l=ud(i,s);if(l!=null){const u=cd(l),f=u.path,h=u.queryId,m=jt(f,e),y=new Lr(nd(h),m,r);return dd(i,f,y)}else return[]}function iE(i,e,r,s){const l=ud(i,s);if(l){const u=cd(l),f=u.path,h=u.queryId,m=jt(f,e),y=Be.fromObject(r),E=new Vs(nd(h),m,y);return dd(i,f,E)}else return[]}function yg(i,e,r,s=!1){const l=e._path;let u=null,f=!1;i.syncPointTree_.foreachOnPath(l,(_,D)=>{const M=jt(_,l);u=u||Si(D,M),f=f||dr(D)});let h=i.syncPointTree_.get(l);h?(f=f||dr(h),u=u||Si(h,Ce())):(h=new WS,i.syncPointTree_=i.syncPointTree_.set(l,h));let m;u!=null?m=!0:(m=!1,u=ie.EMPTY_NODE,i.syncPointTree_.subtree(l).foreachChild((D,M)=>{const j=Si(M,Ce());j&&(u=u.updateImmediateChild(D,j))}));const y=ey(h,e);if(!y&&!e._queryParams.loadsAllData()){const _=Yl(e);B(!i.queryToTagMap.has(_),"View does not exist, but we have a tag");const D=lE();i.queryToTagMap.set(_,D),i.tagToQueryMap.set(D,_)}const E=rd(i.pendingWriteTree_,l);let x=YS(h,e,r,E,u,m);if(!y&&!f&&!s){const _=Zm(h,e);x=x.concat(aE(i,e,_))}return x}function ad(i,e,r){const l=i.pendingWriteTree_,u=i.syncPointTree_.findOnPath(e,(f,h)=>{const m=jt(f,e),y=Si(h,m);if(y)return y});return Gm(l,e,u,r,!0)}function Ks(i,e){return ny(e,i.syncPointTree_,null,rd(i.pendingWriteTree_,Ce()))}function ny(i,e,r,s){if(pe(i.path))return ry(i,e,r,s);{const l=e.get(Ce());r==null&&l!=null&&(r=Si(l,Ce()));let u=[];const f=fe(i.path),h=i.operationForChild(f),m=e.children.get(f);if(m&&h){const y=r?r.getImmediateChild(f):null,E=Qm(s,f);u=u.concat(ny(h,m,y,E))}return l&&(u=u.concat(ld(l,i,s,r))),u}}function ry(i,e,r,s){const l=e.get(Ce());r==null&&l!=null&&(r=Si(l,Ce()));let u=[];return e.children.inorderTraversal((f,h)=>{const m=r?r.getImmediateChild(f):null,y=Qm(s,f),E=i.operationForChild(f);E&&(u=u.concat(ry(E,h,m,y)))}),l&&(u=u.concat(ld(l,i,s,r))),u}function iy(i,e){const r=e.query,s=Ml(i,r);return{hashFn:()=>(BS(e)||ie.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return s?nE(i,r._path,s):tE(i,r._path);{const u=n1(l,r);return bc(i,r,null,u)}}}}function Ml(i,e){const r=Yl(e);return i.queryToTagMap.get(r)}function Yl(i){return i._path.toString()+"$"+i._queryIdentifier}function ud(i,e){return i.tagToQueryMap.get(e)}function cd(i){const e=i.indexOf("$");return B(e!==-1&&e<i.length-1,"Bad queryKey."),{queryId:i.substr(e+1),path:new Te(i.substr(0,e))}}function dd(i,e,r){const s=i.syncPointTree_.get(e);B(s,"Missing sync point for query tag that we're tracking");const l=rd(i.pendingWriteTree_,e);return ld(s,r,l,null)}function sE(i){return i.fold((e,r,s)=>{if(r&&dr(r))return[Ql(r)];{let l=[];return r&&(l=Jm(r)),St(s,(u,f)=>{l=l.concat(f)}),l}})}function As(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(JS())(i._repo,i._path):i}function oE(i,e){for(let r=0;r<e.length;++r){const s=e[r];if(!s._queryParams.loadsAllData()){const l=Yl(s),u=i.queryToTagMap.get(l);i.queryToTagMap.delete(l),i.tagToQueryMap.delete(u)}}}function lE(){return ZS++}function aE(i,e,r){const s=e._path,l=Ml(i,e),u=iy(i,r),f=i.listenProvider_.startListening(As(e),l,u.hashFn,u.onComplete),h=i.syncPointTree_.subtree(s);if(l)B(!dr(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((y,E,x)=>{if(!pe(y)&&E&&dr(E))return[Ql(E).query];{let _=[];return E&&(_=_.concat(Jm(E).map(D=>D.query))),St(x,(D,M)=>{_=_.concat(M)}),_}});for(let y=0;y<m.length;++y){const E=m[y];i.listenProvider_.stopListening(As(E),Ml(i,E))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e){this.node_=e}getImmediateChild(e){const r=this.node_.getImmediateChild(e);return new fd(r)}node(){return this.node_}}class hd{constructor(e,r){this.syncTree_=e,this.path_=r}getImmediateChild(e){const r=Je(this.path_,e);return new hd(this.syncTree_,r)}node(){return ad(this.syncTree_,this.path_)}}const uE=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},vg=function(i,e,r){if(!i||typeof i!="object")return i;if(B(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return cE(i[".sv"],e,r);if(typeof i[".sv"]=="object")return dE(i[".sv"],e);B(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},cE=function(i,e,r){switch(i){case"timestamp":return r.timestamp;default:B(!1,"Unexpected server value: "+i)}},dE=function(i,e,r){i.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const s=i.increment;typeof s!="number"&&B(!1,"Unexpected increment value: "+s);const l=e.node();if(B(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const f=l.getValue();return typeof f!="number"?s:f+s},fE=function(i,e,r,s){return pd(e,new hd(r,i),s)},sy=function(i,e,r){return pd(i,new fd(e),r)};function pd(i,e,r){const s=i.getPriority().val(),l=vg(s,e.getImmediateChild(".priority"),r);let u;if(i.isLeafNode()){const f=i,h=vg(f.getValue(),e,r);return h!==f.getValue()||l!==f.getPriority().val()?new ct(h,tt(l)):i}else{const f=i;return u=f,l!==f.getPriority().val()&&(u=u.updatePriority(new ct(l))),f.forEachChild(Ge,(h,m)=>{const y=pd(m,e.getImmediateChild(h),r);y!==m&&(u=u.updateImmediateChild(h,y))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e="",r=null,s={children:{},childCount:0}){this.name=e,this.parent=r,this.node=s}}function md(i,e){let r=e instanceof Te?e:new Te(e),s=i,l=fe(r);for(;l!==null;){const u=Ei(s.node.children,l)||{children:{},childCount:0};s=new gd(l,s,u),r=Pe(r),l=fe(r)}return s}function ji(i){return i.node.value}function oy(i,e){i.node.value=e,Dc(i)}function ly(i){return i.node.childCount>0}function hE(i){return ji(i)===void 0&&!ly(i)}function Kl(i,e){St(i.node.children,(r,s)=>{e(new gd(r,i,s))})}function ay(i,e,r,s){r&&e(i),Kl(i,l=>{ay(l,e,!0)})}function pE(i,e,r){let s=i.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Xs(i){return new Te(i.parent===null?i.name:Xs(i.parent)+"/"+i.name)}function Dc(i){i.parent!==null&&gE(i.parent,i.name,i)}function gE(i,e,r){const s=hE(r),l=_n(i.node.children,e);s&&l?(delete i.node.children[e],i.node.childCount--,Dc(i)):!s&&!l&&(i.node.children[e]=r.node,i.node.childCount++,Dc(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=/[\[\].#$\/\u0000-\u001F\u007F]/,yE=/[\[\].#$\u0000-\u001F\u007F]/,rc=10*1024*1024,yd=function(i){return typeof i=="string"&&i.length!==0&&!mE.test(i)},uy=function(i){return typeof i=="string"&&i.length!==0&&!yE.test(i)},vE=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),uy(i)},cy=function(i){return i===null||typeof i=="string"||typeof i=="number"&&!Wl(i)||i&&typeof i=="object"&&_n(i,".sv")},Ic=function(i,e,r,s){Xl(Ni(i,"value"),e,r)},Xl=function(i,e,r){const s=r instanceof Te?new M1(r,i):r;if(e===void 0)throw new Error(i+"contains undefined "+Pr(s));if(typeof e=="function")throw new Error(i+"contains a function "+Pr(s)+" with contents = "+e.toString());if(Wl(e))throw new Error(i+"contains "+e.toString()+" "+Pr(s));if(typeof e=="string"&&e.length>rc/3&&$l(e)>rc)throw new Error(i+"contains a string greater than "+rc+" utf8 bytes "+Pr(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,u=!1;if(St(e,(f,h)=>{if(f===".value")l=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!yd(f)))throw new Error(i+" contains an invalid key ("+f+") "+Pr(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);L1(s,f),Xl(i,h,s),F1(s)}),l&&u)throw new Error(i+' contains ".value" child '+Pr(s)+" in addition to actual children.")}},_E=function(i,e){let r,s;for(r=0;r<e.length;r++){s=e[r];const u=Bs(s);for(let f=0;f<u.length;f++)if(!(u[f]===".priority"&&f===u.length-1)){if(!yd(u[f]))throw new Error(i+"contains an invalid key ("+u[f]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(j1);let l=null;for(r=0;r<e.length;r++){if(s=e[r],l!==null&&Jt(l,s))throw new Error(i+"contains a path "+l.toString()+" that is ancestor of another path "+s.toString());l=s}},wE=function(i,e,r,s){const l=Ni(i,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(l+" must be an object containing the children to replace.");const u=[];St(e,(f,h)=>{const m=new Te(f);if(Xl(l,h,Je(r,m)),Yc(m)===".priority"&&!cy(h))throw new Error(l+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(m)}),_E(l,u)},xE=function(i,e,r){if(Wl(e))throw new Error(Ni(i,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!cy(e))throw new Error(Ni(i,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},dy=function(i,e,r,s){if(!uy(r))throw new Error(Ni(i,e)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},CE=function(i,e,r,s){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),dy(i,e,r)},_i=function(i,e){if(fe(e)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},SE=function(i,e){const r=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!yd(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!vE(r))throw new Error(Ni(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function vd(i,e){let r=null;for(let s=0;s<e.length;s++){const l=e[s],u=l.getPath();r!==null&&!Kc(u,r.path)&&(i.eventLists_.push(r),r=null),r===null&&(r={events:[],path:u}),r.events.push(l)}r&&i.eventLists_.push(r)}function fy(i,e,r){vd(i,r),hy(i,s=>Kc(s,e))}function Mn(i,e,r){vd(i,r),hy(i,s=>Jt(s,e)||Jt(e,s))}function hy(i,e){i.recursionDepth_++;let r=!0;for(let s=0;s<i.eventLists_.length;s++){const l=i.eventLists_[s];if(l){const u=l.path;e(u)?(NE(i.eventLists_[s]),i.eventLists_[s]=null):r=!1}}r&&(i.eventLists_=[]),i.recursionDepth_--}function NE(i){for(let e=0;e<i.events.length;e++){const r=i.events[e];if(r!==null){i.events[e]=null;const s=r.getEventRunner();Is&&yt("event: "+r.toString()),Ri(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="repo_interrupt",kE=25;class bE{constructor(e,r,s,l){this.repoInfo_=e,this.forceRestClient_=r,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new EE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Dl(),this.transactionQueueTree_=new gd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function DE(i,e,r){if(i.stats_=Qc(i.repoInfo_),i.forceRestClient_||o1())i.server_=new bl(i.repoInfo_,(s,l,u,f)=>{_g(i,s,l,u,f)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>wg(i,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ft(r)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}i.persistentConnection_=new Rn(i.repoInfo_,e,(s,l,u,f)=>{_g(i,s,l,u,f)},s=>{wg(i,s)},s=>{PE(i,s)},i.authTokenProvider_,i.appCheckProvider_,r),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(s=>{i.server_.refreshAuthToken(s)}),i.appCheckProvider_.addTokenChangeListener(s=>{i.server_.refreshAppCheckToken(s.token)}),i.statsReporter_=d1(i.repoInfo_,()=>new cS(i.stats_,i.server_)),i.infoData_=new sS,i.infoSyncTree_=new mg({startListening:(s,l,u,f)=>{let h=[];const m=i.infoData_.getNode(s._path);return m.isEmpty()||(h=ql(i.infoSyncTree_,s._path,m),setTimeout(()=>{f("ok")},0)),h},stopListening:()=>{}}),wd(i,"connected",!1),i.serverSyncTree_=new mg({startListening:(s,l,u,f)=>(i.server_.listen(s,u,l,(h,m)=>{const y=f(h,m);Mn(i.eventQueue_,s._path,y)}),[]),stopListening:(s,l)=>{i.server_.unlisten(s,l)}})}function IE(i){const r=i.infoData_.getNode(new Te(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function _d(i){return uE({timestamp:IE(i)})}function _g(i,e,r,s,l){i.dataUpdateCount++;const u=new Te(e);r=i.interceptServerDataCallback_?i.interceptServerDataCallback_(e,r):r;let f=[];if(l)if(s){const m=Cl(r,y=>tt(y));f=iE(i.serverSyncTree_,u,m,l)}else{const m=tt(r);f=rE(i.serverSyncTree_,u,m,l)}else if(s){const m=Cl(r,y=>tt(y));f=eE(i.serverSyncTree_,u,m)}else{const m=tt(r);f=ql(i.serverSyncTree_,u,m)}let h=u;f.length>0&&(h=Jl(i,u)),Mn(i.eventQueue_,h,f)}function wg(i,e){wd(i,"connected",e),e===!1&&RE(i)}function PE(i,e){St(e,(r,s)=>{wd(i,r,s)})}function wd(i,e,r){const s=new Te("/.info/"+e),l=tt(r);i.infoData_.updateSnapshot(s,l);const u=ql(i.infoSyncTree_,s,l);Mn(i.eventQueue_,s,u)}function py(i){return i.nextWriteId_++}function OE(i,e,r,s,l){xd(i,"set",{path:e.toString(),value:r,priority:s});const u=_d(i),f=tt(r,s),h=ad(i.serverSyncTree_,e),m=sy(f,h,u),y=py(i),E=ty(i.serverSyncTree_,e,m,y,!0);vd(i.eventQueue_,E),i.server_.put(e.toString(),f.val(!0),(_,D)=>{const M=_==="ok";M||Lt("set at "+e+" failed: "+_);const j=Ar(i.serverSyncTree_,y,!M);Mn(i.eventQueue_,e,j),Di(i,l,_,D)});const x=_y(i,e);Jl(i,x),Mn(i.eventQueue_,x,[])}function RE(i){xd(i,"onDisconnectEvents");const e=_d(i),r=Dl();Cc(i.onDisconnect_,Ce(),(l,u)=>{const f=fE(l,u,i.serverSyncTree_,e);Ai(r,l,f)});let s=[];Cc(r,Ce(),(l,u)=>{s=s.concat(ql(i.serverSyncTree_,l,u));const f=_y(i,l);Jl(i,f)}),i.onDisconnect_=Dl(),Mn(i.eventQueue_,Ce(),s)}function AE(i,e,r){i.server_.onDisconnectCancel(e.toString(),(s,l)=>{s==="ok"&&xc(i.onDisconnect_,e),Di(i,r,s,l)})}function xg(i,e,r,s){const l=tt(r);i.server_.onDisconnectPut(e.toString(),l.val(!0),(u,f)=>{u==="ok"&&Ai(i.onDisconnect_,e,l),Di(i,s,u,f)})}function jE(i,e,r,s,l){const u=tt(r,s);i.server_.onDisconnectPut(e.toString(),u.val(!0),(f,h)=>{f==="ok"&&Ai(i.onDisconnect_,e,u),Di(i,l,f,h)})}function ME(i,e,r,s){if(fc(r)){yt("onDisconnect().update() called with empty data.  Don't do anything."),Di(i,s,"ok",void 0);return}i.server_.onDisconnectMerge(e.toString(),r,(l,u)=>{l==="ok"&&St(r,(f,h)=>{const m=tt(h);Ai(i.onDisconnect_,Je(e,f),m)}),Di(i,s,l,u)})}function LE(i,e,r){let s;fe(e._path)===".info"?s=yg(i.infoSyncTree_,e,r):s=yg(i.serverSyncTree_,e,r),fy(i.eventQueue_,e._path,s)}function Cg(i,e,r){let s;fe(e._path)===".info"?s=bc(i.infoSyncTree_,e,r):s=bc(i.serverSyncTree_,e,r),fy(i.eventQueue_,e._path,s)}function FE(i){i.persistentConnection_&&i.persistentConnection_.interrupt(TE)}function xd(i,...e){let r="";i.persistentConnection_&&(r=i.persistentConnection_.id+":"),yt(r,...e)}function Di(i,e,r,s){e&&Ri(()=>{if(r==="ok")e(null);else{const l=(r||"error").toUpperCase();let u=l;s&&(u+=": "+s);const f=new Error(u);f.code=l,e(f)}})}function gy(i,e,r){return ad(i.serverSyncTree_,e,r)||ie.EMPTY_NODE}function Cd(i,e=i.transactionQueueTree_){if(e||Zl(i,e),ji(e)){const r=yy(i,e);B(r.length>0,"Sending zero length transaction queue"),r.every(l=>l.status===0)&&zE(i,Xs(e),r)}else ly(e)&&Kl(e,r=>{Cd(i,r)})}function zE(i,e,r){const s=r.map(y=>y.currentWriteId),l=gy(i,e,s);let u=l;const f=l.hash();for(let y=0;y<r.length;y++){const E=r[y];B(E.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const x=jt(e,E.path);u=u.updateChild(x,E.currentOutputSnapshotRaw)}const h=u.val(!0),m=e;i.server_.put(m.toString(),h,y=>{xd(i,"transaction put response",{path:m.toString(),status:y});let E=[];if(y==="ok"){const x=[];for(let _=0;_<r.length;_++)r[_].status=2,E=E.concat(Ar(i.serverSyncTree_,r[_].currentWriteId)),r[_].onComplete&&x.push(()=>r[_].onComplete(null,!0,r[_].currentOutputSnapshotResolved)),r[_].unwatcher();Zl(i,md(i.transactionQueueTree_,e)),Cd(i,i.transactionQueueTree_),Mn(i.eventQueue_,e,E);for(let _=0;_<x.length;_++)Ri(x[_])}else{if(y==="datastale")for(let x=0;x<r.length;x++)r[x].status===3?r[x].status=4:r[x].status=0;else{Lt("transaction at "+m.toString()+" failed: "+y);for(let x=0;x<r.length;x++)r[x].status=4,r[x].abortReason=y}Jl(i,e)}},f)}function Jl(i,e){const r=my(i,e),s=Xs(r),l=yy(i,r);return BE(i,l,s),s}function BE(i,e,r){if(e.length===0)return;const s=[];let l=[];const f=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const m=e[h],y=jt(r,m.path);let E=!1,x;if(B(y!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)E=!0,x=m.abortReason,l=l.concat(Ar(i.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=kE)E=!0,x="maxretry",l=l.concat(Ar(i.serverSyncTree_,m.currentWriteId,!0));else{const _=gy(i,m.path,f);m.currentInputSnapshot=_;const D=e[h].update(_.val());if(D!==void 0){Xl("transaction failed: Data returned ",D,m.path);let M=tt(D);typeof D=="object"&&D!=null&&_n(D,".priority")||(M=M.updatePriority(_.getPriority()));const H=m.currentWriteId,le=_d(i),ce=sy(M,_,le);m.currentOutputSnapshotRaw=M,m.currentOutputSnapshotResolved=ce,m.currentWriteId=py(i),f.splice(f.indexOf(H),1),l=l.concat(ty(i.serverSyncTree_,m.path,ce,m.currentWriteId,m.applyLocally)),l=l.concat(Ar(i.serverSyncTree_,H,!0))}else E=!0,x="nodata",l=l.concat(Ar(i.serverSyncTree_,m.currentWriteId,!0))}Mn(i.eventQueue_,r,l),l=[],E&&(e[h].status=2,(function(_){setTimeout(_,Math.floor(0))})(e[h].unwatcher),e[h].onComplete&&(x==="nodata"?s.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):s.push(()=>e[h].onComplete(new Error(x),!1,null))))}Zl(i,i.transactionQueueTree_);for(let h=0;h<s.length;h++)Ri(s[h]);Cd(i,i.transactionQueueTree_)}function my(i,e){let r,s=i.transactionQueueTree_;for(r=fe(e);r!==null&&ji(s)===void 0;)s=md(s,r),e=Pe(e),r=fe(e);return s}function yy(i,e){const r=[];return vy(i,e,r),r.sort((s,l)=>s.order-l.order),r}function vy(i,e,r){const s=ji(e);if(s)for(let l=0;l<s.length;l++)r.push(s[l]);Kl(e,l=>{vy(i,l,r)})}function Zl(i,e){const r=ji(e);if(r){let s=0;for(let l=0;l<r.length;l++)r[l].status!==2&&(r[s]=r[l],s++);r.length=s,oy(e,r.length>0?r:void 0)}Kl(e,s=>{Zl(i,s)})}function _y(i,e){const r=Xs(my(i,e)),s=md(i.transactionQueueTree_,e);return pE(s,l=>{ic(i,l)}),ic(i,s),ay(s,l=>{ic(i,l)}),r}function ic(i,e){const r=ji(e);if(r){const s=[];let l=[],u=-1;for(let f=0;f<r.length;f++)r[f].status===3||(r[f].status===1?(B(u===f-1,"All SENT items should be at beginning of queue."),u=f,r[f].status=3,r[f].abortReason="set"):(B(r[f].status===0,"Unexpected transaction status in abort"),r[f].unwatcher(),l=l.concat(Ar(i.serverSyncTree_,r[f].currentWriteId,!0)),r[f].onComplete&&s.push(r[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?oy(e,void 0):r.length=u+1,Mn(i.eventQueue_,Xs(e),l);for(let f=0;f<s.length;f++)Ri(s[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(i){let e="";const r=i.split("/");for(let s=0;s<r.length;s++)if(r[s].length>0){let l=r[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function HE(i){const e={};i.charAt(0)==="?"&&(i=i.substring(1));for(const r of i.split("&")){if(r.length===0)continue;const s=r.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Lt(`Invalid query segment '${r}' in query '${i}'`)}return e}const Sg=function(i,e){const r=$E(i),s=r.namespace;r.domain==="firebase.com"&&jn(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&r.domain!=="localhost"&&jn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||XC();const l=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new Nm(r.host,r.secure,s,l,e,"",s!==r.subdomain),path:new Te(r.pathString)}},$E=function(i){let e="",r="",s="",l="",u="",f=!0,h="https",m=443;if(typeof i=="string"){let y=i.indexOf("//");y>=0&&(h=i.substring(0,y-1),i=i.substring(y+2));let E=i.indexOf("/");E===-1&&(E=i.length);let x=i.indexOf("?");x===-1&&(x=i.length),e=i.substring(0,Math.min(E,x)),E<x&&(l=UE(i.substring(E,x)));const _=HE(i.substring(Math.min(i.length,x)));y=e.indexOf(":"),y>=0?(f=h==="https"||h==="wss",m=parseInt(e.substring(y+1),10)):y=e.length;const D=e.slice(0,y);if(D.toLowerCase()==="localhost")r="localhost";else if(D.split(".").length<=2)r=D;else{const M=e.indexOf(".");s=e.substring(0,M).toLowerCase(),r=e.substring(M+1),u=s}"ns"in _&&(u=_.ns)}return{host:e,port:m,domain:r,subdomain:s,secure:f,scheme:h,pathString:l,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,r,s,l){this.eventType=e,this.eventRegistration=r,this.snapshot=s,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ft(this.snapshot.exportVal())}}class VE{constructor(e,r,s){this.eventRegistration=e,this.error=r,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,r){this.snapshotCallback=e,this.cancelCallback=r}onValue(e,r){this.snapshotCallback.call(null,e,r)}onCancel(e){return B(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,r){this._repo=e,this._path=r}cancel(){const e=new Pn;return AE(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){_i("OnDisconnect.remove",this._path);const e=new Pn;return xg(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){_i("OnDisconnect.set",this._path),Ic("OnDisconnect.set",e,this._path);const r=new Pn;return xg(this._repo,this._path,e,r.wrapCallback(()=>{})),r.promise}setWithPriority(e,r){_i("OnDisconnect.setWithPriority",this._path),Ic("OnDisconnect.setWithPriority",e,this._path),xE("OnDisconnect.setWithPriority",r);const s=new Pn;return jE(this._repo,this._path,e,r,s.wrapCallback(()=>{})),s.promise}update(e){_i("OnDisconnect.update",this._path),wE("OnDisconnect.update",e,this._path);const r=new Pn;return ME(this._repo,this._path,e,r.wrapCallback(()=>{})),r.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,r,s,l){this._repo=e,this._path=r,this._queryParams=s,this._orderByCalled=l}get key(){return pe(this._path)?null:Yc(this._path)}get ref(){return new fr(this._repo,this._path)}get _queryIdentifier(){const e=sg(this._queryParams),r=Vc(e);return r==="{}"?"default":r}get _queryObject(){return sg(this._queryParams)}isEqual(e){if(e=Oi(e),!(e instanceof Sd))return!1;const r=this._repo===e._repo,s=Kc(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return r&&s&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+A1(this._path)}}class fr extends Sd{constructor(e,r){super(e,r,new ed,!1)}get parent(){const e=Am(this._path);return e===null?null:new fr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ll{constructor(e,r,s){this._node=e,this.ref=r,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const r=new Te(e),s=Pc(this.ref,e);return new Ll(this._node.getChild(r),s,Ge)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,l)=>e(new Ll(l,Pc(this.ref,s),Ge)))}hasChild(e){const r=new Te(e);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Dr(i,e){return i=Oi(i),i._checkNotDeleted("ref"),e!==void 0?Pc(i._root,e):i._root}function Pc(i,e){return i=Oi(i),fe(i._path)===null?CE("child","path",e):dy("child","path",e),new fr(i._repo,Je(i._path,e))}function qE(i){return i=Oi(i),new QE(i._repo,i._path)}function YE(i){return _i("remove",i._path),or(i,null)}function or(i,e){i=Oi(i),_i("set",i._path),Ic("set",e,i._path);const r=new Pn;return OE(i._repo,i._path,e,null,r.wrapCallback(()=>{})),r.promise}class Ed{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,r){const s=r._queryParams.getIndex();return new WE("value",this,new Ll(e.snapshotNode,new fr(r._repo,r._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,r){return this.callbackContext.hasCancelCallback?new VE(this,e,r):null}matches(e){return e instanceof Ed?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function KE(i,e,r,s,l){let u;if(typeof s=="object"&&(u=void 0,l=s),typeof s=="function"&&(u=s),l&&l.onlyOnce){const m=r,y=(E,x)=>{Cg(i._repo,i,h),m(E,x)};y.userCallback=r.userCallback,y.context=r.context,r=y}const f=new GE(r,u||void 0),h=new Ed(f);return LE(i._repo,i,h),()=>Cg(i._repo,i,h)}function hl(i,e,r,s){return KE(i,"value",e,r,s)}VS(fr);XS(fr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="FIREBASE_DATABASE_EMULATOR_HOST",Oc={};let JE=!1;function ZE(i,e,r,s){const l=e.lastIndexOf(":"),u=e.substring(0,l),f=$c(u);i.repoInfo_=new Nm(e,f,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0,r),s&&(i.authTokenProvider_=s)}function eN(i,e,r,s,l){let u=s||i.options.databaseURL;u===void 0&&(i.options.projectId||jn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),yt("Using default host for project ",i.options.projectId),u=`${i.options.projectId}-default-rtdb.firebaseio.com`);let f=Sg(u,l),h=f.repoInfo,m;typeof process<"u"&&Up&&(m=Up[XE]),m?(u=`http://${m}?ns=${h.namespace}`,f=Sg(u,l),h=f.repoInfo):f.repoInfo.secure;const y=new a1(i.name,i.options,e);SE("Invalid Firebase Database URL",f),pe(f.path)||jn("Database URL must point to the root of a Firebase Database (not including a child path).");const E=nN(h,i,y,new l1(i,r));return new rN(E,i)}function tN(i,e){const r=Oc[e];(!r||r[i.key]!==i)&&jn(`Database ${e}(${i.repoInfo_}) has already been deleted.`),FE(i),delete r[i.key]}function nN(i,e,r,s){let l=Oc[e.name];l||(l={},Oc[e.name]=l);let u=l[i.toURLString()];return u&&jn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new bE(i,JE,r,s),l[i.toURLString()]=u,u}class rN{constructor(e,r){this._repoInternal=e,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(DE(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new fr(this._repo,Ce())),this._rootInternal}_delete(){return this._rootInternal!==null&&(tN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&jn("Cannot call "+e+" on a deleted database.")}}function iN(i=am(),e){const r=kC(i,"database").getImmediate({identifier:e});if(!r._instanceStarted){const s=fx("database");s&&sN(r,...s)}return r}function sN(i,e,r,s={}){i=Oi(i),i._checkNotDeleted("useEmulator");const l=`${e}:${r}`,u=i._repoInternal;if(i._instanceStarted){if(l===i._repoInternal.repoInfo_.host&&Sl(s,u.repoInfo_.emulatorOptions))return;jn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(u.repoInfo_.nodeAdmin)s.mockUserToken&&jn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new _l(_l.OWNER);else if(s.mockUserToken){const h=typeof s.mockUserToken=="string"?s.mockUserToken:px(s.mockUserToken,i.app.options.projectId);f=new _l(h)}$c(e)&&(hx(e),yx("Database",!0)),ZE(u,l,s,f)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(i){VC(PC),El(new Ms("database",(e,{instanceIdentifier:r})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return eN(s,l,u,r)},"PUBLIC").setMultipleInstances(!0)),wi(Hp,$p,i),wi(Hp,$p,"esm2020")}Rn.prototype.simpleListen=function(i,e){this.sendRequest("q",{p:i},e)};Rn.prototype.echo=function(i,e){this.sendRequest("echo",{d:i},e)};oN();const wl={apiKey:"AIzaSyCknjodvT095K0M3ASxCEeeoChn9RBU1CQ",authDomain:"realtime-board-ocd.firebaseapp.com",databaseURL:"https://realtime-board-ocd-default-rtdb.firebaseio.com",projectId:"realtime-board-ocd",storageBucket:"realtime-board-ocd.firebasestorage.app",messagingSenderId:"258036246275",appId:"1:258036246275:web:a93405647e4013aef3eb36"},lN=wl.apiKey&&wl.databaseURL&&wl.projectId;let Eg,Rc;lN?(Eg=OC().length?am():lm(wl),Rc=iN(Eg)):(console.warn("Firebase configuration is incomplete. Please set environment variables."),Rc=null);const un=Rc,z={lighter:{teal:"#C5E9ED",green:"#D5EDD3",olive:"#E6EBD0",orange:"#FBDCC8",red:"#FFCFC9",purple:"#E8D4ED",blue:"#CFE2F3",gray:"#E0E0E0"},primary:{teal:"#00A3AD",green:"#3F8C3F",olive:"#A2A32D",orange:"#E67437",red:"#C74634",purple:"#803D99",blue:"#0572CE",navy:"#344D66",gray:"#78716C",darkGray:"#57534E"},darker:{teal:"#1C4D52",green:"#22472B",olive:"#4A4A1F",orange:"#6B3A1F",red:"#5C2E29",purple:"#4A2952",blue:"#1F3D5C",gray:"#3D3D3D"}},pl=[{id:"1",lineNumber:1,priority:"P0",projectName:"Seeded topics - Bias",subtasks:[{id:"1-1",text:"Ideate and write prompts",completed:!1},{id:"1-2",text:"Samrat's feedback",completed:!1},{id:"1-3",text:"Draft of all topics for bias",completed:!1},{id:"1-4",text:"Palak Testing",completed:!1},{id:"1-5",text:"Deliver Age and Gender Bias",completed:!1},{id:"1-6",text:"Assess if the other biases for future release or discard",completed:!0}],owner:"Edosa/Palak",ownerTags:["1","2"],status:"inProgress",deliverableDate:"2026-01-31",release:"TBD",notes:"hand off end of Jan",projectTags:["Seeded Topics","Bias"]},{id:"2",lineNumber:2,priority:"P0",projectName:"VT - Seeded topic",subtasks:[{id:"2-1",text:"Align prompt to Text guidelines",completed:!1},{id:"2-2",text:"Studio Implementation",completed:!1},{id:"2-3",text:"Samrat & Gowri Review",completed:!0},{id:"2-4",text:"Palak testing",completed:!0},{id:"2-5",text:"Test Plan Review",completed:!0},{id:"2-6",text:"Hand off to April",completed:!0}],owner:"Samrat/Surya/Palak",ownerTags:["3","4","2"],status:"inProgress",deliverableDate:"------",notes:"Partnering with Fusion AI",projectTags:["Seeded Topics","VT"]},{id:"6",lineNumber:6,priority:"P0",projectName:"Redwood VT Metric",subtasks:[{id:"6-1",text:"Completed assembling the LLM as a judge evaluation step",completed:!0},{id:"6-2",text:"Setting up baseline",completed:!0},{id:"6-3",text:"-",completed:!0}],owner:"Sid",ownerTags:["5"],status:"inProgress",deliverableDate:"------",notes:"--",projectTags:["VT","Metrics"]},{id:"3",lineNumber:3,priority:"P1",projectName:"Seeded topic - Correct form factor",subtasks:[{id:"3-1",text:"Finalize list of form factors not covered by RDS",completed:!0},{id:"3-2",text:"Draft 1 output formatting",completed:!0},{id:"3-3",text:"Palak Testing",completed:!0}],owner:"Edosa/Palak",ownerTags:["1","2"],status:"inProgress",deliverableDate:"------",notes:"Partnering with Fusion AI, RDS and ODE",projectTags:["Seeded Topics","Form Factor"]},{id:"7",lineNumber:7,priority:"P1",projectName:"Automate the test-cases via metro",subtasks:[{id:"7-1",text:"Have an environment to execute test-cases",completed:!0},{id:"7-2",text:"Create test-case execution automation",completed:!0},{id:"7-3",text:"Have metric to check quality",completed:!1}],owner:"Palak",ownerTags:["2"],status:"inProgress",deliverableDate:"------",notes:"------",projectTags:["Testing","Automation"]},{id:"8",lineNumber:8,priority:"P1",projectName:"GenAI status messages",subtasks:[{id:"8-1",text:"Await for feedback from Samrat",completed:!0},{id:"8-2",text:"Make edit/changes for presentation to Ashok + company",completed:!0},{id:"8-3",text:"Analyse logs to segment status messages",completed:!0},{id:"8-4",text:"Await feedback from Samrat",completed:!1},{id:"8-5",text:"Reduce inference time to sub 12s responses",completed:!1},{id:"8-6",text:"Detailed documentation of time delta",completed:!1}],owner:"Surya",ownerTags:["4"],status:"inProgress",deliverableDate:"------",notes:"--",projectTags:["GenAI","Performance"]},{id:"9",lineNumber:9,priority:"P1",projectName:"VT - Strict",subtasks:[{id:"9-1",text:"Draft prompt",completed:!1},{id:"9-2",text:"Testing internally",completed:!1}],owner:"TBD",ownerTags:["8"],status:"todo",deliverableDate:"",notes:"",projectTags:["VT"]},{id:"10",lineNumber:10,priority:"P1",projectName:"VT - Verify",subtasks:[{id:"10-1",text:"Draft prompt",completed:!1},{id:"10-2",text:"Testing internally",completed:!1},{id:"10-3",text:"Draft implementation plan with partners for research",completed:!1}],owner:"TBD",ownerTags:["8"],status:"todo",deliverableDate:"TBD",notes:"",projectTags:["VT"]},{id:"11",lineNumber:11,priority:"P1",projectName:"Seeded X Filters",subtasks:[{id:"11-1",text:"FYI: Dev complete on Fusion/AI for content moderation",completed:!1},{id:"11-2",text:"Add moderation call",completed:!1}],owner:"TBD",ownerTags:["8"],status:"todo",deliverableDate:"",notes:"",projectTags:["Seeded Topics","Filters"]},{id:"12",lineNumber:12,priority:"P2",projectName:"MagicPrompt",subtasks:[{id:"12-1",text:"Draft the product plan",completed:!0},{id:"12-2",text:"PRFAQ",completed:!1},{id:"12-3",text:"Feasibility analysis",completed:!1}],owner:"Gowri/Palak",ownerTags:["6","2"],status:"inProgress",deliverableDate:"------",notes:"Review with Samrat"},{id:"13",lineNumber:13,priority:"P2",projectName:"QA Testing",subtasks:[{id:"13-1",text:"Test case generation",completed:!1},{id:"13-2",text:"Execute test cases",completed:!1},{id:"13-3",text:"Report generation",completed:!1}],owner:"Palak",ownerTags:["2"],status:"todo",deliverableDate:"TBD",notes:""},{id:"4",lineNumber:4,priority:"P3",projectName:"ROC - Metric",subtasks:[{id:"4-1",text:"First draft",completed:!0},{id:"4-2",text:"Samrat's Review",completed:!1},{id:"4-3",text:"work on feedback",completed:!0}],owner:"Sid",ownerTags:["5"],status:"inProgress",deliverableDate:"------",notes:"-- ------"},{id:"5",lineNumber:5,priority:"P3",projectName:"ROC - Testing",subtasks:[{id:"5-1",text:"First Draft",completed:!0},{id:"5-2",text:"Samrat Review",completed:!1},{id:"5-3",text:"Implement Gowri and Sweta's comments",completed:!0},{id:"5-4",text:"Work on Samrat's feedback",completed:!0}],owner:"Palak",ownerTags:["2"],status:"inProgress",deliverableDate:"------",notes:"--"},{id:"14",lineNumber:14,priority:"P3",projectName:"Research - Future Models",subtasks:[{id:"14-1",text:"Research new model architectures",completed:!1},{id:"14-2",text:"Document findings",completed:!1}],owner:"Sid",ownerTags:["5"],status:"todo",deliverableDate:"TBD",notes:"Long term research"},{id:"15",lineNumber:15,priority:"P4",projectName:"Documentation Updates",subtasks:[{id:"15-1",text:"Update API documentation",completed:!1},{id:"15-2",text:"Create user guides",completed:!1}],owner:"TBD",ownerTags:["8"],status:"todo",deliverableDate:"TBD",notes:"Nice to have"},{id:"16",lineNumber:16,priority:"Planned",projectName:"Mobile App Integration",subtasks:[{id:"16-1",text:"Define requirements",completed:!1},{id:"16-2",text:"Create mockups",completed:!1}],owner:"Design Team",status:"todo",deliverableDate:"Q2 2026",notes:"Pending approval",category:"Planned"},{id:"17",lineNumber:17,priority:"Planned",projectName:"Analytics Dashboard",subtasks:[{id:"17-1",text:"Gather metrics requirements",completed:!1},{id:"17-2",text:"Design dashboard layout",completed:!1}],owner:"Analytics Team",status:"todo",deliverableDate:"Q2 2026",notes:"Future roadmap",category:"Planned"},{id:"18",lineNumber:18,priority:"In Discussions",projectName:"Performance Optimization",subtasks:[{id:"18-1",text:"Identify bottlenecks",completed:!0},{id:"18-2",text:"Discuss with engineering team",completed:!1}],owner:"Samrat/Sid",ownerTags:["3","5"],status:"inProgress",deliverableDate:"TBD",notes:"Awaiting stakeholder input",category:"In Discussions"},{id:"19",lineNumber:19,priority:"Backlog",projectName:"Feature X Enhancement",subtasks:[{id:"19-1",text:"Collect user feedback",completed:!1}],owner:"Product",status:"todo",deliverableDate:"TBD",notes:"Low priority enhancement",category:"Backlog"}],gl=[{id:"planned",name:"Planned",color:"bg-[#E8D4ED] border-[#803D99]"},{id:"discussions",name:"In Discussions",color:"bg-[#C5E9ED] border-[#00A3AD]"},{id:"backlog",name:"Backlog",color:"bg-[#E0E0E0] border-[#78716C]"}],ml=[{id:"1",name:"Edosa",color:"bg-[#0572CE]"},{id:"2",name:"Palak",color:"bg-[#3F8C3F]"},{id:"3",name:"Samrat",color:"bg-[#C74634]"},{id:"4",name:"Surya",color:"bg-[#A2A32D]"},{id:"5",name:"Sid",color:"bg-[#803D99]"},{id:"6",name:"Gowri",color:"bg-[#E67437]"},{id:"7",name:"April",color:"bg-[#344D66]"},{id:"8",name:"TBD",color:"bg-[#78716C]"},{id:"9",name:"Samriddho",color:"bg-[#00A3AD]"}],Ng=["bg-[#0572CE]","bg-[#3F8C3F]","bg-[#C74634]","bg-[#A2A32D]","bg-[#803D99]","bg-[#E67437]","bg-[#344D66]","bg-[#00A3AD]","bg-[#78716C]","bg-[#57534E]"];function aN({project:i,onDrop:e,onClick:r,isHighlighted:s,isDarkTheme:l}){const[{isDragging:u},f]=zg(()=>({type:"sidebar-project",item:{id:i.id},collect:y=>({isDragging:y.isDragging()})}),[i.id]),[{isOver:h},m]=Bg(()=>({accept:"sidebar-project",drop:y=>{y.id!==i.id&&e(y.id,i.id)},collect:y=>({isOver:y.isOver()})}),[i.id,e]);return p.jsxs("div",{ref:y=>f(m(y)),onClick:r,className:`flex items-center gap-2 p-2 rounded cursor-pointer transition-all ${u?"opacity-50":""} ${h?"border-t-2 border-[#0572CE]":""} ${s?"bg-[#FFF9C4] ring-2 ring-[#F9A825]":l?"hover:bg-gray-700":"hover:bg-gray-100"}`,style:{opacity:u?.5:1},children:[p.jsx(Uc,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),p.jsx("span",{className:`text-sm truncate flex-1 ${l?"text-gray-200":"text-gray-900"}`,children:i.projectName})]})}function Tg({priority:i,isCustom:e,projects:r,onDrop:s,children:l}){const[{isOver:u},f]=Bg(()=>({accept:["card","sidebar-project"],drop:h=>{s(h.id,i,e)},collect:h=>({isOver:h.isOver()})}));return p.jsx("div",{ref:f,className:`transition-all ${u?"ring-4 ring-blue-400 ring-opacity-50":""}`,children:l})}function kg({project:i,onUpdate:e,onDelete:r,laneIndex:s,indexInLane:l,teammates:u,onShowOwnerModal:f,onShowTagModal:h,onShowDeliverablesModal:m,onShowProjectTagsModal:y,cardRef:E,isHighlighted:x,isDarkTheme:_}){const[{isDragging:D},M]=zg(()=>({type:"card",item:{id:i.id},collect:re=>({isDragging:re.isDragging()})})),j=i.subtasks||[],H=i.ownerTags||[],le=i.tags||[],ce=re=>{const ke=j.map(je=>je.id===re?{...je,completed:!je.completed}:je);e(i.id,{subtasks:ke})},ve=()=>{const re={id:`${i.id}-${Date.now()}`,text:"New subtask",completed:!1};e(i.id,{subtasks:[...j,re]})},Se=re=>{const ke=j.filter(je=>je.id!==re);e(i.id,{subtasks:ke})},it=()=>{const re={todo:"inProgress",inProgress:"done",done:"onHold",onHold:"todo"};e(i.id,{status:re[i.status]})},Ae={inProgress:"bg-[#E67437]",done:"bg-[#3F8C3F]",todo:"bg-[#78716C]",onHold:"bg-[#803D99]"},Ze={inProgress:"In progress",done:"Done",todo:"To do",onHold:"On hold"},st=_?{P0:{backgroundColor:z.darker.red,color:z.lighter.red,borderColor:z.primary.red},P1:{backgroundColor:z.darker.orange,color:z.lighter.orange,borderColor:z.primary.orange},P2:{backgroundColor:z.darker.olive,color:z.lighter.olive,borderColor:z.primary.olive},P3:{backgroundColor:z.darker.green,color:z.lighter.green,borderColor:z.primary.green},P4:{backgroundColor:z.darker.blue,color:z.lighter.blue,borderColor:z.primary.blue},Planned:{backgroundColor:z.darker.purple,color:z.lighter.purple,borderColor:z.primary.purple},"In Discussions":{backgroundColor:z.darker.teal,color:z.lighter.teal,borderColor:z.primary.teal},Backlog:{backgroundColor:z.darker.gray,color:z.lighter.gray,borderColor:z.primary.gray}}:{P0:{backgroundColor:z.lighter.red,color:z.primary.red,borderColor:z.primary.red},P1:{backgroundColor:z.lighter.orange,color:z.primary.orange,borderColor:z.primary.orange},P2:{backgroundColor:z.lighter.olive,color:z.primary.olive,borderColor:z.primary.olive},P3:{backgroundColor:z.lighter.green,color:z.primary.green,borderColor:z.primary.green},P4:{backgroundColor:z.lighter.blue,color:z.primary.blue,borderColor:z.primary.blue},Planned:{backgroundColor:z.lighter.purple,color:z.primary.purple,borderColor:z.primary.purple},"In Discussions":{backgroundColor:z.lighter.teal,color:z.primary.teal,borderColor:z.primary.teal},Backlog:{backgroundColor:z.lighter.gray,color:z.primary.gray,borderColor:z.primary.gray}};return p.jsxs("div",{ref:re=>{M(re),E&&(E.current=re)},style:{opacity:D?.5:1},className:`rounded-lg shadow-md p-5 border-2 hover:shadow-lg transition-all ${_?"bg-gray-800":"bg-white"} ${x?"border-yellow-400 ring-4 ring-yellow-300 ring-opacity-50":_?"border-gray-700":"border-gray-200"}`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[p.jsx(Uc,{className:"text-gray-400 w-5 h-5 cursor-move"}),p.jsx("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-bold border-2",style:st[i.priority]||{backgroundColor:"#f3f4f6",color:"#374151",borderColor:"#d1d5db"},children:i.priority}),(i.projectTags||[]).map((re,ke)=>p.jsx("div",{className:"px-2 py-0.5 rounded-md text-xs font-medium bg-gray-100 text-gray-700 border border-gray-300",children:re},ke)),p.jsx("button",{onClick:()=>y(i.id),className:"text-gray-400 hover:text-gray-600",title:"Manage project tags",children:p.jsx(vl,{className:"w-3.5 h-3.5"})})]}),p.jsx("button",{onClick:()=>r(i.id),className:"text-gray-400 hover:text-red-500 transition-colors",children:p.jsx(vn,{className:"w-4 h-4"})})]}),p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx("input",{type:"text",value:i.projectName,onChange:re=>e(i.id,{projectName:re.target.value}),className:`flex-1 min-w-0 text-lg font-bold border-b-2 border-transparent hover:border-gray-300 focus:border-[#0572CE] focus:outline-none px-1 py-1 ${_?"bg-gray-800 text-gray-100":"bg-white text-gray-900"}`}),p.jsx("button",{onClick:it,className:`${Ae[i.status]} text-white px-2.5 py-0.5 rounded-full text-[10px] font-semibold hover:opacity-80 transition-opacity whitespace-nowrap flex-shrink-0`,children:Ze[i.status]})]}),p.jsxs("div",{className:"space-y-1.5 mb-4",children:[j.map(re=>p.jsxs("div",{className:"flex items-start gap-2 group",children:[p.jsx("input",{type:"checkbox",checked:re.completed,onChange:()=>ce(re.id),className:"mt-1 w-3.5 h-3.5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),p.jsx("input",{type:"text",value:re.text,onChange:ke=>{const je=j.map(ye=>ye.id===re.id?{...ye,text:ke.target.value}:ye);e(i.id,{subtasks:je})},className:`flex-1 border-b border-transparent hover:border-gray-300 focus:border-[#0572CE] focus:outline-none px-1 text-xs ${re.completed?"line-through text-gray-400":_?"bg-gray-800 text-gray-200":"bg-white text-gray-900"}`}),p.jsx("button",{onClick:()=>Se(re.id),className:"opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-500 transition-all",children:p.jsx(vn,{className:"w-3 h-3"})})]},re.id)),p.jsxs("button",{onClick:ve,className:"flex items-center gap-1 text-xs text-gray-500 hover:text-blue-600 transition-colors mt-1",children:[p.jsx(In,{className:"w-3 h-3"}),"Add subtask"]})]}),p.jsxs("div",{className:"mb-2",children:[p.jsx("label",{className:`text-[10px] uppercase tracking-wide ${_?"text-gray-400":"text-gray-500"}`,children:"Owner"}),p.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[H.map(re=>{var ye;const ke=u.find(qe=>qe.id===re);if(!ke)return null;const je=((ye=ke.color.match(/#[0-9A-Fa-f]{6}/))==null?void 0:ye[0])||"#0572CE";return p.jsx("div",{className:"px-3 py-1 rounded-full text-xs font-bold text-white flex items-center gap-1",style:{backgroundColor:je},children:ke.name},re)}),p.jsx("button",{onClick:()=>f(i.id),className:"text-gray-400 hover:text-gray-600",children:p.jsx(yi,{className:"w-4 h-4"})})]})]}),p.jsxs("div",{className:"mb-2 flex gap-3",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:`text-[10px] uppercase tracking-wide ${_?"text-gray-400":"text-gray-500"}`,children:"Deliverable Date"}),p.jsx("input",{type:"date",id:`date-picker-${i.id}`,value:uN(i.deliverableDate),onChange:re=>e(i.id,{deliverableDate:re.target.value||""}),className:`w-full border-b border-transparent hover:border-gray-300 focus:border-[#0572CE] focus:outline-none text-xs cursor-pointer ${_?"bg-gray-800 text-gray-200":"bg-white text-gray-900"}`,style:{colorScheme:_?"dark":"light"}})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:`text-[10px] uppercase tracking-wide ${_?"text-gray-400":"text-gray-500"}`,children:"Release"}),p.jsxs("select",{value:i.release||"TBD",onChange:re=>e(i.id,{release:re.target.value}),className:`w-full border-b border-transparent hover:border-gray-300 focus:border-[#0572CE] focus:outline-none text-xs ${_?"bg-gray-800 text-gray-200":"bg-white text-gray-900"}`,children:[p.jsx("option",{value:"26B",children:"26B"}),p.jsx("option",{value:"26C",children:"26C"}),p.jsx("option",{value:"26D",children:"26D"}),p.jsx("option",{value:"27A",children:"27A"}),p.jsx("option",{value:"27B",children:"27B"}),p.jsx("option",{value:"27C",children:"27C"}),p.jsx("option",{value:"27D",children:"27D"}),p.jsx("option",{value:"28A",children:"28A"}),p.jsx("option",{value:"TBD",children:"TBD"})]})]})]}),p.jsxs("div",{className:"mb-2",children:[p.jsx("label",{className:`text-[10px] uppercase tracking-wide ${_?"text-gray-400":"text-gray-500"}`,children:"Notes"}),p.jsx("textarea",{value:i.notes,onChange:re=>e(i.id,{notes:re.target.value}),className:`w-full border-b border-transparent hover:border-gray-300 focus:border-[#0572CE] focus:outline-none px-1 text-xs resize-none ${_?"bg-gray-800 text-gray-200":"bg-white text-gray-900"}`,rows:1})]}),p.jsx("div",{className:"mb-2",children:p.jsxs("button",{onClick:()=>m(i.id),className:"text-blue-600 hover:text-blue-800 text-xs font-medium flex items-center gap-1 underline",children:[p.jsx(cc,{className:"w-3 h-3"}),"Deliverable (",(i.deliverables||[]).length,")"]})}),p.jsxs("div",{className:"mt-2",children:[p.jsx("label",{className:"text-[10px] text-gray-500 uppercase tracking-wide",children:"Tagged Teammates"}),p.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[le.map(re=>{var ye;const ke=u.find(qe=>qe.id===re);if(!ke)return null;const je=((ye=ke.color.match(/#[0-9A-Fa-f]{6}/))==null?void 0:ye[0])||"#0572CE";return p.jsx("div",{className:"w-7 h-7 rounded-full text-xs font-bold text-white flex items-center justify-center",style:{backgroundColor:je},title:ke.name,children:ke.name.charAt(0).toUpperCase()},re)}),p.jsx("button",{onClick:()=>h(i.id),className:"text-gray-400 hover:text-gray-600",children:p.jsx(yi,{className:"w-4 h-4"})})]})]}),i.lastModifiedBy&&i.lastModifiedAt&&p.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:p.jsxs("div",{className:"text-[10px] text-gray-400 italic",children:["Last edited by ",p.jsx("span",{className:"font-semibold text-gray-600",children:i.lastModifiedBy}),"  ",new Date(i.lastModifiedAt).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})]})})]})}function Or(i){if(Array.isArray(i))return i.map(e=>Or(e));if(i!==null&&typeof i=="object"){const e={};return Object.keys(i).forEach(r=>{const s=i[r];s!==void 0&&(e[r]=Or(s))}),e}return i}function uN(i){return/^\d{4}-\d{2}-\d{2}$/.test(i)?i:""}function cN(){const[i,e]=Y.useState([]),[r,s]=Y.useState([]),[l,u]=Y.useState([]),[f,h]=Y.useState(null),[m,y]=Y.useState(""),[E,x]=Y.useState(!1),[_,D]=Y.useState(null),[M,j]=Y.useState(null),[H,le]=Y.useState(null),[ce,ve]=Y.useState(null),[Se,it]=Y.useState(""),[Ae,Ze]=Y.useState(null),[st,re]=Y.useState(""),[ke,je]=Y.useState(!1),[ye,qe]=Y.useState(""),[Ft,kt]=Y.useState(!1),[$e,Ue]=Y.useState(""),[U,Z]=Y.useState(!1),[V,N]=Y.useState(!1),[P,ae]=Y.useState(!0),[de,_e]=Y.useState(null),[oe,Ee]=Y.useState([]),[me,be]=Y.useState(""),[Ye,Hr]=Y.useState([]),[J,$r]=Y.useState(!1),[Zt,Mi]=Y.useState({}),[Js,hr]=Y.useState(!1),$t=Y.useRef({});Y.useEffect(()=>{const S=localStorage.getItem("figJamUserName");S?(qe(S),Z(!0)):kt(!0)},[]),Y.useEffect(()=>{if(!U)return;if(!un){e(pl),s(gl),u(ml),N(!0);return}const S=Dr(un,"projects"),I=Dr(un,"customRows"),G=Dr(un,"teammates");let $=!1,F=!1,ne=!1;const Me=()=>{$&&F&&ne&&N(!0)},en=hl(S,vt=>{const Ie=vt.val();if(!Ie)or(S,Or(pl)),e(pl);else{const Le=Array.isArray(Ie)?Ie:Object.values(Ie);e(Le)}$=!0,Me()},()=>{e(pl),$=!0,Me()}),De=hl(I,vt=>{const Ie=vt.val();if(!Ie)or(I,Or(gl)),s(gl);else{const Le=Array.isArray(Ie)?Ie:Object.values(Ie);s(Le)}F=!0,Me()},()=>{s(gl),F=!0,Me()}),pt=hl(G,vt=>{const Ie=vt.val();if(!Ie)or(G,Or(ml)),u(ml);else{const Le=Array.isArray(Ie)?Ie:Object.values(Ie);u(Le)}ne=!0,Me()},()=>{u(ml),ne=!0,Me()});return()=>{en(),De(),pt()}},[U]),Y.useEffect(()=>{if(!U||!ye||!un)return;const S=Dr(un,`presence/${ye.replace(/[.#$[\]]/g,"_")}`),I=Dr(un,"presence"),G={name:ye,timestamp:Date.now()};or(S,G),qE(S).remove();const $=hl(I,ne=>{const Me=ne.val();Mi(Me||{})}),F=setInterval(()=>{or(S,{name:ye,timestamp:Date.now()})},3e4);return()=>{$(),clearInterval(F),YE(S)}},[U,ye]),Y.useEffect(()=>{const S=new Set;(i||[]).forEach(I=>{(I.projectTags||[]).forEach(G=>S.add(G))}),Hr(Array.from(S).sort())},[i]);const ot=(S,I)=>{if(un&&or(Dr(un,S),Or(I)),un)or(Dr(un,S),Or(I));else{localSetter&&localSetter(I);try{localStorage.setItem(S,JSON.stringify(I))}catch(G){console.error("Error saving to localStorage:",G)}}},ht=(S,I)=>{const G=(i||[]).map($=>$.id===S?{...$,...I,lastModifiedBy:ye,lastModifiedAt:Date.now()}:$);ot("projects",G)},wn=(S,I,G)=>{const $=(i||[]).map(F=>F.id===S?{...F,priority:I,category:G?I:void 0,lastModifiedBy:ye,lastModifiedAt:Date.now()}:F);ot("projects",$)},Wr=S=>{const I=(i||[]).filter(G=>G.id!==S);ot("projects",I)},Vr=(S,I=!1)=>{const G={id:`${Date.now()}`,lineNumber:(i||[]).length+1,priority:S,projectName:"New Project",subtasks:[],owner:"TBD",ownerTags:[],status:"todo",deliverableDate:"",notes:"",category:I?S:void 0,lastModifiedBy:ye,lastModifiedAt:Date.now()},$=[...i||[],G];ot("projects",$)},Zs=()=>{const S={id:`custom-${Date.now()}`,name:"New Category",color:"bg-[#D5E0ED] border-[#344D66]"},I=[...r||[],S];ot("customRows",I)},eo=S=>{const I=(r||[]).find(G=>G.id===S);if(I){const G=(i||[]).filter(F=>F.category!==I.name),$=(r||[]).filter(F=>F.id!==S);ot("projects",G,setProjectsHydrated),ot("customRows",$)}},to=(S,I)=>{h(S),y(I)},Li=S=>{var $;const I=($=(r||[]).find(F=>F.id===S))==null?void 0:$.name,G=(r||[]).map(F=>F.id===S?{...F,name:m}:F);if(ot("customRows",G),I){const F=(i||[]).map(ne=>ne.category===I?{...ne,priority:m,category:m,lastModifiedBy:ye,lastModifiedAt:Date.now()}:ne);ot("projects",F,setProjectsHydrated)}h(null),y("")},pr=()=>{if(Se.trim()){const S={id:`${Date.now()}`,name:Se.trim(),color:Ng[(l||[]).length%Ng.length]},I=[...l||[],S];ot("teammates",I),it("")}},no=S=>{const I=(l||[]).filter($=>$.id!==S);ot("teammates",I);const G=(i||[]).map($=>({...$,ownerTags:($.ownerTags||[]).filter(F=>F!==S),tags:($.tags||[]).filter(F=>F!==S),lastModifiedBy:ye,lastModifiedAt:Date.now()}));ot("projects",G)},gr=(S,I)=>{Ze(S),re(I)},Ln=()=>{if(st.trim()&&Ae){const S=(l||[]).map(I=>I.id===Ae?{...I,name:st.trim()}:I);ot("teammates",S),Ze(null),re("")}},Fn=S=>oe.length===0?S:S.filter(I=>{const G=I.projectTags||[];return oe.some($=>G.includes($))}),Fi=["P0","P1","P2","P3","P4"],bt={P0:Fn((i||[]).filter(S=>S.priority==="P0")),P1:Fn((i||[]).filter(S=>S.priority==="P1")),P2:Fn((i||[]).filter(S=>S.priority==="P2")),P3:Fn((i||[]).filter(S=>S.priority==="P3")),P4:Fn((i||[]).filter(S=>S.priority==="P4"))};(r||[]).forEach(S=>{bt[S.name]=Fn((i||[]).filter(I=>I.category===S.name))});const ea=J?{P0:{borderColor:z.primary.red},P1:{borderColor:z.primary.orange},P2:{borderColor:z.primary.olive},P3:{borderColor:z.primary.green},P4:{borderColor:z.primary.blue}}:{P0:{borderColor:z.primary.red},P1:{borderColor:z.primary.orange},P2:{borderColor:z.primary.olive},P3:{borderColor:z.primary.green},P4:{borderColor:z.primary.blue}},Gr=J?{P0:{label:"P0 - Critical",style:{color:z.lighter.red}},P1:{label:"P1 - High Priority",style:{color:z.lighter.orange}},P2:{label:"P2 - Medium Priority",style:{color:z.lighter.olive}},P3:{label:"P3 - Low Priority",style:{color:z.lighter.green}},P4:{label:"P4 - Future Work",style:{color:z.lighter.blue}}}:{P0:{label:"P0 - Critical",style:{color:z.primary.red}},P1:{label:"P1 - High Priority",style:{color:z.primary.orange}},P2:{label:"P2 - Medium Priority",style:{color:z.primary.olive}},P3:{label:"P3 - Low Priority",style:{color:z.primary.green}},P4:{label:"P4 - Future Work",style:{color:z.primary.blue}}},zi=J?{Planned:{color:z.lighter.purple},"In Discussions":{color:z.lighter.teal},Backlog:{color:z.lighter.gray}}:{Planned:{color:z.primary.purple},"In Discussions":{color:z.primary.teal},Backlog:{color:z.primary.gray}},Bi=J?{Planned:{borderColor:z.primary.purple},"In Discussions":{borderColor:z.primary.teal},Backlog:{borderColor:z.primary.gray}}:{Planned:{borderColor:z.primary.purple},"In Discussions":{borderColor:z.primary.teal},Backlog:{borderColor:z.primary.gray}},Ui=S=>Bi[S]||(J?{borderColor:z.primary.navy}:{borderColor:z.primary.navy});Y.useEffect(()=>{(i||[]).forEach(S=>{$t.current[S.id]||($t.current[S.id]={current:null})})},[i]);const Hi=S=>{const I=$t.current[S];I&&I.current&&(I.current.scrollIntoView({behavior:"smooth",block:"center"}),_e(S),setTimeout(()=>_e(null),2e3))},xn=()=>{const S=["P0","P1","P2","P3","P4"];let I=[...i||[]];return oe.length>0&&(I=I.filter(G=>{const $=G.projectTags||[];return oe.some(F=>$.includes(F))})),I.sort((G,$)=>{const F=S.indexOf(G.priority),ne=S.indexOf($.priority);return F!==-1&&ne!==-1?F!==ne?F-ne:G.lineNumber-$.lineNumber:F!==-1?-1:ne!==-1?1:G.priority!==$.priority?G.priority.localeCompare($.priority):G.lineNumber-$.lineNumber})},zn=(S,I)=>{const G=(i||[]).find(F=>F.id===S),$=(i||[]).find(F=>F.id===I);if(G&&$){const F=[...i||[]],Me=F.filter(Le=>Le.priority===$.priority).sort((Le,Bn)=>Le.lineNumber-Bn.lineNumber).filter(Le=>Le.id!==S),en=Me.findIndex(Le=>Le.id===I),De={...G,priority:$.priority,category:$.category,lastModifiedBy:ye,lastModifiedAt:Date.now()};Me.splice(en,0,De);const pt=Me.map((Le,Bn)=>({...Le,lineNumber:Bn+1})),Ie=[...F.filter(Le=>Le.priority!==$.priority&&Le.id!==S),...pt];ot("projects",Ie)}};return V?p.jsxs("div",{className:`relative w-full min-h-screen flex transition-colors duration-300 ${J?"bg-gray-900":"bg-[#f5f5f5]"}`,children:[p.jsx("div",{className:`fixed left-0 top-0 bottom-0 shadow-lg transition-all duration-300 z-20 ${J?"bg-gray-800 border-r border-gray-700":"bg-white border-r border-gray-200"} ${P?"w-80":"w-0"}`,children:p.jsxs("div",{className:`h-full flex flex-col ${P?"":"hidden"}`,children:[p.jsxs("div",{className:`p-4 flex items-center justify-between ${J?"border-b border-gray-700":"border-b border-gray-200"}`,children:[p.jsx("h2",{className:`font-bold text-lg ${J?"text-gray-100":"text-gray-900"}`,children:"All Projects"}),p.jsx("button",{onClick:()=>ae(!1),className:J?"text-gray-400 hover:text-gray-300":"text-gray-400 hover:text-gray-600",children:p.jsx(zw,{className:"w-5 h-5"})})]}),p.jsx("div",{className:`p-3 ${J?"border-b border-gray-700":"border-b border-gray-200"}`,children:p.jsxs("button",{onClick:()=>Vr("P0"),className:"w-full flex items-center justify-center gap-2 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors bg-[#0572CE] hover:bg-[#1F3D5C]",children:[p.jsx(In,{className:"w-4 h-4"}),"Add New Project"]})}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-3",children:[p.jsxs("div",{className:`text-xs font-semibold mb-2 px-2 ${J?"text-gray-400":"text-gray-500"}`,children:[xn().length," ",oe.length>0?"FILTERED":""," PROJECTS",oe.length>0&&p.jsxs("span",{className:"text-[#0572CE] ml-1",children:["(",(i||[]).length," total)"]})]}),p.jsx("div",{className:"space-y-1",children:xn().map((S,I,G)=>{const $=I>0?G[I-1]:null,F=$&&$.priority!==S.priority;return p.jsxs("div",{children:[F&&p.jsxs("div",{className:"flex items-center gap-2 py-2 px-2",children:[p.jsx("div",{className:`flex-1 h-px ${J?"bg-gray-600":"bg-gray-300"}`}),p.jsx("span",{className:`text-xs font-bold ${J?"text-gray-300":"text-gray-600"}`,children:S.priority}),p.jsx("div",{className:`flex-1 h-px ${J?"bg-gray-600":"bg-gray-300"}`})]}),I===0&&p.jsxs("div",{className:"flex items-center gap-2 py-2 px-2",children:[p.jsx("div",{className:`flex-1 h-px ${J?"bg-gray-600":"bg-gray-300"}`}),p.jsx("span",{className:`text-xs font-bold ${J?"text-gray-300":"text-gray-600"}`,children:S.priority}),p.jsx("div",{className:`flex-1 h-px ${J?"bg-gray-600":"bg-gray-300"}`})]}),p.jsx(aN,{project:S,onDrop:zn,onClick:()=>Hi(S.id),isHighlighted:de===S.id,isDarkTheme:J})]},S.id)})})]})]})}),!P&&p.jsx("button",{onClick:()=>ae(!0),className:"fixed left-0 top-20 bg-white border border-gray-200 rounded-r-lg p-2 shadow-lg z-20 hover:bg-gray-50 transition-colors",children:p.jsx(kp,{className:"w-5 h-5 text-gray-600"})}),p.jsxs("div",{className:`flex-1 min-h-screen transition-colors duration-300 ${J?"bg-gray-900":"bg-[#f5f5f5]"}`,children:[p.jsx("div",{className:`fixed top-0 right-0 shadow-sm z-10 px-6 py-4 transition-colors duration-300 ${J?"bg-gray-800 border-b border-gray-700":"bg-white border-b border-gray-200"}`,style:{left:P?"320px":"0"},children:p.jsxs("div",{className:"flex items-center justify-between max-w-screen-2xl mx-auto",children:[p.jsx("h1",{className:`text-2xl font-bold ${J?"text-gray-100":"text-gray-900"}`,children:"Project Board  Oracle Conversation Design Team"}),p.jsxs("div",{className:"flex items-center gap-4",children:[ye&&p.jsxs("div",{className:`text-sm font-medium px-3 py-1 rounded-full border ${J?"text-green-300 bg-green-900 border-green-700":"text-gray-700 bg-green-100 border-green-300"}`,children:[" ",ye]}),p.jsxs("div",{className:`text-sm ${J?"text-gray-300":"text-gray-600"}`,children:[(i||[]).length," projects  ",(l||[]).length," teammates"]}),Object.keys(Zt).length>0&&p.jsxs("button",{onClick:()=>hr(!0),className:`flex items-center gap-2 px-3 py-1.5 rounded-full border transition-all hover:scale-105 ${J?"bg-gray-800 border-gray-700 hover:border-green-500":"bg-white border-gray-300 hover:border-green-500"}`,title:"Click to see all online users",children:[p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),p.jsxs("span",{className:`text-xs font-semibold ${J?"text-gray-300":"text-gray-700"}`,children:[Object.keys(Zt).length," Online"]})]}),p.jsxs("div",{className:"flex items-center -space-x-2",children:[Object.values(Zt).slice(0,5).map((S,I)=>p.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white border-2 ${J?"border-gray-800":"border-white"}`,style:{backgroundColor:z.primary[["blue","green","orange","purple","teal"][I%5]],zIndex:5-I},children:S.name.charAt(0).toUpperCase()},I)),Object.keys(Zt).length>5&&p.jsxs("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold border-2 ${J?"bg-gray-700 text-gray-300 border-gray-800":"bg-gray-200 text-gray-700 border-white"}`,style:{zIndex:0},children:["+",Object.keys(Zt).length-5]})]})]}),p.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors bg-[#1B5E20] hover:bg-[#0D3D12]",children:[p.jsx(yi,{className:"w-4 h-4"}),"Team"]}),p.jsxs("button",{onClick:Zs,className:"flex items-center gap-2 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors bg-[#147A87] hover:bg-[#0D545E]",children:[p.jsx(In,{className:"w-4 h-4"}),"Row"]}),p.jsx("button",{onClick:()=>$r(!J),className:"flex items-center gap-2 bg-gray-600 text-white px-3 py-2 rounded-lg text-sm font-medium hover:bg-gray-700 transition-colors",title:J?"Switch to Light Theme":"Switch to Dark Theme",children:J?p.jsx(Xw,{className:"w-4 h-4"}):p.jsx(Gw,{className:"w-4 h-4"})}),p.jsxs("button",{onClick:()=>je(!0),className:"flex items-center gap-2 bg-[#424242] text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-[#2C2C2C] transition-colors",children:[p.jsx(bp,{className:"w-4 h-4"}),"Intro"]})]})]})}),Ye.length>0&&p.jsx("div",{className:`pt-20 px-6 pb-2 transition-all duration-300 ${P?"ml-80":"ml-0"}`,children:p.jsxs("div",{className:`max-w-screen-2xl mx-auto rounded-lg border-2 p-4 shadow-md transition-colors duration-300 ${J?"bg-gray-800 border-gray-600":"bg-white border-gray-300"}`,children:[p.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[p.jsx($w,{className:`w-5 h-5 ${J?"text-gray-300":"text-gray-600"}`}),p.jsx("h3",{className:`font-bold text-lg ${J?"text-gray-100":"text-gray-700"}`,children:"Filter by Project Tags"}),oe.length>0&&p.jsx("button",{onClick:()=>Ee([]),className:`ml-auto text-sm underline ${J?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-700"}`,children:"Clear All"})]}),p.jsx("div",{className:"flex flex-wrap gap-2",children:Ye.map(S=>{const I=oe.includes(S),G=(i||[]).filter($=>($.projectTags||[]).includes(S)).length;return p.jsxs("button",{onClick:()=>{Ee(I?oe.filter($=>$!==S):[...oe,S])},className:`px-3 py-2 rounded-lg text-sm font-medium transition-all border-2 ${I?"bg-gray-600 text-white border-gray-600 shadow-md":J?"bg-gray-700 text-gray-200 border-gray-600 hover:bg-gray-600":"bg-white text-gray-600 border-gray-300 hover:bg-gray-100"}`,children:[S," ",p.jsxs("span",{className:"ml-1 opacity-75",children:["(",G,")"]})]},S)})}),oe.length>0&&p.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:p.jsxs("p",{className:"text-sm text-gray-600",children:["Showing projects with tags: ",p.jsx("span",{className:"font-semibold text-[#0572CE]",children:oe.join(", ")})]})})]})}),p.jsx("div",{className:`${Ye.length>0?"pt-6":"pt-20"} px-6 pb-6 transition-all duration-300 ${P?"ml-80":"ml-0"}`,children:p.jsxs("div",{className:"flex flex-col gap-6 max-w-screen-2xl mx-auto",children:[Fi.map((S,I)=>{var G,$,F;return p.jsx(Tg,{priority:S,isCustom:!1,projects:bt[S],onDrop:wn,children:p.jsxs("div",{className:"border-2 rounded-lg p-5",style:ea[S],children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("h2",{className:"font-bold text-xl",style:Gr[S].style,children:Gr[S].label}),p.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${J?"bg-gray-700 text-gray-200":"bg-white text-gray-900"}`,children:[((G=bt[S])==null?void 0:G.length)||0," ",(($=bt[S])==null?void 0:$.length)===1?"project":"projects"]})]}),p.jsxs("button",{onClick:()=>Vr(S),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors border shadow-sm ${J?"bg-gray-700 hover:bg-gray-600 text-gray-200 border-gray-600":"bg-white hover:bg-gray-50 text-gray-700 border-gray-300"}`,children:[p.jsx(In,{className:"w-4 h-4"}),"Add Card"]})]}),p.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2",children:((F=bt[S])==null?void 0:F.length)>0?bt[S].map((ne,Me)=>($t.current[ne.id]||($t.current[ne.id]={current:null}),p.jsx("div",{className:"flex-shrink-0 w-80",children:p.jsx(kg,{project:ne,onUpdate:ht,onDelete:Wr,laneIndex:I,indexInLane:Me,teammates:l,onShowOwnerModal:D,onShowTagModal:j,onShowDeliverablesModal:le,onShowProjectTagsModal:ve,cardRef:$t.current[ne.id],isHighlighted:de===ne.id,isDarkTheme:J})},ne.id))):p.jsx("div",{className:`w-full text-center py-8 text-sm ${J?"text-gray-500":"text-gray-400"}`,children:'No projects in this priority level. Click "Add Card" to create one.'})})]})},S)}),(r||[]).map((S,I)=>{var G,$,F;return p.jsx(Tg,{priority:S.name,isCustom:!0,projects:bt[S.name],onDrop:wn,children:p.jsxs("div",{className:"border-2 rounded-lg p-5",style:Ui(S.name),children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[f===S.id?p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"text",value:m,onChange:ne=>y(ne.target.value),className:"font-bold text-xl px-2 py-1 border-2 border-blue-500 rounded focus:outline-none",autoFocus:!0}),p.jsx("button",{onClick:()=>Li(S.id),className:"text-green-600 hover:text-green-700",children:p.jsx(Ss,{className:"w-5 h-5"})})]}):p.jsxs(p.Fragment,{children:[p.jsx("h2",{className:"font-bold text-xl",style:zi[S.name]||{color:"#374151"},children:S.name}),p.jsx("button",{onClick:()=>to(S.id,S.name),className:"text-gray-400 hover:text-gray-600",children:p.jsx(Qu,{className:"w-4 h-4"})})]}),p.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${J?"bg-gray-700 text-gray-200":"bg-white text-gray-900"}`,children:[((G=bt[S.name])==null?void 0:G.length)||0," ",(($=bt[S.name])==null?void 0:$.length)===1?"project":"projects"]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("button",{onClick:()=>Vr(S.name,!0),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors border shadow-sm ${J?"bg-gray-700 hover:bg-gray-600 text-gray-200 border-gray-600":"bg-white hover:bg-gray-50 text-gray-700 border-gray-300"}`,children:[p.jsx(In,{className:"w-4 h-4"}),"Add Card"]}),p.jsx("button",{onClick:()=>eo(S.id),className:"text-gray-400 hover:text-red-500 transition-colors p-2",children:p.jsx(vn,{className:"w-5 h-5"})})]})]}),p.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2",children:((F=bt[S.name])==null?void 0:F.length)>0?bt[S.name].map((ne,Me)=>($t.current[ne.id]||($t.current[ne.id]={current:null}),p.jsx("div",{className:"flex-shrink-0 w-80",children:p.jsx(kg,{project:ne,onUpdate:ht,onDelete:Wr,laneIndex:Fi.length+I,indexInLane:Me,teammates:l,onShowOwnerModal:D,onShowTagModal:j,onShowDeliverablesModal:le,onShowProjectTagsModal:ve,cardRef:$t.current[ne.id],isHighlighted:de===ne.id,isDarkTheme:J})},ne.id))):p.jsx("div",{className:`w-full text-center py-8 text-sm ${J?"text-gray-500":"text-gray-400"}`,children:'No projects in this category. Click "Add Card" to create one.'})})]})},S.id)})]})}),E&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>x(!1),children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full m-4 max-h-[80vh] overflow-y-auto",onClick:S=>S.stopPropagation(),children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h2",{className:"text-xl font-bold",children:"Manage Teammates"}),p.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:p.jsx(vn,{className:"w-5 h-5"})})]}),p.jsx("div",{className:"space-y-2 mb-4",children:(l||[]).map(S=>p.jsx("div",{className:"flex flex-col gap-2 px-4 py-3 rounded-lg border-2 border-gray-200",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:`w-8 h-8 ${S.color} rounded-full flex items-center justify-center text-white font-bold text-sm`,children:S.name[0]}),Ae===S.id?p.jsx("div",{className:"flex-1",children:p.jsx("input",{type:"text",value:st,onChange:I=>re(I.target.value),placeholder:"Name",className:"w-full px-2 py-1 border-2 border-blue-500 rounded focus:outline-none",autoFocus:!0,onKeyDown:I=>{I.key==="Enter"&&Ln(),I.key==="Escape"&&(Ze(null),re(""))}})}):p.jsx("div",{className:"flex-1",children:p.jsx("div",{className:"font-medium",children:S.name})}),p.jsxs("div",{className:"flex items-center gap-1",children:[Ae===S.id?p.jsx("button",{onClick:Ln,className:"text-green-600 hover:text-green-700",children:p.jsx(Ss,{className:"w-5 h-5"})}):p.jsx("button",{onClick:()=>gr(S.id,S.name),className:"text-gray-400 hover:text-gray-600",children:p.jsx(Qu,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>no(S.id),className:"text-gray-400 hover:text-red-500",children:p.jsx(Dp,{className:"w-4 h-4"})})]})]})},S.id))}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{type:"text",value:Se,onChange:S=>it(S.target.value),placeholder:"New teammate name",className:"flex-1 px-3 py-2 border-2 border-gray-300 rounded-lg focus:border-[#0572CE] focus:outline-none",onKeyDown:S=>{S.key==="Enter"&&pr()}}),p.jsx("button",{onClick:pr,className:"text-white px-4 py-2 rounded-lg transition-colors bg-[#3F8C3F] hover:bg-[#22472B]",children:p.jsx(In,{className:"w-5 h-5"})})]})]})}),_&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>D(null),children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full m-4",onClick:S=>S.stopPropagation(),children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h2",{className:"text-xl font-bold",children:"Set Owners"}),p.jsx("button",{onClick:()=>D(null),className:"text-gray-400 hover:text-gray-600",children:p.jsx(vn,{className:"w-5 h-5"})})]}),p.jsx("div",{className:"space-y-2 mb-4",children:(l||[]).map(S=>{var $;const I=(i||[]).find(F=>F.id===_),G=($=I==null?void 0:I.ownerTags)==null?void 0:$.includes(S.id);return p.jsxs("button",{onClick:()=>{var F;G?ht(_,{ownerTags:(F=I==null?void 0:I.ownerTags)==null?void 0:F.filter(ne=>ne!==S.id)}):ht(_,{ownerTags:[...(I==null?void 0:I.ownerTags)||[],S.id]})},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg border-2 transition-all ${G?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[p.jsx("div",{className:`w-8 h-8 ${S.color} rounded-full flex items-center justify-center text-white font-bold text-sm`,children:S.name[0]}),p.jsx("span",{className:"font-medium",children:S.name}),G&&p.jsx(Ss,{className:"w-5 h-5 text-green-600 ml-auto"})]},S.id)})}),p.jsx("button",{onClick:()=>D(null),className:"w-full bg-[#0572CE] text-white px-4 py-2 rounded-lg hover:bg-[#025A9F] transition-colors",children:"Done"})]})}),M&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>j(null),children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full m-4",onClick:S=>S.stopPropagation(),children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h2",{className:"text-xl font-bold",children:"Tag Teammates"}),p.jsx("button",{onClick:()=>j(null),className:"text-gray-400 hover:text-gray-600",children:p.jsx(vn,{className:"w-5 h-5"})})]}),p.jsx("div",{className:"space-y-2 mb-4",children:(l||[]).map(S=>{var $;const I=(i||[]).find(F=>F.id===M),G=($=I==null?void 0:I.tags)==null?void 0:$.includes(S.id);return p.jsxs("button",{onClick:()=>{var F;G?ht(M,{tags:(F=I==null?void 0:I.tags)==null?void 0:F.filter(ne=>ne!==S.id)}):ht(M,{tags:[...(I==null?void 0:I.tags)||[],S.id]})},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg border-2 transition-all ${G?"border-[#0572CE] bg-[#E3F2FD]":"border-gray-200 hover:border-gray-300"}`,children:[p.jsx("div",{className:`w-8 h-8 ${S.color} rounded-full flex items-center justify-center text-white font-bold text-sm`,children:S.name[0]}),p.jsx("span",{className:"font-medium",children:S.name}),G&&p.jsx(Ss,{className:"w-5 h-5 text-blue-600 ml-auto"})]},S.id)})}),p.jsx("button",{onClick:()=>j(null),className:"w-full bg-[#0572CE] text-white px-4 py-2 rounded-lg hover:bg-[#025A9F] transition-colors",children:"Done"})]})}),ce&&(()=>{const S=(i||[]).find(F=>F.id===ce),I=(S==null?void 0:S.projectTags)||[],G=F=>{I.includes(F)?ht(ce,{projectTags:I.filter(ne=>ne!==F)}):ht(ce,{projectTags:[...I,F]})},$=()=>{(me.trim()&&!Ye.includes(me.trim())||me.trim()&&Ye.includes(me.trim()))&&(G(me.trim()),be(""))};return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>ve(null),children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full m-4 max-h-[80vh] overflow-y-auto",onClick:F=>F.stopPropagation(),children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(vl,{className:"w-5 h-5 text-[#0572CE]"}),p.jsx("h2",{className:"text-xl font-bold",children:"Manage Project Tags"})]}),p.jsx("button",{onClick:()=>ve(null),className:"text-gray-400 hover:text-gray-600",children:p.jsx(vn,{className:"w-5 h-5"})})]}),p.jsx("p",{className:"text-sm text-gray-600 mb-4",children:'Add tags to categorize and filter your projects (e.g., "Seeded Topic", "Chat component", "ROC")'}),p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add New Tag"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{type:"text",value:me,onChange:F=>be(F.target.value),onKeyDown:F=>{F.key==="Enter"&&$()},placeholder:"Enter tag name...",className:"flex-1 px-3 py-2 border-2 border-gray-300 rounded-lg focus:border-[#0572CE] focus:outline-none"}),p.jsx("button",{onClick:$,className:"bg-[#0572CE] text-white px-4 py-2 rounded-lg hover:bg-[#025A9F] transition-colors",children:p.jsx(In,{className:"w-4 h-4"})})]})]}),Ye.length>0&&p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Existing Tags"}),p.jsx("div",{className:"space-y-2",children:Ye.map(F=>{const ne=I.includes(F);return p.jsxs("button",{onClick:()=>G(F),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg border-2 transition-all ${ne?"border-[#0572CE] bg-[#E3F2FD]":"border-gray-200 hover:border-gray-300"}`,children:[p.jsx("div",{className:`px-2 py-1 rounded-md text-xs font-medium ${ne?"bg-[#0572CE] text-white":"bg-gray-200 text-gray-700"}`,children:F}),ne&&p.jsx(Ss,{className:"w-5 h-5 text-[#0572CE] ml-auto"})]},F)})})]}),I.length>0&&p.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[p.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Selected Tags (",I.length,")"]}),p.jsx("div",{className:"flex flex-wrap gap-2",children:I.map(F=>p.jsx("div",{className:"px-2 py-1 rounded-md text-xs font-medium bg-[#E3F2FD] text-[#0572CE] border border-[#3B8FDB]",children:F},F))})]}),p.jsx("button",{onClick:()=>ve(null),className:"w-full bg-[#0572CE] text-white px-4 py-2 rounded-lg hover:bg-[#025A9F] transition-colors",children:"Done"})]})})})(),H&&(()=>{const S=(i||[]).find(De=>De.id===H),I=(S==null?void 0:S.deliverables)||[],G={todo:"bg-[#78716C]",inProgress:"bg-[#0572CE]",done:"bg-[#3F8C3F]",blocked:"bg-[#C74634]"},$={todo:"To Do",inProgress:"In Progress",done:"Done",blocked:"Blocked"},F=()=>{const De={id:Date.now().toString(),text:"New Deliverable",status:"todo"};ht(H,{deliverables:[...I,De]})},ne=(De,pt)=>{const vt=I.map(Ie=>Ie.id===De?{...Ie,...pt}:Ie);ht(H,{deliverables:vt})},Me=De=>{const pt=I.filter(vt=>vt.id!==De);ht(H,{deliverables:pt})},en=(De,pt)=>{const vt=["todo","inProgress","done","blocked"],Ie=vt.indexOf(pt),Le=vt[(Ie+1)%vt.length];ne(De,{status:Le})};return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>le(null),children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-2xl w-full m-4 max-h-[80vh] overflow-y-auto",onClick:De=>De.stopPropagation(),children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(cc,{className:"w-6 h-6 text-blue-600"}),p.jsx("h2",{className:"text-xl font-bold",children:"Deliverables"})]}),p.jsx("button",{onClick:()=>le(null),className:"text-gray-400 hover:text-gray-600",children:p.jsx(vn,{className:"w-5 h-5"})})]}),p.jsx("div",{className:"mb-4 text-sm text-gray-600",children:p.jsx("strong",{children:S==null?void 0:S.projectName})}),p.jsx("div",{className:"space-y-3 mb-4",children:I.length===0?p.jsx("div",{className:"text-center py-8 text-gray-400",children:'No deliverables yet. Click "Add Deliverable" to create one.'}):I.map(De=>p.jsx("div",{className:"border-2 border-gray-200 rounded-lg p-4 hover:border-gray-300 transition-colors",children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("input",{type:"text",value:De.text,onChange:pt=>ne(De.id,{text:pt.target.value}),className:"w-full font-medium text-sm border-b border-transparent hover:border-gray-300 focus:border-[#0572CE] focus:outline-none px-1 mb-2",placeholder:"Deliverable name..."}),p.jsx("button",{onClick:()=>en(De.id,De.status),className:`${G[De.status]} text-white px-3 py-1 rounded-full text-xs font-semibold hover:opacity-80 transition-opacity`,children:$[De.status]})]}),p.jsx("button",{onClick:()=>Me(De.id),className:"text-red-500 hover:text-red-700",children:p.jsx(Dp,{className:"w-4 h-4"})})]})},De.id))}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("button",{onClick:F,className:"flex-1 bg-[#0572CE] text-white px-4 py-2 rounded-lg hover:bg-[#025A9F] transition-colors flex items-center justify-center gap-2",children:[p.jsx(In,{className:"w-4 h-4"}),"Add Deliverable"]}),p.jsx("button",{onClick:()=>le(null),className:"px-6 bg-gray-200 text-gray-700 py-2 rounded-lg hover:bg-gray-300 transition-colors",children:"Close"})]})]})})})(),Js&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>hr(!1),children:p.jsxs("div",{className:`rounded-lg shadow-xl p-6 max-w-md w-full m-4 ${J?"bg-gray-800":"bg-white"}`,onClick:S=>S.stopPropagation(),children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),p.jsxs("h2",{className:`text-xl font-bold ${J?"text-white":"text-gray-900"}`,children:["Online Users (",Object.keys(Zt).length,")"]})]}),p.jsx("button",{onClick:()=>hr(!1),className:"hover:text-gray-600 text-gray-400",children:p.jsx(vn,{className:"w-5 h-5"})})]}),p.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:Object.entries(Zt).sort((S,I)=>S[1].name.localeCompare(I[1].name)).map(([S,I],G)=>{const $=["blue","green","orange","purple","teal","red","olive","navy"],F=$[G%$.length],ne=Math.floor((Date.now()-I.timestamp)/1e3),Me=I.name===ye;return p.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg ${J?"bg-gray-700 hover:bg-gray-650":"bg-gray-50 hover:bg-gray-100"} ${Me?"ring-2 ring-green-500":""}`,children:[p.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold text-white flex-shrink-0",style:{backgroundColor:z.primary[F]},children:I.name.charAt(0).toUpperCase()}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:`font-semibold ${J?"text-white":"text-gray-900"}`,children:I.name}),Me&&p.jsx("span",{className:"text-xs px-2 py-0.5 bg-green-500 text-white rounded-full",children:"You"})]}),p.jsx("span",{className:`text-xs ${J?"text-gray-400":"text-gray-500"}`,children:ne<60?"Active now":`Active ${Math.floor(ne/60)}m ago`})]}),p.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full flex-shrink-0"})]},S)})}),p.jsx("div",{className:`mt-4 pt-4 border-t ${J?"border-gray-700":"border-gray-200"}`,children:p.jsx("p",{className:`text-xs text-center ${J?"text-gray-400":"text-gray-500"}`,children:"Real-time presence powered by Firebase"})})]})}),ke&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>je(!1),children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-2xl w-full m-4 max-h-[85vh] overflow-y-auto",onClick:S=>S.stopPropagation(),children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(bp,{className:"w-6 h-6 text-[#0572CE]"}),p.jsx("h2",{className:"text-2xl font-bold",children:"How to Use the Project Board"})]}),p.jsx("button",{onClick:()=>je(!1),className:"text-gray-400 hover:text-gray-600",children:p.jsx(vn,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"space-y-5",children:[p.jsx("p",{className:"text-gray-700",children:"Welcome to your real-time collaborative project board! This FigJam-style board helps your team manage projects with draggable cards, priority levels, deliverables tracking, and instant Firebase synchronization."}),p.jsxs("div",{className:"bg-gradient-to-r from-[#FAFAFA] to-[#F5F5F5] border-2 border-[#BDBDBD] rounded-lg p-4",children:[p.jsxs("h3",{className:"font-bold text-[#212121] mb-3 flex items-center gap-2",children:[p.jsx(kp,{className:"w-5 h-5"}),"Sidebar Navigation"]}),p.jsxs("ul",{className:"space-y-2 text-sm text-[#424242]",children:[p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Quick Jump:"})," Click on any project name in the left sidebar to instantly highlight and scroll to that card"]}),p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Drag Projects:"})," Drag project names in the sidebar to reorder them within the same priority level"]}),p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Visual Dividers:"})," Color-coded sections separate P0-P4 priorities and custom rows"]}),p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Toggle Sidebar:"})," Use the chevron arrows to show/hide the sidebar for more space"]})]})]}),p.jsxs("div",{className:"bg-gradient-to-r from-[#E3F2FD] to-[#E8F5E9] border-2 border-[#3B8FDB] rounded-lg p-4",children:[p.jsxs("h3",{className:"font-bold text-[#025A9F] mb-3 flex items-center gap-2",children:[p.jsx(Uc,{className:"w-5 h-5"}),"Moving Project Cards"]}),p.jsxs("p",{className:"text-sm text-[#0572CE]",children:[p.jsx("strong",{children:"Drag and Drop:"})," Click and hold any project card by the grip handle () and drag it to any priority row (P0-P4) or custom category. The priority will update automatically!"]})]}),p.jsxs("div",{className:"bg-gradient-to-r from-[#E8F5E9] to-[#F1F8E9] border-2 border-[#4CAF50] rounded-lg p-4",children:[p.jsxs("h3",{className:"font-bold text-[#1B5E20] mb-3 flex items-center gap-2",children:[p.jsx(Qu,{className:"w-5 h-5"}),"Editing Projects"]}),p.jsxs("ul",{className:"space-y-2 text-sm text-[#2E7D32]",children:[p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Project Name:"})," Click on the project title to edit it inline"]}),p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Subtasks:"})," Check/uncheck boxes to mark completion, edit text inline, or delete with the X button"]}),p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Add Subtask:"}),' Click "+ Add subtask" at the bottom of the subtask list']}),p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Notes & Dates:"})," Click any field to edit directly"]})]})]}),p.jsxs("div",{className:"bg-gradient-to-r from-[#FFF3E0] to-[#FFF9C4] border-2 border-[#FF9800] rounded-lg p-4",children:[p.jsxs("h3",{className:"font-bold text-[#E65100] mb-3 flex items-center gap-2",children:[p.jsx(yi,{className:"w-5 h-5"}),"Assigning Team Members"]}),p.jsxs("ul",{className:"space-y-2 text-sm text-[#F57C00]",children:[p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Set Owners:"})," Click the ",p.jsx(yi,{className:"w-3 h-3 inline"}),' icon next to "Owner" to assign project owners (can be multiple people)']}),p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Tag Teammates:"})," Click the ",p.jsx(yi,{className:"w-3 h-3 inline"}),' icon under "Tagged Teammates" to loop in collaborators']}),p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Manage Team:"}),' Use "Manage Teammates" in the toolbar to add/edit/delete team members']})]})]}),p.jsxs("div",{className:"bg-gradient-to-r from-[#F3E5F5] to-[#FCE4EC] border-2 border-[#8E24AA] rounded-lg p-4",children:[p.jsx("h3",{className:"font-bold text-[#4A148C] mb-3",children:" Status Management"}),p.jsx("p",{className:"text-sm text-[#6A1B9A] mb-2",children:"Click the status badge to cycle through:"}),p.jsxs("div",{className:"flex flex-wrap gap-2 text-xs font-semibold",children:[p.jsx("span",{className:"bg-[#9E9E9E] text-white px-3 py-1 rounded-full",children:"To do"}),p.jsx("span",{className:"text-gray-400",children:""}),p.jsx("span",{className:"bg-[#F57C00] text-white px-3 py-1 rounded-full",children:"In progress"}),p.jsx("span",{className:"text-gray-400",children:""}),p.jsx("span",{className:"bg-[#2E7D32] text-white px-3 py-1 rounded-full",children:"Done"}),p.jsx("span",{className:"text-gray-400",children:""}),p.jsx("span",{className:"bg-[#6A1B9A] text-white px-3 py-1 rounded-full",children:"On hold"}),p.jsx("span",{className:"text-gray-400",children:""}),p.jsx("span",{className:"text-gray-500",children:"back to To do"})]})]}),p.jsxs("div",{className:"bg-gradient-to-r from-[#FFEBEE] to-[#FFF3E0] border-2 border-[#E57361] rounded-lg p-4",children:[p.jsxs("h3",{className:"font-bold text-[#A63C2C] mb-3 flex items-center gap-2",children:[p.jsx(Mw,{className:"w-5 h-5"}),"Deliverable Dates"]}),p.jsxs("p",{className:"text-sm text-[#C74634]",children:["Click on the ",p.jsx("strong",{children:"Deliverable Date"})," field to open a calendar picker and set project deadlines."]})]}),p.jsxs("div",{className:"bg-gradient-to-r from-[#E8EAF6] to-[#F3E5F5] border-2 border-[#5C6BC0] rounded-lg p-4",children:[p.jsxs("h3",{className:"font-bold text-[#283593] mb-3 flex items-center gap-2",children:[p.jsx(cc,{className:"w-5 h-5"}),"Deliverables Management"]}),p.jsxs("ul",{className:"space-y-2 text-sm text-[#3F51B5]",children:[p.jsxs("li",{children:[" ",p.jsx("strong",{children:"View Deliverables:"}),' Click the "Deliverable" link on any project card']}),p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Add Items:"}),' Click "Add Deliverable" to create new deliverable items']}),p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Edit & Status:"})," Edit deliverable names inline and click status badges to cycle through: To Do  In Progress  Done  Blocked"]}),p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Track Progress:"}),' The card shows the total count of deliverables (e.g., "Deliverable (3)")']})]})]}),p.jsxs("div",{className:"bg-gradient-to-r from-[#E1F5FE] to-[#E0F2F1] border-2 border-[#0572CE] rounded-lg p-4",children:[p.jsxs("h3",{className:"font-bold text-[#025A9F] mb-3 flex items-center gap-2",children:[p.jsx(vl,{className:"w-5 h-5"}),"Project Tags & Filtering"]}),p.jsxs("ul",{className:"space-y-2 text-sm text-[#0572CE]",children:[p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Add Tags:"})," Click the ",p.jsx(vl,{className:"w-3 h-3 inline"}),' icon on any project card to add category tags (e.g., "Seeded Topics", "VT", "Bias")']}),p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Filter Projects:"})," Use the tag filter bar above P0 to show only projects with specific tags"]}),p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Multiple Tags:"})," Select multiple tags to see projects that have any of the selected tags"]}),p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Create Tags:"})," Add new tags on-the-fly when managing project tags - they'll be available for all projects"]}),p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Sidebar Filtering:"})," The left sidebar also respects tag filters, showing only filtered projects"]})]})]}),p.jsxs("div",{className:"bg-gradient-to-r from-[#E0F2F1] to-[#E0F7FA] border-2 border-[#4DB5C2] rounded-lg p-4",children:[p.jsxs("h3",{className:"font-bold text-[#147A87] mb-3 flex items-center gap-2",children:[p.jsx(In,{className:"w-5 h-5"}),"Adding & Organizing"]}),p.jsxs("ul",{className:"space-y-2 text-sm text-[#1B9AAA]",children:[p.jsxs("li",{children:[" ",p.jsx("strong",{children:"New Card:"}),' Click "Add Card" in any priority row to create a new project']}),p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Custom Rows:"}),' Click "Add Custom Row" in the toolbar to create categories like "Backlog" or "Planning"']}),p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Delete Card:"})," Click the X button in the top-right corner of any card"]}),p.jsxs("li",{children:[" ",p.jsx("strong",{children:"Edit Row Names:"})," Click the  icon next to custom row names to rename them"]})]})]}),p.jsxs("div",{className:"bg-gradient-to-r from-[#F3E5F5] to-[#FCE4EC] border-2 border-[#8E24AA] rounded-lg p-5",children:[p.jsx("h3",{className:"font-bold text-[#4A148C] mb-2",children:" Real-Time Collaboration"}),p.jsxs("ul",{className:"space-y-2 text-sm text-[#6A1B9A]",children:[p.jsx("li",{children:" All changes sync instantly across all team members"}),p.jsx("li",{children:" See who made the last edit on each project card"}),p.jsxs("li",{children:[" Your name (",ye,") appears in the top toolbar"]}),p.jsx("li",{children:" Multiple people can edit simultaneously!"})]})]}),p.jsx("div",{className:"bg-gray-100 border-2 border-gray-300 rounded-lg p-4",children:p.jsxs("p",{className:"text-sm text-gray-700 text-center italic",children:[" ",p.jsx("strong",{children:"Pro Tip:"})," All changes are saved automatically and synced in real-time!"]})})]}),p.jsx("button",{onClick:()=>je(!1),className:"w-full bg-[#0572CE] text-white px-4 py-2 rounded-lg hover:bg-[#025A9F] transition-colors mt-6 font-semibold",children:"Got it! Let's get started "})]})}),Ft&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-8",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Welcome to the Project Board! "}),p.jsx("p",{className:"text-gray-700 mb-6",children:"Please enter your name so your teammates can see who makes changes to the board."}),p.jsx("input",{type:"text",value:$e,onChange:S=>Ue(S.target.value),onKeyDown:S=>{S.key==="Enter"&&$e.trim()&&(localStorage.setItem("figJamUserName",$e.trim()),qe($e.trim()),kt(!1),Z(!0))},placeholder:"Enter your name...",className:"w-full border-2 border-gray-300 rounded-lg px-4 py-2 mb-4 focus:outline-none focus:border-[#0572CE]",autoFocus:!0}),p.jsx("button",{onClick:()=>{$e.trim()&&(localStorage.setItem("figJamUserName",$e.trim()),qe($e.trim()),kt(!1),Z(!0))},disabled:!$e.trim(),className:"w-full bg-[#0572CE] text-white px-4 py-2 rounded-lg hover:bg-[#025A9F] transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed font-semibold",children:"Continue"})]})})]})]}):p.jsx("div",{className:"w-full min-h-screen bg-gradient-to-br from-[#E3F2FD] to-[#F5F5F5] flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"inline-block animate-spin rounded-full h-16 w-16 border-b-4 border-[#0572CE] mb-4"}),p.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Loading Oracle Conversation Design Board"}),p.jsx("p",{className:"text-gray-600",children:"Syncing real-time data..."})]})})}function dN(){return p.jsx(z0,{backend:Iw,children:p.jsx("div",{className:"w-full min-h-screen bg-[#f5f5f5]",children:p.jsx(cN,{})})})}C_.createRoot(document.getElementById("root")).render(p.jsx(dN,{}));
